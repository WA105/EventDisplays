{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=20)}([function(e,t,r){\"use strict\";r.r(t),function(e,n){r.d(t,\"VOID\",function(){return a}),r.d(t,\"setLoggerFunction\",function(){return c}),r.d(t,\"vtkLogMacro\",function(){return d}),r.d(t,\"vtkInfoMacro\",function(){return g}),r.d(t,\"vtkDebugMacro\",function(){return M}),r.d(t,\"vtkErrorMacro\",function(){return A}),r.d(t,\"vtkWarningMacro\",function(){return f}),r.d(t,\"TYPED_ARRAYS\",function(){return p}),r.d(t,\"capitalize\",function(){return m}),r.d(t,\"uncapitalize\",function(){return h}),r.d(t,\"formatBytesToProperUnit\",function(){return T}),r.d(t,\"formatNumbersWithThousandSeparator\",function(){return D}),r.d(t,\"obj\",function(){return E}),r.d(t,\"get\",function(){return I}),r.d(t,\"set\",function(){return w}),r.d(t,\"setGet\",function(){return C}),r.d(t,\"getArray\",function(){return O}),r.d(t,\"setArray\",function(){return S}),r.d(t,\"setGetArray\",function(){return b}),r.d(t,\"algo\",function(){return j}),r.d(t,\"EVENT_ABORT\",function(){return v}),r.d(t,\"event\",function(){return z}),r.d(t,\"newInstance\",function(){return R}),r.d(t,\"chain\",function(){return P}),r.d(t,\"isVtkObject\",function(){return k}),r.d(t,\"traverseInstanceTree\",function(){return B}),r.d(t,\"debounce\",function(){return U}),r.d(t,\"throttle\",function(){return F}),r.d(t,\"keystore\",function(){return V}),r.d(t,\"proxy\",function(){return Q}),r.d(t,\"proxyPropertyMapping\",function(){return Y}),r.d(t,\"proxyPropertyState\",function(){return W}),r.d(t,\"normalizeWheel\",function(){return Z});var i=r(1);let o=0;const a=Symbol(\"void\");const s={};function u(){}[\"log\",\"debug\",\"info\",\"warn\",\"error\",\"time\",\"timeEnd\",\"group\",\"groupEnd\"].forEach(e=>{s[e]=u}),e.console=console.hasOwnProperty(\"log\")?console:s;const l={debug:u,error:e.console.error||u,info:e.console.info||u,log:e.console.log||u,warn:e.console.warn||u};function c(e,t){l[e]&&(l[e]=t||u)}function d(...e){l.log(...e)}function g(...e){l.info(...e)}function M(...e){l.debug(...e)}function A(...e){l.error(...e)}function f(...e){l.warn(...e)}const p={Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Int8Array:Int8Array,Uint16Array:Uint16Array,Int16Array:Int16Array,Uint32Array:Uint32Array,Int32Array:Int32Array};function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e){return e.charAt(0).toLowerCase()+e.slice(1)}function T(e,t=2,r=1e3){const n=[\"TB\",\"GB\",\"MB\",\"KB\"];let i=Number(e),o=\"B\";for(;i>r;)i/=r,o=n.pop();return`${i.toFixed(t)} ${o}`}function D(e,t=\" \"){const r=[];let n=e;for(;n>1e3;)r.push(`000${n%1e3}`.slice(-3)),n=Math.floor(n/1e3);return n>0&&r.push(n),r.reverse(),r.join(t)}function y(e){Object.keys(e).forEach(t=>{Array.isArray(e[t])&&(e[t]=[].concat(e[t]))})}function N(e){return e.isA?e.getState():e}function E(e={},t={}){y(t);const r=[];function n(e){r[e]=null}var i;return Number.isInteger(t.mtime)||(t.mtime=++o),t.classHierarchy=[\"vtkObject\"],e.isDeleted=(()=>!!t.deleted),e.modified=(n=>{t.deleted?A(\"instance deleted - cannot call any method\"):n&&n<e.getMTime()||(t.mtime=++o,r.forEach(t=>t&&t(e)))}),e.onModified=(e=>{if(t.deleted)return A(\"instance deleted - cannot call any method\"),null;const i=r.length;return r.push(e),i=i,Object.freeze({unsubscribe:function(){n(i)}})}),e.getMTime=(()=>t.mtime),e.isA=(e=>{let r=t.classHierarchy.length;for(;r--;)if(t.classHierarchy[r]===e)return!0;return!1}),e.getClassName=((e=0)=>t.classHierarchy[t.classHierarchy.length-1-e]),e.set=((r={},n=!1,i=!1)=>{let o=!1;return Object.keys(r).forEach(a=>{const s=i?null:e[`set${m(a)}`];s&&Array.isArray(r[a])?o=s(...r[a])||o:s?o=s(r[a])||o:(-1!==[\"mtime\"].indexOf(a)||n||f(`Warning: Set value to model directly ${a}, ${r[a]}`),t[a]=r[a],o=!0)}),o}),e.get=((...e)=>{if(!e.length)return t;const r={};return e.forEach(e=>{r[e]=t[e]}),r}),e.getReferenceByName=(e=>t[e]),e.delete=(()=>{Object.keys(t).forEach(e=>delete t[e]),r.forEach((e,t)=>n(t)),t.deleted=!0}),e.getState=(()=>{const r=Object.assign({},t,{vtkClass:e.getClassName()});Object.keys(r).forEach(e=>{null===r[e]||void 0===r[e]?delete r[e]:r[e].isA?r[e]=r[e].getState():Array.isArray(r[e])&&(r[e]=r[e].map(N))});const n={};return Object.keys(r).sort().forEach(e=>{n[e]=r[e]}),n.mtime&&delete n.mtime,n}),e.shallowCopy=((r,n=!1)=>{if(r.getClassName()!==e.getClassName())throw new Error(`Cannot ShallowCopy ${r.getClassName()} into ${e.getClassName()}`);const i=r.get(),o=Object.keys(t).sort();Object.keys(i).sort().forEach(e=>{const r=o.indexOf(e);-1===r?n&&M(`add ${e} in shallowCopy`):o.splice(r,1),t[e]=i[e]}),o.length&&n&&M(`Untouched keys: ${o.join(\", \")}`),e.modified()}),e}function I(e,t,r){r.forEach(r=>{\"object\"==typeof r?e[`get${m(r.name)}`]=(()=>t[r.name]):e[`get${m(r)}`]=(()=>t[r])})}const x={enum:(e,t,r)=>n=>{if(\"string\"==typeof n){if(void 0!==r.enum[n])return t[r.name]!==r.enum[n]&&(t[r.name]=r.enum[n],e.modified(),!0);throw A(`Set Enum with invalid argument ${r}, ${n}`),new RangeError(\"Set Enum with invalid string argument\")}if(\"number\"==typeof n){if(t[r.name]!==n){if(-1!==Object.keys(r.enum).map(e=>r.enum[e]).indexOf(n))return t[r.name]=n,e.modified(),!0;throw A(`Set Enum outside numeric range ${r}, ${n}`),new RangeError(\"Set Enum outside numeric range\")}return!1}throw A(`Set Enum with invalid argument (String/Number) ${r}, ${n}`),new TypeError(\"Set Enum with invalid argument (String/Number)\")}};function L(e){if(\"object\"==typeof e){const t=x[e.type];if(t)return(r,n)=>t(r,n,e);throw A(`No setter for field ${e}`),new TypeError(\"No setter for field\")}return function(t,r){return function(n){return r.deleted?(A(\"instance deleted - cannot call any method\"),!1):r[e]!==n&&(r[e]=n,t.modified(),!0)}}}function w(e,t,r){r.forEach(r=>{\"object\"==typeof r?e[`set${m(r.name)}`]=L(r)(e,t):e[`set${m(r)}`]=L(r)(e,t)})}function C(e,t,r){I(e,t,r),w(e,t,r)}function O(e,t,r){r.forEach(r=>{e[`get${m(r)}`]=(()=>[].concat(t[r])),e[`get${m(r)}ByReference`]=(()=>t[r])})}function S(e,t,r,n,i){r.forEach(r=>{e[`set${m(r)}`]=((...o)=>{if(t.deleted)return A(\"instance deleted - cannot call any method\"),!1;let a=o;if(1===a.length&&Array.isArray(a[0])&&(a=a[0]),a.length!==n){if(!(a.length<n&&void 0!==i))throw new RangeError(\"Invalid number of values for array setter\");for(a=[].concat(a);a.length<n;)a.push(i)}let s=!1;return t[r].forEach((e,t)=>{if(e!==a[t]){if(s)return;s=!0}}),(s||t[r].length!==a.length)&&(t[r]=[].concat(a),e.modified()),!0}),e[`set${m(r)}From`]=(e=>{const n=t[r];e.forEach((e,t)=>{n[t]=e})})})}function b(e,t,r,n,i){O(e,t,r),S(e,t,r,n,i)}function j(e,t,r,n){function o(r,n=0){if(t.deleted)A(\"instance deleted - cannot call any method\");else{if(n>=t.numberOfInputs){let r=`algorithm ${e.getClassName()} only has `;return r+=`${t.numberOfInputs}`,void A(r+=\" input ports. To add more input ports, use addInputData()\")}(t.inputData[n]!==r||t.inputConnection[n])&&(t.inputData[n]=r,t.inputConnection[n]=null,e.modified&&e.modified())}}function a(r,n=0){if(t.deleted)A(\"instance deleted - cannot call any method\");else{if(n>=t.numberOfInputs){let r=`algorithm ${e.getClassName()} only has `;return r+=`${t.numberOfInputs}`,void A(r+=\" input ports. To add more input ports, use addInputConnection()\")}t.inputData[n]=null,t.inputConnection[n]=r}}function s(r=0){return t.deleted?(A(\"instance deleted - cannot call any method\"),null):(e.shouldUpdate()&&e.update(),t.output[r])}if(t.inputData?t.inputData=t.inputData.map(i.a):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(i.a):t.inputConnection=[],t.output?t.output=t.output.map(i.a):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(i.a):t.inputArrayToProcess=[],t.numberOfInputs=r,e.shouldUpdate=(()=>{const r=e.getMTime();let i=n,o=1/0;for(;i--;){if(!t.output[i])return!0;const e=t.output[i].getMTime();if(e<r)return!0;e<o&&(o=e)}for(i=t.numberOfInputs;i--;)if(t.inputConnection[i]&&t.inputConnection[i].filter.shouldUpdate())return!0;for(i=t.numberOfInputs;i--;)if(e.getInputData(i)&&e.getInputData(i).getMTime()>o)return!0;return!1}),t.numberOfInputs){let r=t.numberOfInputs;for(;r--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=o,e.setInputConnection=a,e.addInputData=function(e){t.deleted?A(\"instance deleted - cannot call any method\"):(t.numberOfInputs++,o(e,t.numberOfInputs-1))},e.addInputConnection=function(e){t.deleted?A(\"instance deleted - cannot call any method\"):(t.numberOfInputs++,a(e,t.numberOfInputs-1))},e.getInputData=function(e=0){return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]},e.getInputConnection=function(e=0){return t.inputConnection[e]}}n&&(e.getOutputData=s,e.getOutputPort=function(t=0){const r=()=>s(t);return r.filter=e,r}),e.update=(()=>{const r=[];if(t.numberOfInputs){let n=0;for(;n<t.numberOfInputs;)r[n]=e.getInputData(n),n++}e.shouldUpdate()&&e.requestData&&e.requestData(r,t.output)}),e.getNumberOfInputPorts=(()=>t.numberOfInputs),e.getNumberOfOutputPorts=(()=>n),e.getInputArrayToProcess=(e=>{const r=t.inputArrayToProcess[e],n=t.inputData[e];return r&&n?n[`get${r.fieldAssociation}`]().getArray(r.arrayName):null}),e.setInputArrayToProcess=((e,r,n,i=\"Scalars\")=>{for(;t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:r,fieldAssociation:n,attributeType:i}})}const v=Symbol(\"Event abort\");function z(e,t,r){const n=[],i=e.delete;let o=1;function a(e){for(let t=0;t<n.length;++t){const[r]=n[t];if(r===e)return void n.splice(t,1)}}var s;e[`invoke${m(r)}`]=function(){if(t.deleted)return void A(\"instance deleted - cannot call any method\");const r=n.slice();for(let t=0;t<r.length;++t){const[,n,i]=r[t];if(i<0)setTimeout(()=>n.apply(e,arguments),1-i);else if(n&&n.apply(e,arguments)===v)break}},e[`on${m(r)}`]=((e,r=0)=>{if(t.deleted)return A(\"instance deleted - cannot call any method\"),null;const i=o++;return n.push([i,e,r]),n.sort((e,t)=>t[2]-e[2]),i=i,Object.freeze({unsubscribe:function(){a(i)}})}),e.delete=(()=>{i(),n.forEach(([e])=>a(e))})}function R(e,t){const r=(t={})=>{const r={};return e(r,{},t),Object.freeze(r)};return t&&i.a.register(t,r),r}function P(...e){return(...t)=>e.filter(e=>!!e).forEach(e=>e(...t))}function k(e){return e&&e.isA&&e.isA(\"vtkObject\")}function B(e,t,r=[],n=[]){if(k(e)){if(n.indexOf(e)>=0)return r;n.push(e);const i=t(e);void 0!==i&&r.push(i);const o=e.get();Object.keys(o).forEach(e=>{const i=o[e];Array.isArray(i)?i.forEach(e=>{B(e,t,r,n)}):B(i,t,r,n)})}return r}function U(e,t,r){let n;return(...i)=>{const o=this,a=r&&!n;clearTimeout(n),n=setTimeout(()=>{n=null,r||e.apply(o,i)},t),a&&e.apply(o,i)}}function F(e,t){let r=!1,n=null;function i(){r=!1,null!==n&&(o(...n),n=null)}function o(...o){r?n=o:(r=!0,e(...o),setTimeout(i,t))}return o}function V(e,t,r={}){t.keystore=Object.assign(t.keystore||{},r),e.setKey=((e,r)=>{t.keystore[e]=r}),e.getKey=((e,r)=>t.keystore[e]),e.getAllKeys=((e,r)=>Object.keys(t.keystore)),e.deleteKey=((e,r)=>delete t.keystore[e]),e.clearKeystore=(()=>e.getAllKeys().forEach(e=>delete t.keystore[e]))}let _=1;const G=\"__root__\";function Q(e,t){V(e,t);const r=e.delete;t.proxyId=`${_++}`,t.ui=JSON.parse(JSON.stringify(t.ui||[])),I(e,t,[\"proxyId\",\"proxyGroup\",\"proxyName\"]),C(e,t,[\"proxyManager\"]);const i={},o={};function a(e,t){o[t]||(o[t]=[]);const r=o[t];for(let t=0;t<e.length;t++)r.push(e[t].name),i[e[t].name]=e[t],e[t].children&&e[t].children.length&&a(e[t].children,e[t].name)}function s(r=G){const n=[],i=t.proxyId,a=function(e=G){return o[e]}(r)||[];for(let t=0;t<a.length;t++){const r=a[t],o=e[`get${m(r)}`],u={id:i,name:r,value:o?o():void 0},l=s(r);l.length&&(u.children=l),n.push(u)}return n}a(t.ui,G),e.updateUI=(r=>{t.ui=JSON.parse(JSON.stringify(r||[])),Object.keys(i).forEach(e=>delete i[e]),Object.keys(o).forEach(e=>delete o[e]),a(t.ui,G),e.modified()}),e.updateProxyProperty=((e,t)=>{const r=i[e];r?Object.assign(r,t):i[e]=Object.assign({},t)}),e.activate=(()=>{if(t.proxyManager){const r=`setActive${m(e.getProxyGroup().slice(0,-1))}`;t.proxyManager[r]&&t.proxyManager[r](e)}}),t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=((e,r)=>{r in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[r]=[]),t.propertyLinkSubscribers[r].push(e)}),e.gcPropertyLinks=(r=>{const n=t.propertyLinkSubscribers[r]||[];for(;n.length;)n.pop().unbind(e)}),t.propertyLinkMap={},e.getPropertyLink=((e,r=!1)=>{if(t.propertyLinkMap[e])return t.propertyLinkMap[e];let n=null;const i=[];let o=0,a=!1;function s(r,s=!1){if(a)return null;const u=[];let l=null;for(o=i.length;o--;){const e=i[o];e.instance===r?l=e:u.push(e)}const c=l.instance[`get${m(l.propertyName)}`]();if(c!==n||s){for(n=c,a=!0;u.length;){const e=u.pop();e.instance.set({[e.propertyName]:n})}a=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=c),c}function u(e,t){const r=[];for(o=i.length;o--;){const n=i[o];n.instance!==e||n.propertyName!==t&&void 0!==t||(n.subscription.unsubscribe(),r.push(o))}for(;r.length;)i.splice(r.pop(),1)}const l={bind:function(r,n,o=!1){const a=r.onModified(s),l=i[0];return i.push({instance:r,propertyName:n,subscription:a}),o&&(t.propertyLinkMap[e].persistent&&void 0!==t.propertyLinkMap[e].value?r.set({[n]:t.propertyLinkMap[e].value}):l&&s(l.instance,!0)),{unsubscribe:()=>u(r,n)}},unbind:u,unsubscribe:function(){for(;i.length;)i.pop().subscription.unsubscribe()},persistent:r};return t.propertyLinkMap[e]=l,l}),e.listPropertyNames=(()=>s().map(e=>e.name)),e.getPropertyByName=(e=>s().find(t=>t.name===e)),e.getPropertyDomainByName=(e=>i[e].domain),e.getProxySection=(()=>({id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:s()})),e.delete=(()=>{const n=Object.keys(t.propertyLinkMap);let i=n.length;for(;i--;)t.propertyLinkMap[n[i]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),r()}),n(function(){if(t.links)for(let r=0;r<t.links.length;r++){const{link:n,property:i,persistent:o,updateOnBind:a,type:s}=t.links[r];if(\"application\"===s){const r=t.proxyManager.getPropertyLink(n,o);e.registerPropertyLinkForGC(r,\"application\"),r.bind(e,i,a)}}})}function Y(e,t,r){const n=e.delete,i=[],o=Object.keys(r);let a=o.length;for(;a--;){const n=o[a],{modelKey:s,property:u,modified:l=!0}=r[n],c=m(u),d=m(n);e[`get${d}`]=t[s][`get${c}`],e[`set${d}`]=t[s][`set${c}`],l&&i.push(t[s].onModified(e.modified))}e.delete=(()=>{for(;i.length;)i.pop().unsubscribe();n()})}function W(e,t,r={},n={}){function i(e){const r=Object.keys(e);let n=r.length;for(;n--;){const i=r[n];t[i].set(e[i])}}t.this=e;const o=Object.keys(n);let a=o.length;for(;a--;){const s=o[a];t[s]=n[s];const u=r[s];e[`set${m(s)}`]=(r=>{if(r!==t[s]){t[s]=r,i(u[r]),e.modified()}})}o.length&&I(e,t,o)}const H=10,X=40,K=800;function Z(e){let t=0,r=0,n=0,i=0;return\"detail\"in e&&(r=e.detail),\"wheelDelta\"in e&&(r=-e.wheelDelta/120),\"wheelDeltaY\"in e&&(r=-e.wheelDeltaY/120),\"wheelDeltaX\"in e&&(t=-e.wheelDeltaX/120),\"axis\"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*H,i=r*H,\"deltaY\"in e&&(i=e.deltaY),\"deltaX\"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1===e.deltaMode?(n*=X,i*=X):(n*=K,i*=K)),n&&!t&&(t=n<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:i}}t.default={EVENT_ABORT:v,VOID:a,TYPED_ARRAYS:p,algo:j,capitalize:m,uncapitalize:h,chain:P,enumToString:function(e,t){return Object.keys(e).find(r=>e[r]===t)},event:z,get:I,getArray:O,getCurrentGlobalMTime:function(){return o},getStateArrayMapFunc:N,isVtkObject:k,keystore:V,newInstance:R,obj:E,safeArrays:y,set:w,setArray:S,setGet:C,setGetArray:b,setLoggerFunction:c,traverseInstanceTree:B,vtkDebugMacro:M,vtkErrorMacro:A,vtkInfoMacro:g,vtkLogMacro:d,vtkWarningMacro:f,debounce:U,throttle:F,proxy:Q,proxyPropertyMapping:Y,proxyPropertyState:W,formatBytesToProperUnit:T,formatNumbersWithThousandSeparator:D,normalizeWheel:Z}}.call(this,r(6),r(31).setImmediate)},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",function(){return i});const n={vtkObject:()=>null};function i(t){if(null===t||void 0===t)return t;if(t.isA)return t;if(!t.vtkClass)return e.console&&e.console.error&&e.console.error(\"Invalid VTK object\"),null;const r=n[t.vtkClass];if(!r)return e.console&&e.console.error&&e.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const o=Object.assign({},t);Object.keys(o).forEach(e=>{o[e]&&\"object\"==typeof o[e]&&o[e].vtkClass&&(o[e]=i(o[e]))});const a=r(o);return a&&a.modified&&a.modified(),a}i.register=function(e,t){n[e]=t}}).call(this,r(6))},function(e,t){e.exports=function(){throw new Error(\"define cannot be used indirect\")}},function(e,t){throw new Error(\"Module parse failed: Unexpected token (19:8)\\nYou may need an appropriate loader to handle this file type.\\n| // Template for the polydata mappers fragment shader\\n| \\n| uniform int PrimitiveIDOffset;\\n| \\n| // VC position of this fragment\")},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t){throw new Error(\"Module parse failed: Unexpected token (18:10)\\nYou may need an appropriate loader to handle this file type.\\n| =========================================================================*/\\n| \\n| attribute vec4 vertexMC;\\n| \\n| // frag position in VC\")},function(e,t,r){\"use strict\";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var u=r(9),l=0,c=1,d=0,g=1,M=\"main\",A=function(e){return\"object\"===(void 0===e?\"undefined\":o(e))&&\"function\"==typeof e.then&&\"function\"==typeof e.catch};var f=function e(t,r){s(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,o,p=(o=e,(r=M)in(t={})?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t),m=self.postMessage.bind(self),h=new(function(e){function t(){return s(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),n(t,[{key:\"emit\",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return m({eventName:e,args:r}),this}},{key:\"emitLocally\",value:function(e){for(var r,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"emit\",this)).call.apply(r,[this,e].concat(o))}},{key:\"operation\",value:function(e,t){return p[e]=t,this}}]),t}()),T=function(e,t,r){var n=p[r||M];if(!n)throw new Error(\"Not found handler for this request\");return n(t,y.bind(null,e))},D=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];m([l,e,t,r],n)},y=function(e,t,r){if(!t)throw new Error(\"eventName is required\");if(\"string\"!=typeof t)throw new Error(\"eventName should be string\");m([c,e,t,r])};return self.addEventListener(\"message\",function(e){var t=e.data;Array.isArray(t)?function(e,t,r){var n=function(t){t&&t instanceof f?D(e,g,t.payload,t.transferable):D(e,g,t)},i=function(t){D(e,d,{message:t.message,stack:t.stack})};try{var o=T(e,t,r);A(o)?o.then(n).catch(i):n(o)}catch(e){i(e)}}.apply(void 0,a(t)):t&&t.eventName&&h.emitLocally.apply(h,[t.eventName].concat(a(t.args)))}),h},e.exports.TransferableResponse=f},function(e,t,r){\"use strict\";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Object.defineProperty(this,\"__listeners\",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:\"emit\",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=!0,o=!1,a=void 0;try{for(var s,u=this.__listeners[e][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.apply(void 0,r)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return this}},{key:\"once\",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:\"on\",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:\"off\",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=i},function(e,t){throw new Error(\"Module parse failed: Unexpected token (1:0)\\nYou may need an appropriate loader to handle this file type.\\n| <table>\\n|   <tr>\\n|     <td>\")},function(e,t,r){(function(t){\n/**\n * @license\n * webvr-polyfill\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * cardboard-vr-display\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * webvr-polyfill-dpdb \n * Copyright (c) 2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * wglu-preserve-state\n * Copyright (c) 2016, Brandon Jones.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * @license\n * nosleep.js\n * Copyright (c) 2017, Rich Tibbett\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */var r;r=function(){\"use strict\";var e=\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{};var r,n,i=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},o=function(e,t){for(var r=0,n=e.length;r<n;r++)t[r]=e[r]},a=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},s=(function(t,r){\n/**\n * @license\n * cardboard-vr-display\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * gl-preserve-state\n * Copyright (c) 2016, Brandon Jones.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * @license\n * webvr-polyfill-dpdb\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @license\n * nosleep.js\n * Copyright (c) 2017, Rich Tibbett\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nt.exports=function(){var t,r,n,i=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},s=function(e,t,r){return e+(t-e)*r},u=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),l=function(){var e=-1!==navigator.userAgent.indexOf(\"Version\")&&-1!==navigator.userAgent.indexOf(\"Android\")&&-1!==navigator.userAgent.indexOf(\"Chrome\");return function(){return e}}(),c=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){var e=-1!==navigator.userAgent.indexOf(\"Firefox\")&&-1!==navigator.userAgent.indexOf(\"Android\");return function(){return e}}()),d=(r=navigator.userAgent.match(/.*Chrome\\/([0-9]+)/),n=r?parseInt(r[1],10):null,function(){return n}),g=function(){var e=!1;if(65===d()){var t=navigator.userAgent.match(/.*Chrome\\/([0-9\\.]*)/);if(t){var r=t[1].split(\".\"),n=a(r,4),i=(n[0],n[1],n[2]),o=n[3];e=3325===parseInt(i,10)&&parseInt(o,10)<148}}return function(){return e}}(),M=function(){var e=-1!==navigator.userAgent.indexOf(\"R7 Build\");return function(){return e}}(),A=function(){var e=90==window.orientation||-90==window.orientation;return M()?!e:e},f=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},p=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},m=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},h=function(e,t,r,n){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var a=e.createProgram();for(var s in e.attachShader(a,i),e.attachShader(a,o),n)e.bindAttribLocation(a,n[s],s);return e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),a},T=function(e,t){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=\"\",o=0;o<n;o++){var a=e.getActiveUniform(t,o);i=a.name.replace(\"[0]\",\"\"),r[i]=e.getUniformLocation(t,i)}return r},D=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(e.substr(0,4)))&&(t=!0),t},y=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},N=function(e){if(u()){var t=e.style.width,r=e.style.height;e.style.width=parseInt(t)+1+\"px\",e.style.height=parseInt(r)+\"px\",setTimeout(function(){e.style.width=t,e.style.height=r},100)}window.canvas=e},E=function(){var e=Math.PI/180,t=.25*Math.PI,r=new Float32Array([0,0,0,1]),n=new Float32Array([0,0,0]);function i(i,o,a,s,u,l){!function(r,n,i,o){var a=Math.tan(n?n.upDegrees*e:t),s=Math.tan(n?n.downDegrees*e:t),u=Math.tan(n?n.leftDegrees*e:t),l=Math.tan(n?n.rightDegrees*e:t),c=2/(u+l),d=2/(a+s);r[0]=c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=d,r[6]=0,r[7]=0,r[8]=-(u-l)*c*.5,r[9]=(a-s)*d*.5,r[10]=o/(i-o),r[11]=-1,r[12]=0,r[13]=0,r[14]=o*i/(i-o),r[15]=0}(i,s||null,l.depthNear,l.depthFar);var c,d,g,M,A,f,p,m,h,T,D,y,N,E,I,x,L,w,C,O=a.orientation||r,S=a.position||n;c=o,g=S,M=(d=O)[0],A=d[1],f=d[2],p=d[3],D=M*(m=M+M),y=M*(h=A+A),N=M*(T=f+f),E=A*h,I=A*T,x=f*T,L=p*m,w=p*h,C=p*T,c[0]=1-(E+x),c[1]=y+C,c[2]=N-w,c[3]=0,c[4]=y-C,c[5]=1-(D+x),c[6]=I+L,c[7]=0,c[8]=N+w,c[9]=I-L,c[10]=1-(D+E),c[11]=0,c[12]=g[0],c[13]=g[1],c[14]=g[2],c[15]=1,u&&function(e,t,r){var n,i,o,a,s,u,l,c,d,g,M,A,f=r[0],p=r[1],m=r[2];t===e?(e[12]=t[0]*f+t[4]*p+t[8]*m+t[12],e[13]=t[1]*f+t[5]*p+t[9]*m+t[13],e[14]=t[2]*f+t[6]*p+t[10]*m+t[14],e[15]=t[3]*f+t[7]*p+t[11]*m+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=t[9],M=t[10],A=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=g,e[10]=M,e[11]=A,e[12]=n*f+s*p+d*m+t[12],e[13]=i*f+u*p+g*m+t[13],e[14]=o*f+l*p+M*m+t[14],e[15]=a*f+c*p+A*m+t[15])}(o,o,u),function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],g=t[10],M=t[11],A=t[12],f=t[13],p=t[14],m=t[15],h=r*s-n*a,T=r*u-i*a,D=r*l-o*a,y=n*u-i*s,N=n*l-o*s,E=i*l-o*u,I=c*f-d*A,x=c*p-g*A,L=c*m-M*A,w=d*p-g*f,C=d*m-M*f,O=g*m-M*p,S=h*O-T*C+D*w+y*L-N*x+E*I;if(!S)return null;S=1/S,e[0]=(s*O-u*C+l*w)*S,e[1]=(i*C-n*O-o*w)*S,e[2]=(f*E-p*N+m*y)*S,e[3]=(g*N-d*E-M*y)*S,e[4]=(u*L-a*O-l*x)*S,e[5]=(r*O-i*L+o*x)*S,e[6]=(p*D-A*E-m*T)*S,e[7]=(c*E-g*D+M*T)*S,e[8]=(a*C-s*L+l*I)*S,e[9]=(n*L-r*C-o*I)*S,e[10]=(A*N-f*D+m*h)*S,e[11]=(d*D-c*N-M*h)*S,e[12]=(s*x-a*w-u*I)*S,e[13]=(r*w-n*x+i*I)*S,e[14]=(f*T-A*y-p*h)*S,e[15]=(c*y-d*T+g*h)*S}(o,o)}return function(e,t,r){return!(!e||!t||(e.pose=t,e.timestamp=t.timestamp,i(e.leftProjectionMatrix,e.leftViewMatrix,t,r._getFieldOfView(\"left\"),r._getEyeOffset(\"left\"),r),i(e.rightProjectionMatrix,e.rightViewMatrix,t,r._getFieldOfView(\"right\"),r._getEyeOffset(\"right\"),r),0))}}(),I=function(e){var t,r=e.indexOf(\"://\");t=-1!==r?r+3:0;var n=e.indexOf(\"/\",t);return-1===n&&(n=e.length),e.substring(0,n)},x=(t={},function(e,r){void 0===t[e]&&(console.warn(\"webvr-polyfill: \"+r),t[e]=!0)}),L=function(e,t){var r=t?\"Please use \"+t+\" instead.\":\"\";x(e,e+\" has been deprecated. This may not work on native WebVR displays. \"+r)},w=function(e,t,r){if(t){for(var n=[],i=null,o=0;o<t.length;++o){var a=t[o];switch(a){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31){console.error(\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\"),n.push(null,null);break}i||(i=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(s),n.push(e.getParameter(a),null);break;case e.ACTIVE_TEXTURE:i=e.getParameter(e.ACTIVE_TEXTURE),n.push(null);break;default:n.push(e.getParameter(a))}}r(e);for(var o=0;o<t.length;++o){var a=t[o],u=n[o];switch(a){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(a):e.disable(a);break;default:console.log(\"No GL restore behavior for 0x\"+a.toString(16))}i&&e.activeTexture(i)}}else r(e)},C=[\"attribute vec2 position;\",\"attribute vec3 texCoord;\",\"varying vec2 vTexCoord;\",\"uniform vec4 viewportOffsetScale[2];\",\"void main() {\",\"  vec4 viewport = viewportOffsetScale[int(texCoord.z)];\",\"  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;\",\"  gl_Position = vec4( position, 1.0, 1.0 );\",\"}\"].join(\"\\n\"),O=[\"precision mediump float;\",\"uniform sampler2D diffuse;\",\"varying vec2 vTexCoord;\",\"void main() {\",\"  gl_FragColor = texture2D(diffuse, vTexCoord);\",\"}\"].join(\"\\n\");function S(e,t,r,n){this.gl=e,this.cardboardUI=t,this.bufferScale=r,this.dirtySubmitFrameBindings=n,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,u()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\"width\"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\"height\")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=h(e,C,O,this.attribs),this.uniforms=T(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}S.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},S.prototype.onResize=function(){var e=this.gl,t=this,r=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];w(e,r,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer incomplete!\"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},S.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,r=this.gl;u()||(t.width=f()*this.bufferScale,t.height=p()*this.bufferScale,Object.defineProperty(t,\"width\",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(r){e.bufferWidth=r,e.realCanvasWidth.set.call(t,r),e.onResize()}}),Object.defineProperty(t,\"height\",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(r){e.bufferHeight=r,e.realCanvasHeight.set.call(t,r),e.onResize()}})),this.lastBoundFramebuffer=r.getParameter(r.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,n){e.lastBoundFramebuffer=n||e.framebuffer,e.realBindFramebuffer.call(r,t,e.lastBoundFramebuffer)},this.cullFace=r.getParameter(r.CULL_FACE),this.depthTest=r.getParameter(r.DEPTH_TEST),this.blend=r.getParameter(r.BLEND),this.scissorTest=r.getParameter(r.SCISSOR_TEST),this.stencilTest=r.getParameter(r.STENCIL_TEST),r.enable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!0;break;case r.DEPTH_TEST:e.depthTest=!0;break;case r.BLEND:e.blend=!0;break;case r.SCISSOR_TEST:e.scissorTest=!0;break;case r.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(r,t)},r.disable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!1;break;case r.DEPTH_TEST:e.depthTest=!1;break;case r.BLEND:e.blend=!1;break;case r.SCISSOR_TEST:e.scissorTest=!1;break;case r.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(r,t)},this.colorMask=r.getParameter(r.COLOR_WRITEMASK),r.colorMask=function(t,n,i,o){e.colorMask[0]=t,e.colorMask[1]=n,e.colorMask[2]=i,e.colorMask[3]=o,e.realColorMask.call(r,t,n,i,o)},this.clearColor=r.getParameter(r.COLOR_CLEAR_VALUE),r.clearColor=function(t,n,i,o){e.clearColor[0]=t,e.clearColor[1]=n,e.clearColor[2]=i,e.clearColor[3]=o,e.realClearColor.call(r,t,n,i,o)},this.viewport=r.getParameter(r.VIEWPORT),r.viewport=function(t,n,i,o){e.viewport[0]=t,e.viewport[1]=n,e.viewport[2]=i,e.viewport[3]=o,e.realViewport.call(r,t,n,i,o)},this.isPatched=!0,N(t)}},S.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;u()||(Object.defineProperty(t,\"width\",this.realCanvasWidth),Object.defineProperty(t,\"height\",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){N(t)},1)}},S.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},S.prototype.submitFrame=function(){var e=this.gl,t=this,r=[];if(this.dirtySubmitFrameBindings||r.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),w(e,r,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||u())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),u()){var n=e.canvas;n.width==t.bufferWidth&&n.height==t.bufferHeight||(t.bufferWidth=n.width,t.bufferHeight=n.height,t.onResize())}},S.prototype.updateDeviceInfo=function(e){var t=this.gl,r=this,n=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];w(t,n,function(t){var n=r.computeMeshVertices_(r.meshWidth,r.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,r.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),!r.indexCount){var i=r.computeMeshIndices_(r.meshWidth,r.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),r.indexCount=i.length}})},S.prototype.computeMeshVertices_=function(e,t,r){for(var n=new Float32Array(2*e*t*5),i=r.getLeftEyeVisibleTanAngles(),o=r.getLeftEyeNoLensTanAngles(),a=r.getLeftEyeVisibleScreenRect(o),u=0,l=0;l<2;l++){for(var c=0;c<t;c++)for(var d=0;d<e;d++,u++){var g=d/(e-1),M=c/(t-1),A=g,f=M,p=s(i[0],i[2],g),m=s(i[3],i[1],M),h=Math.sqrt(p*p+m*m),T=r.distortion.distortInverse(h),D=p*T/h,y=m*T/h;g=(D-o[0])/(o[2]-o[0]),M=(y-o[3])/(o[1]-o[3]),g=2*(a.x+g*a.width-.5),M=2*(a.y+M*a.height-.5),n[5*u+0]=g,n[5*u+1]=M,n[5*u+2]=A,n[5*u+3]=f,n[5*u+4]=l}var N=i[2]-i[0];i[0]=-(N+i[0]),i[2]=N-i[2],N=o[2]-o[0],o[0]=-(N+o[0]),o[2]=N-o[2],a.x=1-(a.x+a.width)}return n},S.prototype.computeMeshIndices_=function(e,t){for(var r=new Uint16Array(2*(e-1)*(t-1)*6),n=e/2,i=t/2,o=0,a=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var l=0;l<e;l++,o++)0!=l&&0!=u&&(l<=n==u<=i?(r[a++]=o,r[a++]=o-e-1,r[a++]=o-e,r[a++]=o-e-1,r[a++]=o,r[a++]=o-1):(r[a++]=o-1,r[a++]=o-e,r[a++]=o,r[a++]=o-e,r[a++]=o-1,r[a++]=o-e-1));return r},S.prototype.getOwnPropertyDescriptor_=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r.get&&void 0!==r.set||(r.configurable=!0,r.enumerable=!0,r.get=function(){return this.getAttribute(t)},r.set=function(e){this.setAttribute(t,e)}),r};var b=[\"attribute vec2 position;\",\"uniform mat4 projectionMat;\",\"void main() {\",\"  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );\",\"}\"].join(\"\\n\"),j=[\"precision mediump float;\",\"uniform vec4 color;\",\"void main() {\",\"  gl_FragColor = color;\",\"}\"].join(\"\\n\"),v=Math.PI/180,z=.3125;function R(e){this.gl=e,this.attribs={position:0},this.program=h(e,b,j,this.attribs),this.uniforms=T(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function P(e){this.coefficients=e}R.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener(\"click\",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},R.prototype.listen=function(e,t){var r=this.gl.canvas;this.listener=function(n){var i=r.clientWidth/2;n.clientX>i-42&&n.clientX<i+42&&n.clientY>r.clientHeight-42?e(n):n.clientX<42&&n.clientY<42&&t(n)},r.addEventListener(\"click\",this.listener,!1)},R.prototype.onResize=function(){var e=this.gl,t=this,r=[e.ARRAY_BUFFER_BINDING];w(e,r,function(e){var r=[],n=e.drawingBufferWidth/2,i=Math.max(screen.width,screen.height)*window.devicePixelRatio,o=e.drawingBufferWidth/i,a=o*window.devicePixelRatio,s=4*a/2,u=42*a,l=28*a/2,c=14*a;function d(e,t){var i=(90-e)*v,o=Math.cos(i),a=Math.sin(i);r.push(z*o*l+n,z*a*l+l),r.push(t*o*l+n,t*a*l+l)}r.push(n-s,u),r.push(n-s,e.drawingBufferHeight),r.push(n+s,u),r.push(n+s,e.drawingBufferHeight),t.gearOffset=r.length/2;for(var g=0;g<=6;g++){var M=60*g;d(M,1),d(M+12,1),d(M+20,.75),d(M+40,.75),d(M+48,1)}function A(t,n){r.push(c+t,e.drawingBufferHeight-c-n)}t.gearVertexCount=r.length/2-t.gearOffset,t.arrowOffset=r.length/2;var f=s/Math.sin(45*v);A(0,l),A(l,0),A(l+f,f),A(f,l+f),A(f,l-f),A(0,l),A(l,2*l),A(l+f,2*l-f),A(f,l-f),A(0,l),A(f,l-s),A(28*a,l-s),A(f,l+s),A(28*a,l+s),t.arrowVertexCount=r.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)})},R.prototype.render=function(){var e=this.gl,t=this,r=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];w(e,r,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},R.prototype.renderNoState=function(){var e,t,r,n,i,o,a,s,u,l,c=this.gl;c.useProgram(this.program),c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.enableVertexAttribArray(this.attribs.position),c.vertexAttribPointer(this.attribs.position,2,c.FLOAT,!1,8,0),c.uniform4f(this.uniforms.color,1,1,1,1),e=this.projMat,t=0,r=c.drawingBufferWidth,n=0,i=c.drawingBufferHeight,s=1/(t-r),u=1/(n-i),l=1/((o=.1)-(a=1024)),e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*l,e[15]=1,c.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.drawArrays(c.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),c.drawArrays(c.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},P.prototype.distortInverse=function(e){for(var t=0,r=1,n=e-this.distort(t);Math.abs(r-t)>1e-4;){var i=e-this.distort(r),o=r-i*((r-t)/(i-n));t=r,r=o,n=i}return r},P.prototype.distort=function(e){for(var t=e*e,r=0,n=0;n<this.coefficients.length;n++)r=t*(r+this.coefficients[n]);return(r+1)*e};var k=Math.PI/180,B=180/Math.PI,U=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0};U.prototype={constructor:U,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*n-a*r,l=s*r+a*t-i*n,c=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=u*s+d*-i+l*-a-c*-o,this.y=l*s+d*-o+c*-i-u*-a,this.z=c*s+d*-a+u*-o-l*-i,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this}};var F,V,_=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1};function G(e){this.width=e.width||f(),this.height=e.height||p(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}_.prototype={constructor:_,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,r){var n=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(r/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(r/2);return this.x=a*i*o+n*s*u,this.y=n*s*o-a*i*u,this.z=n*i*u+a*s*o,this.w=n*i*o-a*s*u,this},setFromEulerYXZ:function(e,t,r){var n=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(r/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(r/2);return this.x=a*i*o+n*s*u,this.y=n*s*o-a*i*u,this.z=n*i*u-a*s*o,this.w=n*i*o+a*s*u,this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(r),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e.x,n=e.y,i=e.z,o=e.w,a=t.x,s=t.y,u=t.z,l=t.w;return this.x=r*l+o*a+n*u-i*s,this.y=n*l+o*s+i*a-r*u,this.z=i*l+o*u+r*s-n*a,this.w=o*l-r*a-n*s-i*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this.x,n=this.y,i=this.z,o=this.w,a=o*e.w+r*e.x+n*e.y+i*e.z;if(a<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,a=-a):this.copy(e),a>=1)return this.w=o,this.x=r,this.y=n,this.z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(r+this.x),this.y=.5*(n+this.y),this.z=.5*(i+this.z),this;var l=Math.sin((1-t)*s)/u,c=Math.sin(t*s)/u;return this.w=o*l+this.w*c,this.x=r*l+this.x*c,this.y=n*l+this.y*c,this.z=i*l+this.z*c,this},setFromUnitVectors:function(e,t){return void 0===F&&(F=new U),(V=e.dot(t)+1)<1e-6?(V=0,Math.abs(e.x)>Math.abs(e.z)?F.set(-e.y,e.x,0):F.set(0,-e.z,e.y)):F.crossVectors(e,t),this.x=F.x,this.y=F.y,this.z=F.z,this.w=V,this.normalize(),this}};var Q=new G({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Y=new G({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),W={CardboardV1:new X({id:\"CardboardV1\",label:\"Cardboard I/O 2014\",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new X({id:\"CardboardV2\",label:\"Cardboard I/O 2015\",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function H(e){this.viewer=W.CardboardV2,this.updateDeviceParams(e),this.distortion=new P(this.viewer.distortionCoefficients)}function X(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}H.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},H.prototype.getDevice=function(){return this.device},H.prototype.setViewer=function(e){this.viewer=e,this.distortion=new P(this.viewer.distortionCoefficients)},H.prototype.determineDevice_=function(e){if(!e)return u()?(console.warn(\"Using fallback iOS device measurements.\"),Y):(console.warn(\"Using fallback Android device measurements.\"),Q);var t=.0254/e.xdpi,r=.0254/e.ydpi,n=f(),i=p();return new G({widthMeters:t*n,heightMeters:r*i,bevelMeters:.001*e.bevelMm})},H.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,r=this.distortion,n=e.screenLensDistance,i=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,a=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-a,u=B*Math.atan(r.distort(i/n)),l=B*Math.atan(r.distort(o/n)),c=B*Math.atan(r.distort(a/n)),d=B*Math.atan(r.distort(s/n));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(d,e.fov)}},H.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,n=Math.tan(-k*e.fov),i=Math.tan(k*e.fov),o=Math.tan(k*e.fov),a=Math.tan(-k*e.fov),s=t.widthMeters/4,u=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-u,c=e.interLensDistance/2-s,d=-l,g=e.screenLensDistance,M=r.distort((c-s)/g),A=r.distort((d+u)/g),f=r.distort((c+s)/g),p=r.distort((d-u)/g),m=new Float32Array(4);return m[0]=Math.max(n,M),m[1]=Math.min(i,A),m[2]=Math.min(o,f),m[3]=Math.max(a,p),m},H.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,n=new Float32Array(4),i=r.distortInverse(Math.tan(-k*e.fov)),o=r.distortInverse(Math.tan(k*e.fov)),a=r.distortInverse(Math.tan(k*e.fov)),s=r.distortInverse(Math.tan(-k*e.fov)),u=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,d=e.interLensDistance/2-u,g=-c,M=e.screenLensDistance,A=(d-u)/M,f=(g+l)/M,p=(d+u)/M,m=(g-l)/M;return n[0]=Math.max(i,A),n[1]=Math.min(o,f),n[2]=Math.min(a,p),n[3]=Math.max(s,m),n},H.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,r=this.device,n=t.screenLensDistance,i=(r.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-r.bevelMeters,a=(e[0]*n+i)/r.widthMeters,s=(e[1]*n+o)/r.heightMeters,u=(e[2]*n+i)/r.widthMeters,l=(e[3]*n+o)/r.heightMeters;return{x:a,y:l,width:u-a,height:s-l}},H.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},H.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},H.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:B*Math.atan(e.outerDist),rightDegrees:B*Math.atan(e.innerDist),downDegrees:B*Math.atan(e.bottomDist),upDegrees:B*Math.atan(e.topDist)}},H.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,r=this.device,n=t.screenLensDistance,i=r.widthMeters/n,o=r.heightMeters/n,a=r.width/i,s=r.height/o,u=Math.round((e.eyePosX-e.outerDist)*a),l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:l,width:Math.round((e.eyePosX+e.innerDist)*a)-u,height:Math.round((e.eyePosY+e.topDist)*s)-l}},H.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,r=this.distortion,n=e.screenLensDistance,i=e.interLensDistance/2/n,o=t.widthMeters/n,a=t.heightMeters/n,s=o/2-i,u=(e.baselineLensDistance-t.bevelMeters)/n,l=e.fov,c=r.distortInverse(Math.tan(k*l)),d=Math.min(s,c),g=Math.min(i,c),M=Math.min(u,c),A=Math.min(a-u,c);return{outerDist:d,innerDist:g,topDist:A,bottomDist:M,eyePosX:s,eyePosY:u}},H.Viewers=W;var K={format:1,last_updated:\"2018-02-20T22:55:10Z\",devices:[{type:\"android\",rules:[{mdmh:\"asus/*/Nexus 7/*\"},{ua:\"Nexus 7\"}],dpi:[320.8,323],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"asus/*/ASUS_Z00AD/*\"},{ua:\"ASUS_Z00AD\"}],dpi:[403,404.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Google/*/Pixel XL/*\"},{ua:\"Pixel XL\"}],dpi:[537.9,533],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Google/*/Pixel/*\"},{ua:\"Pixel\"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC6435LVW/*\"},{ua:\"HTC6435LVW\"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One XL/*\"},{ua:\"HTC One XL\"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"htc/*/Nexus 9/*\"},{ua:\"Nexus 9\"}],dpi:289,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One M9/*\"},{ua:\"HTC One M9\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One_M8/*\"},{ua:\"HTC One_M8\"}],dpi:[449.7,447.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One/*\"},{ua:\"HTC One\"}],dpi:472.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Huawei/*/Nexus 6P/*\"},{ua:\"Nexus 6P\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LENOVO/*/Lenovo PB2-690Y/*\"},{ua:\"Lenovo PB2-690Y\"}],dpi:[457.2,454.713],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 5X/*\"},{ua:\"Nexus 5X\"}],dpi:[422,419.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGMS345/*\"},{ua:\"LGMS345\"}],dpi:[221.7,219.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-D800/*\"},{ua:\"LG-D800\"}],dpi:[422,424.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-D850/*\"},{ua:\"LG-D850\"}],dpi:[537.9,541.9],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/VS985 4G/*\"},{ua:\"VS985 4G\"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 5/*\"},{ua:\"Nexus 5 B\"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 4/*\"},{ua:\"Nexus 4\"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-P769/*\"},{ua:\"LG-P769\"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGMS323/*\"},{ua:\"LGMS323\"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGLS996/*\"},{ua:\"LGLS996\"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/4560MMX/*\"},{ua:\"4560MMX\"}],dpi:[240,219.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/A250/*\"},{ua:\"Micromax A250\"}],dpi:[480,446.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/Micromax AQ4501/*\"},{ua:\"Micromax AQ4501\"}],dpi:240,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/G5/*\"},{ua:\"Moto G (5) Plus\"}],dpi:[403.4,403],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/DROID RAZR/*\"},{ua:\"DROID RAZR\"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT830C/*\"},{ua:\"XT830C\"}],dpi:[254,255.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1021/*\"},{ua:\"XT1021\"}],dpi:[254,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1023/*\"},{ua:\"XT1023\"}],dpi:[254,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1028/*\"},{ua:\"XT1028\"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1034/*\"},{ua:\"XT1034\"}],dpi:[326.6,328.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1053/*\"},{ua:\"XT1053\"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1562/*\"},{ua:\"XT1562\"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/Nexus 6/*\"},{ua:\"Nexus 6 B\"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1063/*\"},{ua:\"XT1063\"}],dpi:[295,296.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1064/*\"},{ua:\"XT1064\"}],dpi:[295,295.6],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1092/*\"},{ua:\"XT1092\"}],dpi:[422,424.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1095/*\"},{ua:\"XT1095\"}],dpi:[422,423.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/G4/*\"},{ua:\"Moto G (4)\"}],dpi:401,bw:4,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/A0001/*\"},{ua:\"A0001\"}],dpi:[403.4,401],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONE E1005/*\"},{ua:\"ONE E1005\"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONE A2005/*\"},{ua:\"ONE A2005\"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONEPLUS A5000/*\"},{ua:\"ONEPLUS A5000 \"}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONE A5010/*\"},{ua:\"ONEPLUS A5010\"}],dpi:[403,400],bw:2,ac:1e3},{type:\"android\",rules:[{mdmh:\"OPPO/*/X909/*\"},{ua:\"X909\"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9082/*\"},{ua:\"GT-I9082\"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G360P/*\"},{ua:\"SM-G360P\"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/Nexus S/*\"},{ua:\"Nexus S\"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300/*\"},{ua:\"GT-I9300\"}],dpi:[304.8,303.9],bw:5,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-T230NU/*\"},{ua:\"SM-T230NU\"}],dpi:216,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SGH-T399/*\"},{ua:\"SGH-T399\"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SGH-M919/*\"},{ua:\"SGH-M919\"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N9005/*\"},{ua:\"SM-N9005\"}],dpi:[386.4,387],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SAMSUNG-SM-N900A/*\"},{ua:\"SAMSUNG-SM-N900A\"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9500/*\"},{ua:\"GT-I9500\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9505/*\"},{ua:\"GT-I9505\"}],dpi:439.4,bw:4,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G900F/*\"},{ua:\"SM-G900F\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G900M/*\"},{ua:\"SM-G900M\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G800F/*\"},{ua:\"SM-G800F\"}],dpi:326.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G906S/*\"},{ua:\"SM-G906S\"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300/*\"},{ua:\"GT-I9300\"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-T535/*\"},{ua:\"SM-T535\"}],dpi:[142.6,136.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N920C/*\"},{ua:\"SM-N920C\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N920P/*\"},{ua:\"SM-N920P\"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N920W8/*\"},{ua:\"SM-N920W8\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300I/*\"},{ua:\"GT-I9300I\"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9195/*\"},{ua:\"GT-I9195\"}],dpi:[249.4,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SPH-L520/*\"},{ua:\"SPH-L520\"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SAMSUNG-SGH-I717/*\"},{ua:\"SAMSUNG-SGH-I717\"}],dpi:285.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SPH-D710/*\"},{ua:\"SPH-D710\"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-N7100/*\"},{ua:\"GT-N7100\"}],dpi:265.1,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SCH-I605/*\"},{ua:\"SCH-I605\"}],dpi:265.1,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/Galaxy Nexus/*\"},{ua:\"Galaxy Nexus\"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N910H/*\"},{ua:\"SM-N910H\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N910C/*\"},{ua:\"SM-N910C\"}],dpi:[515.2,520.2],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G130M/*\"},{ua:\"SM-G130M\"}],dpi:[165.9,164.8],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G928I/*\"},{ua:\"SM-G928I\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G920F/*\"},{ua:\"SM-G920F\"}],dpi:580.6,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G920P/*\"},{ua:\"SM-G920P\"}],dpi:[522.5,577],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G925F/*\"},{ua:\"SM-G925F\"}],dpi:580.6,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G925V/*\"},{ua:\"SM-G925V\"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G930F/*\"},{ua:\"SM-G930F\"}],dpi:576.6,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G935F/*\"},{ua:\"SM-G935F\"}],dpi:533,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G950F/*\"},{ua:\"SM-G950F\"}],dpi:[562.707,565.293],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G955U/*\"},{ua:\"SM-G955U\"}],dpi:[522.514,525.762],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"Sony/*/C6903/*\"},{ua:\"C6903\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"Sony/*/D6653/*\"},{ua:\"D6653\"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/E6653/*\"},{ua:\"E6653\"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/E6853/*\"},{ua:\"E6853\"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/SGP321/*\"},{ua:\"SGP321\"}],dpi:[224.7,224.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"TCT/*/ALCATEL ONE TOUCH Fierce/*\"},{ua:\"ALCATEL ONE TOUCH Fierce\"}],dpi:[240,247.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"THL/*/thl 5000/*\"},{ua:\"thl 5000\"}],dpi:[480,443.3],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Fly/*/IQ4412/*\"},{ua:\"IQ4412\"}],dpi:307.9,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"ZTE/*/ZTE Blade L2/*\"},{ua:\"ZTE Blade L2\"}],dpi:240,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"BENEVE/*/VR518/*\"},{ua:\"VR518\"}],dpi:480,bw:3,ac:500},{type:\"ios\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\"ios\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\"ios\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\"ios\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:\"ios\",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:\"ios\",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function Z(e,t){if(this.dpdb=K,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var r=new XMLHttpRequest,n=this;r.open(\"GET\",e,!0),r.addEventListener(\"load\",function(){n.loading=!1,r.status>=200&&r.status<=299?(n.dpdb=JSON.parse(r.response),n.recalculateDeviceParams_()):console.error(\"Error loading online DPDB!\")}),r.send()}}function q(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function $(e,t){this.set(e,t)}function J(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new $,this.currentGyroMeasurement=new $,this.previousGyroMeasurement=new $,u()?this.filterQ=new _(-1,0,0,1):this.filterQ=new _(1,0,0,1),this.previousFilterQ=new _,this.previousFilterQ.copy(this.filterQ),this.accelQ=new _,this.isOrientationInitialized=!1,this.estimatedGravity=new U,this.measuredGravity=new U,this.gyroIntegralQ=new _}function ee(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new _,this.previousTimestampS=null,this.deltaQ=new _,this.outQ=new _}function te(e,t,r,n){this.yawOnly=r,this.accelerometer=new U,this.gyroscope=new U,this.filter=new J(e,n),this.posePredictor=new ee(t,n),this.isFirefoxAndroid=c(),this.isIOS=u();var i=d();this.isDeviceMotionInRadians=!this.isIOS&&i&&i<66,this.isWithoutDeviceMotion=g(),this.filterToWorldQ=new _,u()?this.filterToWorldQ.setFromAxisAngle(new U(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new U(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new _,this.worldToScreenQ=new _,this.originalPoseAdjustQ=new _,this.originalPoseAdjustQ.setFromAxisAngle(new U(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),A()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new _,this.orientationOut_=new Float32Array(4),this.start()}Z.prototype.getDeviceParams=function(){return this.deviceParams},Z.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error(\"Failed to recalculate device parameters.\")},Z.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error(\"DPDB not available.\"),null;if(1!=e.format)return console.error(\"DPDB has unexpected format version.\"),null;if(!e.devices||!e.devices.length)return console.error(\"DPDB does not have a devices section.\"),null;var t=navigator.userAgent||navigator.vendor||window.opera,r=f(),n=p();if(!e.devices)return console.error(\"DPDB has no devices section.\"),null;for(var i=0;i<e.devices.length;i++){var o=e.devices[i];if(o.rules)if(\"ios\"==o.type||\"android\"==o.type){if(u()==(\"ios\"==o.type)){for(var a=!1,s=0;s<o.rules.length;s++){var l=o.rules[s];if(this.matchRule_(l,t,r,n)){a=!0;break}}if(a){var c=o.dpi[0]||o.dpi,d=o.dpi[1]||o.dpi;return new q({xdpi:c,ydpi:d,bevelMm:o.bw})}}}else console.warn(\"Device[\"+i+\"] has invalid type.\");else console.warn(\"Device[\"+i+\"] has no rules section.\")}return console.warn(\"No DPDB device match.\"),null},Z.prototype.matchRule_=function(e,t,r,n){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var i=e.res[0],o=e.res[1];if(Math.min(r,n)!=Math.min(i,o)||Math.max(r,n)!=Math.max(i,o))return!1}return!0},$.prototype.set=function(e,t){this.sample=e,this.timestampS=t},$.prototype.copy=function(e){this.set(e.sample,e.timestampS)},J.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},J.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var r,n=t-this.previousGyroMeasurement.timestampS;r=n,!(isNaN(r)||r<=.001||r>1)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},J.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var r=new _;r.copy(this.filterQ),r.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(r),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var n,i=new _;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),this.isDebug&&console.log(\"Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)\",B*((n=i).w>1?(console.warn(\"getQuaternionAngle: w > 1\"),0):2*Math.acos(n.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var o=new _;o.copy(this.filterQ),o.multiply(i),this.filterQ.slerp(o,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},J.prototype.getOrientation=function(){return this.filterQ},J.prototype.accelToQuaternion_=function(e){var t=new U;t.copy(e),t.normalize();var r=new _;return r.setFromUnitVectors(new U(0,0,-1),t),r.inverse(),r},J.prototype.gyroToQuaternionDelta_=function(e,t){var r=new _,n=new U;return n.copy(e),n.normalize(),r.setFromAxisAngle(n,e.length()*t),r},ee.prototype.getPrediction=function(e,t,r){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=r,e;var n=new U;n.copy(t),n.normalize();var i=t.length();if(i<20*k)return this.isDebug&&console.log(\"Moving slowly, at %s deg/s: no prediction\",(B*i).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var o=i*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(n,o),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=r,this.outQ},te.prototype.getPosition=function(){return null},te.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||(n=(new _).setFromAxisAngle(new U(0,0,-1),0),i=new _,-90===window.orientation?i.setFromAxisAngle(new U(0,1,0),Math.PI/-2):i.setFromAxisAngle(new U(0,1,0),Math.PI/2),n.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((r=new _).setFromAxisAngle(new U(1,0,0),-Math.PI/2),r),e=this._deviceOrientationQ;var t=new _;return t.copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_}var r,n,i,o=this.filter.getOrientation();e=this.posePredictor.getPrediction(o,this.gyroscope,this.previousTimestampS);var t=new _;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},te.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),A()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},te.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new _;var t=e.alpha,r=e.beta,n=e.gamma;t=(t||0)*Math.PI/180,r=(r||0)*Math.PI/180,n=(n||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(r,t,-n)},te.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},te.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,r=e.rotationRate,n=e.timeStamp/1e3,i=n-this.previousTimestampS;return i<0?(x(\"fusion-pose-sensor:invalid:non-monotonic\",\"Invalid timestamps detected: non-monotonic timestamp from devicemotion\"),void(this.previousTimestampS=n)):i<=.001||i>1?(x(\"fusion-pose-sensor:invalid:outside-threshold\",\"Invalid timestamps detected: Timestamp from devicemotion outside expected range.\"),void(this.previousTimestampS=n)):(this.accelerometer.set(-t.x,-t.y,-t.z),M()?this.gyroscope.set(-r.beta,r.alpha,r.gamma):this.gyroscope.set(r.alpha,r.beta,r.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,n),this.filter.addGyroMeasurement(this.gyroscope,n),void(this.previousTimestampS=n))},te.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},te.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){var r=t.type.toLowerCase();\"devicemotion\"===r&&this.updateDeviceMotion_(t.deviceMotionEvent)}},te.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new U(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new U(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},te.prototype.start=function(){var e,t,r;this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),u()&&(e=window.self!==window.top,t=I(document.referrer),r=I(window.location.href),e&&t!==r)&&window.addEventListener(\"message\",this.onMessageCallback_),window.addEventListener(\"orientationchange\",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener(\"deviceorientation\",this.onDeviceOrientationCallback_):window.addEventListener(\"devicemotion\",this.onDeviceMotionCallback_)},te.prototype.stop=function(){window.removeEventListener(\"devicemotion\",this.onDeviceMotionCallback_),window.removeEventListener(\"deviceorientation\",this.onDeviceOrientationCallback_),window.removeEventListener(\"orientationchange\",this.onOrientationChangeCallback_),window.removeEventListener(\"message\",this.onMessageCallback_)};var re=new U(1,0,0),ne=new U(0,0,1),ie={};screen.orientation?ie=screen.orientation:screen.msOrientation?ie=screen.msOrientation:Object.defineProperty(ie,\"angle\",{get:function(){return window.orientation||0}});var oe=new _;oe.setFromAxisAngle(re,-Math.PI/2),oe.multiply((new _).setFromAxisAngle(ne,Math.PI/2));var ae=function(){function e(t){i(this,e),this.config=t,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new _,this._worldToScreenQ=new _,this._outQ=new _,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onOrientationChange(),this.init()}return o(e,[{key:\"init\",value:function(){var e=null;try{(e=new RelativeOrientationSensor({frequency:60})).addEventListener(\"error\",this._onSensorError)}catch(e){this.errors.push(e),\"SecurityError\"===e.name?(console.error(\"Cannot construct sensors due to the Feature Policy\"),console.warn('Attempting to fall back using \"devicemotion\"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):\"ReferenceError\"===e.name?this.useDeviceMotion():console.error(e)}e&&(this.api=\"sensor\",this.sensor=e,this.sensor.addEventListener(\"reading\",this._onSensorRead),this.sensor.start()),window.addEventListener(\"orientationchange\",this._onOrientationChange)}},{key:\"useDeviceMotion\",value:function(){this.api=\"devicemotion\",this.fusionSensor=new te(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:\"getOrientation\",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(oe),t.multiply(this._sensorQ),t.multiply(this._worldToScreenQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:\"_onSensorError\",value:function(e){this.errors.push(e.error),\"NotAllowedError\"===e.error.name?console.error(\"Permission to access sensor was denied\"):\"NotReadableError\"===e.error.name?console.error(\"Sensor could not be read\"):console.error(e.error)}},{key:\"_onSensorRead\",value:function(){}},{key:\"_onOrientationChange\",value:function(){var e=-ie.angle*Math.PI/180;this._worldToScreenQ.setFromAxisAngle(ne,e)}}]),e}();function se(){this.loadIcon_();var e=document.createElement(\"div\"),t=e.style;t.position=\"fixed\",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor=\"gray\",t.fontFamily=\"sans-serif\",t.zIndex=1e6;var r=document.createElement(\"img\");r.src=this.icon;var t=r.style;t.marginLeft=\"25%\",t.marginTop=\"25%\",t.width=\"50%\",e.appendChild(r);var n=document.createElement(\"div\"),t=n.style;t.textAlign=\"center\",t.fontSize=\"16px\",t.lineHeight=\"24px\",t.margin=\"24px 25%\",t.width=\"50%\",n.innerHTML=\"Place your phone into your Cardboard viewer.\",e.appendChild(n);var i=document.createElement(\"div\"),t=i.style;t.backgroundColor=\"#CFD8DC\",t.position=\"fixed\",t.bottom=0,t.width=\"100%\",t.height=\"48px\",t.padding=\"14px 24px\",t.boxSizing=\"border-box\",t.color=\"#656A6B\",e.appendChild(i);var o=document.createElement(\"div\");o.style.float=\"left\",o.innerHTML=\"No Cardboard viewer?\";var a=document.createElement(\"a\");a.href=\"https://www.google.com/get/cardboard/get-cardboard/\",a.innerHTML=\"get one\",a.target=\"_blank\";var t=a.style;t.float=\"right\",t.fontWeight=600,t.textTransform=\"uppercase\",t.borderLeft=\"1px solid gray\",t.paddingLeft=\"24px\",t.textDecoration=\"none\",t.color=\"#656A6B\",i.appendChild(o),i.appendChild(a),this.overlay=e,this.text=n,this.hide()}se.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display=\"block\";var t=this.overlay.querySelector(\"img\"),r=t.style;A()?(r.width=\"20%\",r.marginLeft=\"40%\",r.marginTop=\"3%\"):(r.width=\"50%\",r.marginLeft=\"25%\",r.marginTop=\"25%\")},se.prototype.hide=function(){this.overlay.style.display=\"none\"},se.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},se.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},se.prototype.update=function(){this.disableShowTemporarily(),!A()&&D()?this.show():this.hide()},se.prototype.loadIcon_=function(){this.icon=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"};var ue=\"CardboardV1\",le=\"WEBVR_CARDBOARD_VIEWER\";function ce(){try{this.selectedKey=localStorage.getItem(le)}catch(e){console.error(\"Failed to load viewer profile: %s\",e)}this.selectedKey||(this.selectedKey=ue),this.dialog=this.createDialog_(H.Viewers),this.root=null,this.onChangeCallbacks_=[]}ce.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var t=this.dialog.querySelector(\"#\"+this.selectedKey);t.checked=!0,this.dialog.style.display=\"block\"},ce.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display=\"none\"},ce.prototype.getCurrentViewer=function(){return H.Viewers[this.selectedKey]},ce.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector(\"input[name=field]:checked\");return e?e.id:null},ce.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},ce.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},ce.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&H.Viewers[this.selectedKey]){this.fireOnChange_(H.Viewers[this.selectedKey]);try{localStorage.setItem(le,this.selectedKey)}catch(e){console.error(\"Failed to save viewer profile: %s\",e)}this.hide()}else console.error(\"ViewerSelector.onSave_: this should never happen!\")},ce.prototype.createDialog_=function(e){var t=document.createElement(\"div\");t.classList.add(\"webvr-polyfill-viewer-selector\"),t.style.display=\"none\";var r=document.createElement(\"div\"),n=r.style;n.position=\"fixed\",n.left=0,n.top=0,n.width=\"100%\",n.height=\"100%\",n.background=\"rgba(0, 0, 0, 0.3)\",r.addEventListener(\"click\",this.hide.bind(this));var i=document.createElement(\"div\"),n=i.style;for(var o in n.boxSizing=\"border-box\",n.position=\"fixed\",n.top=\"24px\",n.left=\"50%\",n.marginLeft=\"-140px\",n.width=\"280px\",n.padding=\"24px\",n.overflow=\"hidden\",n.background=\"#fafafa\",n.fontFamily=\"'Roboto', sans-serif\",n.boxShadow=\"0px 5px 20px #666\",i.appendChild(this.createH1_(\"Select your viewer\")),e)i.appendChild(this.createChoice_(o,e[o].label));return i.appendChild(this.createButton_(\"Save\",this.onSave_.bind(this))),t.appendChild(r),t.appendChild(i),t},ce.prototype.createH1_=function(e){var t=document.createElement(\"h1\"),r=t.style;return r.color=\"black\",r.fontSize=\"20px\",r.fontWeight=\"bold\",r.marginTop=0,r.marginBottom=\"24px\",t.innerHTML=e,t},ce.prototype.createChoice_=function(e,t){var r=document.createElement(\"div\");r.style.marginTop=\"8px\",r.style.color=\"black\";var n=document.createElement(\"input\");n.style.fontSize=\"30px\",n.setAttribute(\"id\",e),n.setAttribute(\"type\",\"radio\"),n.setAttribute(\"value\",e),n.setAttribute(\"name\",\"field\");var i=document.createElement(\"label\");return i.style.marginLeft=\"4px\",i.setAttribute(\"for\",e),i.innerHTML=t,r.appendChild(n),r.appendChild(i),r},ce.prototype.createButton_=function(e,t){var r=document.createElement(\"button\");r.innerHTML=e;var n=r.style;return n.float=\"right\",n.textTransform=\"uppercase\",n.color=\"#1094f7\",n.fontSize=\"14px\",n.letterSpacing=0,n.border=0,n.background=\"none\",n.marginTop=\"16px\",r.addEventListener(\"click\",t),r},\"undefined\"!=typeof window?window:void 0!==e||\"undefined\"!=typeof self&&self;var de,ge,Me=(function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=\"undefined\"!=typeof navigator&&parseFloat((\"\"+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,\"\"])[1]).replace(\"undefined\",\"3_2\").replace(\"_\",\".\").replace(\"_\",\"\"))<10&&!window.MSStream,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement(\"video\"),this.noSleepVideo.setAttribute(\"playsinline\",\"\"),this.noSleepVideo.setAttribute(\"src\",i),this.noSleepVideo.addEventListener(\"timeupdate\",function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return n(e,[{key:\"enable\",value:function(){o?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href=\"/\",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:\"disable\",value:function(){o?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=a},function(e,t,r){e.exports=\"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA=\"}])},e.exports=r()}(ge={exports:{}},ge.exports),(de=ge.exports)&&de.__esModule?de.default:de),Ae=1e3,fe=[0,0,.5,1],pe=[.5,0,.5,1],me=window.requestAnimationFrame,he=window.cancelAnimationFrame;function Te(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return L(\"VRDisplayCapabilities.prototype.hasOrientation\",\"VRDisplay.prototype.getFrameData\"),e.hasOrientation}}})}function De(e){var t=!(\"wakelock\"in(e=e||{}))||e.wakelock;this.isPolyfilled=!0,this.displayId=Ae++,this.displayName=\"\",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,\"isConnected\",{get:function(){return L(\"VRDisplay.prototype.isConnected\",\"VRDisplayCapabilities.prototype.hasExternalDisplay\"),!1}}),this.capabilities=new Te({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&D()&&(this.wakelock_=new Me)}De.prototype.getFrameData=function(e){return E(e,this._getPose(),this)},De.prototype.getPose=function(){return L(\"VRDisplay.prototype.getPose\",\"VRDisplay.prototype.getFrameData\"),this._getPose()},De.prototype.resetPose=function(){return L(\"VRDisplay.prototype.resetPose\"),this._resetPose()},De.prototype.getImmediatePose=function(){return L(\"VRDisplay.prototype.getImmediatePose\",\"VRDisplay.prototype.getFrameData\"),this._getPose()},De.prototype.requestAnimationFrame=function(e){return me(e)},De.prototype.cancelAnimationFrame=function(e){return he(e)},De.prototype.wrapForFullscreen=function(e){if(u())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement(\"div\");var t=[\"height: \"+Math.min(screen.height,screen.width)+\"px !important\",\"top: 0 !important\",\"left: 0 !important\",\"right: 0 !important\",\"border: 0\",\"margin: 0\",\"padding: 0\",\"z-index: 999999 !important\",\"position: fixed\"];this.fullscreenWrapper_.setAttribute(\"style\",t.join(\"; \")+\";\"),this.fullscreenWrapper_.classList.add(\"webvr-polyfill-fullscreen-wrapper\")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var r=this.fullscreenElement_.parentElement;r.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),r.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute(\"style\");var n=this;return function(){if(n.fullscreenElement_){var e=[\"position: absolute\",\"top: 0\",\"left: 0\",\"width: \"+Math.max(screen.width,screen.height)+\"px\",\"height: \"+Math.min(screen.height,screen.width)+\"px\",\"border: 0\",\"margin: 0\",\"padding: 0\"];n.fullscreenElement_.setAttribute(\"style\",e.join(\"; \")+\";\")}}(),this.fullscreenWrapper_},De.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute(\"style\",this.fullscreenElementCachedStyle_):e.removeAttribute(\"style\"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},De.prototype.requestPresent=function(e){var t=this.isPresenting,r=this;return e instanceof Array||(L(\"VRDisplay.prototype.requestPresent with non-array argument\",\"an array of VRLayers as the first argument\"),e=[e]),new Promise(function(n,i){if(r.capabilities.canPresent)if(0==e.length||e.length>r.capabilities.maxLayers)i(new Error(\"Invalid number of layers.\"));else{var o=e[0];if(o.source){var a=o.leftBounds||fe,s=o.rightBounds||pe;if(t){var c=r.layer_;c.source!==o.source&&(c.source=o.source);for(var d=0;d<4;d++)c.leftBounds[d]=a[d],c.rightBounds[d]=s[d];return r.wrapForFullscreen(r.layer_.source),r.updatePresent_(),void n()}if(r.layer_={predistorted:o.predistorted,source:o.source,leftBounds:a.slice(0),rightBounds:s.slice(0)},r.waitingForPresent_=!1,r.layer_&&r.layer_.source){var g=r.wrapForFullscreen(r.layer_.source);r.addFullscreenListeners_(g,function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;r.isPresenting=g===e,r.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\"landscape-primary\").catch(function(e){console.error(\"screen.orientation.lock() failed due to\",e.message)}),r.waitingForPresent_=!1,r.beginPresent_(),n()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),r.removeFullscreenWrapper(),r.disableWakeLock(),r.endPresent_(),r.removeFullscreenListeners_()),r.fireVRDisplayPresentChange_()},function(){r.waitingForPresent_&&(r.removeFullscreenWrapper(),r.removeFullscreenListeners_(),r.disableWakeLock(),r.waitingForPresent_=!1,r.isPresenting=!1,i(new Error(\"Unable to present.\")))}),function(e){if(l())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0}(g)?(r.enableWakeLock(),r.waitingForPresent_=!0):(u()||l())&&(r.enableWakeLock(),r.isPresenting=!0,r.beginPresent_(),r.fireVRDisplayPresentChange_(),n())}r.waitingForPresent_||u()||(m(),i(new Error(\"Unable to present.\")))}else n()}else i(new Error(\"VRDisplay is not capable of presenting.\"))})},De.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(r,n){e?(!m()&&u()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),l()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),r()):n(new Error(\"Was not presenting to VRDisplay.\"))})},De.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},De.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent(\"vrdisplaypresentchange\",{detail:{display:this}});window.dispatchEvent(e)},De.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent(\"vrdisplayconnect\",{detail:{display:this}});window.dispatchEvent(e)},De.prototype.addFullscreenListeners_=function(e,t,r){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=r,t&&(document.fullscreenEnabled?e.addEventListener(\"fullscreenchange\",t,!1):document.webkitFullscreenEnabled?e.addEventListener(\"webkitfullscreenchange\",t,!1):document.mozFullScreenEnabled?document.addEventListener(\"mozfullscreenchange\",t,!1):document.msFullscreenEnabled&&e.addEventListener(\"msfullscreenchange\",t,!1)),r&&(document.fullscreenEnabled?e.addEventListener(\"fullscreenerror\",r,!1):document.webkitFullscreenEnabled?e.addEventListener(\"webkitfullscreenerror\",r,!1):document.mozFullScreenEnabled?document.addEventListener(\"mozfullscreenerror\",r,!1):document.msFullscreenEnabled&&e.addEventListener(\"msfullscreenerror\",r,!1))},De.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener(\"fullscreenchange\",t,!1),e.removeEventListener(\"webkitfullscreenchange\",t,!1),document.removeEventListener(\"mozfullscreenchange\",t,!1),e.removeEventListener(\"msfullscreenchange\",t,!1)}if(this.fullscreenErrorHandler_){var r=this.fullscreenErrorHandler_;e.removeEventListener(\"fullscreenerror\",r,!1),e.removeEventListener(\"webkitfullscreenerror\",r,!1),document.removeEventListener(\"mozfullscreenerror\",r,!1),e.removeEventListener(\"msfullscreenerror\",r,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},De.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},De.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},De.prototype.beginPresent_=function(){},De.prototype.endPresent_=function(){},De.prototype.submitFrame=function(e){},De.prototype.getEyeParameters=function(e){return null};var ye={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:\"https://dpdb.webvr.rocks/dpdb.json\",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Ne={LEFT:\"left\",RIGHT:\"right\"};function Ee(e){var t=y({},ye);e=y(t,e||{}),De.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName=\"Cardboard VRDisplay\",this.capabilities=new Te({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new ae(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new Z(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new H(this.dpdb_.getDeviceParams()),this.viewerSelector_=new ce,this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new se),u()&&window.addEventListener(\"resize\",this.onResize_.bind(this))}return Ee.prototype=Object.create(De.prototype),Ee.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ee.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Ee.prototype._getFieldOfView=function(e){var t;if(e==Ne.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=Ne.RIGHT)return console.error(\"Invalid eye provided: %s\",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},Ee.prototype._getEyeOffset=function(e){var t;if(e==Ne.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=Ne.RIGHT)return console.error(\"Invalid eye provided: %s\",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},Ee.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),r=this._getFieldOfView(e),n={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(n,\"fieldOfView\",{enumerable:!0,get:function(){return L(\"VRFieldOfView\",\"VRFrameData's projection matrices\"),r}}),n},Ee.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log(\"DPDB reported that device params were updated.\"),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Ee.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Ee.prototype.beginPresent_=function(){var e=this.layer_.source.getContext(\"webgl\");e||(e=this.layer_.source.getContext(\"experimental-webgl\")),e||(e=this.layer_.source.getContext(\"webgl2\")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=f()*this.bufferScale_,e.canvas.height=p()*this.bufferScale_,this.cardboardUI_=new R(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new R(e)),this.distorter_=new S(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(A()&&D()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener(\"orientationchange\",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener(\"vrdisplaypresentchange\",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Ee.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener(\"orientationchange\",this.orientationHandler),window.removeEventListener(\"vrdisplaypresentchange\",this.vrdisplaypresentchangeHandler)},Ee.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Ee.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext(\"webgl\").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},Ee.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Ee.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext(\"webgl\");t.canvas.setAttribute(\"style\",[\"position: absolute\",\"top: 0\",\"left: 0\",\"width: 100vw\",\"height: 100vh\",\"border: 0\",\"margin: 0\",\"padding: 0px\",\"box-sizing: content-box\"].join(\"; \")+\";\"),N(t.canvas)}},Ee.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Ee.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent(\"vrdisplaydeviceparamschange\",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},Ee.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},Ee.VRDisplay=De,Ee}()}(r={exports:{}},r.exports),r.exports),u=(n=s)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n,l={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:\"https://dpdb.webvr.rocks/dpdb.json\",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function c(e){this.config=a(a({},l),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative=\"getVRDisplays\"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&i())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}c.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(i()){var e=new u({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},c.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var e=this.native.VRFrameData,t=new this.native.VRFrameData,r=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(n){n instanceof e?r.call(this,n):(r.call(this,t),n.pose=t.pose,o(t.leftProjectionMatrix,n.leftProjectionMatrix),o(t.rightProjectionMatrix,n.rightProjectionMatrix),o(t.leftViewMatrix,n.leftViewMatrix),o(t.rightViewMatrix,n.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u.VRDisplay,window.VRFrameData=u.VRFrameData},c.prototype.getVRDisplays=function(){var e,t=this,r=this.config;if(!this.hasNative)return Promise.resolve(this.getPolyfillDisplays());var n,i=this.native.getVRDisplays.call(navigator),o=new Promise(function(t){e=setTimeout(function(){console.warn(\"Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill.\"),t([])},r.GET_VR_DISPLAYS_TIMEOUT)});return(n=[i,o],Promise.race?Promise.race(n):new Promise(function(e,t){for(var r=0;r<n.length;r++)n[r].then(e,t)})).then(function(r){return clearTimeout(e),r.length>0?r:t.getPolyfillDisplays()})},c.version=\"0.10.5\",c.VRFrameData=u.VRFrameData,c.VRDisplay=u.VRDisplay;var d=Object.freeze({default:c}),g=d&&c||d;return void 0!==e&&e.window&&(e.document||(e.document=e.window.document),e.navigator||(e.navigator=e.window.navigator)),g},e.exports=r()}).call(this,r(6))},function(e,t,r){var n;!function(i){\"use strict\";function o(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function a(e,t,r,n,i,a){return o((s=o(o(t,e),o(n,a)))<<(u=i)|s>>>32-u,r);var s,u}function s(e,t,r,n,i,o,s){return a(t&r|~t&n,e,t,i,o,s)}function u(e,t,r,n,i,o,s){return a(t&n|r&~n,e,t,i,o,s)}function l(e,t,r,n,i,o,s){return a(t^r^n,e,t,i,o,s)}function c(e,t,r,n,i,o,s){return a(r^(t|~n),e,t,i,o,s)}function d(e,t){var r,n,i,a,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var g=1732584193,M=-271733879,A=-1732584194,f=271733878;for(r=0;r<e.length;r+=16)n=g,i=M,a=A,d=f,M=c(M=c(M=c(M=c(M=l(M=l(M=l(M=l(M=u(M=u(M=u(M=u(M=s(M=s(M=s(M=s(M,A=s(A,f=s(f,g=s(g,M,A,f,e[r],7,-680876936),M,A,e[r+1],12,-389564586),g,M,e[r+2],17,606105819),f,g,e[r+3],22,-1044525330),A=s(A,f=s(f,g=s(g,M,A,f,e[r+4],7,-176418897),M,A,e[r+5],12,1200080426),g,M,e[r+6],17,-1473231341),f,g,e[r+7],22,-45705983),A=s(A,f=s(f,g=s(g,M,A,f,e[r+8],7,1770035416),M,A,e[r+9],12,-1958414417),g,M,e[r+10],17,-42063),f,g,e[r+11],22,-1990404162),A=s(A,f=s(f,g=s(g,M,A,f,e[r+12],7,1804603682),M,A,e[r+13],12,-40341101),g,M,e[r+14],17,-1502002290),f,g,e[r+15],22,1236535329),A=u(A,f=u(f,g=u(g,M,A,f,e[r+1],5,-165796510),M,A,e[r+6],9,-1069501632),g,M,e[r+11],14,643717713),f,g,e[r],20,-373897302),A=u(A,f=u(f,g=u(g,M,A,f,e[r+5],5,-701558691),M,A,e[r+10],9,38016083),g,M,e[r+15],14,-660478335),f,g,e[r+4],20,-405537848),A=u(A,f=u(f,g=u(g,M,A,f,e[r+9],5,568446438),M,A,e[r+14],9,-1019803690),g,M,e[r+3],14,-187363961),f,g,e[r+8],20,1163531501),A=u(A,f=u(f,g=u(g,M,A,f,e[r+13],5,-1444681467),M,A,e[r+2],9,-51403784),g,M,e[r+7],14,1735328473),f,g,e[r+12],20,-1926607734),A=l(A,f=l(f,g=l(g,M,A,f,e[r+5],4,-378558),M,A,e[r+8],11,-2022574463),g,M,e[r+11],16,1839030562),f,g,e[r+14],23,-35309556),A=l(A,f=l(f,g=l(g,M,A,f,e[r+1],4,-1530992060),M,A,e[r+4],11,1272893353),g,M,e[r+7],16,-155497632),f,g,e[r+10],23,-1094730640),A=l(A,f=l(f,g=l(g,M,A,f,e[r+13],4,681279174),M,A,e[r],11,-358537222),g,M,e[r+3],16,-722521979),f,g,e[r+6],23,76029189),A=l(A,f=l(f,g=l(g,M,A,f,e[r+9],4,-640364487),M,A,e[r+12],11,-421815835),g,M,e[r+15],16,530742520),f,g,e[r+2],23,-995338651),A=c(A,f=c(f,g=c(g,M,A,f,e[r],6,-198630844),M,A,e[r+7],10,1126891415),g,M,e[r+14],15,-1416354905),f,g,e[r+5],21,-57434055),A=c(A,f=c(f,g=c(g,M,A,f,e[r+12],6,1700485571),M,A,e[r+3],10,-1894986606),g,M,e[r+10],15,-1051523),f,g,e[r+1],21,-2054922799),A=c(A,f=c(f,g=c(g,M,A,f,e[r+8],6,1873313359),M,A,e[r+15],10,-30611744),g,M,e[r+6],15,-1560198380),f,g,e[r+13],21,1309151649),A=c(A,f=c(f,g=c(g,M,A,f,e[r+4],6,-145523070),M,A,e[r+11],10,-1120210379),g,M,e[r+2],15,718787259),f,g,e[r+9],21,-343485551),g=o(g,n),M=o(M,i),A=o(A,a),f=o(f,d);return[g,M,A,f]}function g(e){var t,r=\"\",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function M(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function A(e){var t,r,n=\"\";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+=\"0123456789abcdef\".charAt(t>>>4&15)+\"0123456789abcdef\".charAt(15&t);return n}function f(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return g(d(M(e),8*e.length))}(f(e))}function m(e,t){return function(e,t){var r,n,i=M(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=d(i,8*e.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return n=d(o.concat(M(t)),512+8*t.length),g(d(a.concat(n),640))}(f(e),f(t))}function h(e,t,r){return t?r?m(t,e):A(m(t,e)):r?p(e):A(p(e))}void 0===(n=function(){return h}.call(t,r,t,e))||(e.exports=n)}()},function(e,t){throw new Error(\"Module parse failed: Unexpected token (22:8)\\nYou may need an appropriate loader to handle this file type.\\n| //VTK::Output::Dec\\n| \\n| varying vec3 vertexVCVSOutput;\\n| \\n| // camera values\")},function(e,t){throw new Error(\"Module parse failed: Unexpected token (22:8)\\nYou may need an appropriate loader to handle this file type.\\n| //VTK::Output::Dec\\n| \\n| varying vec3 vertexVCVSOutput;\\n| \\n| // camera values\")},function(e,t){throw new Error(\"Module parse failed: Unexpected token (18:10)\\nYou may need an appropriate loader to handle this file type.\\n| =========================================================================*/\\n| \\n| attribute vec4 vertexDC;\\n| \\n| varying vec3 vertexVCVSOutput;\")},function(e,t){throw new Error(\"Module parse failed: Unexpected token (19:10)\\nYou may need an appropriate loader to handle this file type.\\n| // this shader implements imposters in OpenGL for Sticks\\n| \\n| attribute vec4 vertexMC;\\n| attribute vec3 orientMC;\\n| attribute vec4 offsetMC;\")},function(e,t){throw new Error(\"Module parse failed: Unexpected token (19:10)\\nYou may need an appropriate loader to handle this file type.\\n| // this shader implements imposters in OpenGL for Spheres\\n| \\n| attribute vec4 vertexMC;\\n| attribute vec2 offsetMC;\\n| \")},function(e,t,r){var n=r(28),i=r(27),o=r(26),a=r(25),s=r(24),u=r(23),l=r(22);l.alea=n,l.xor128=i,l.xorwow=o,l.xorshift7=a,l.xor4096=s,l.tychei=u,e.exports=l},function(e,t,r){\"use strict\";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=r(9),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._messageId=1,r._messages=new Map,r._worker=e,r._worker.onmessage=r._onMessage.bind(r),r._id=Math.ceil(1e7*Math.random()),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),i(t,[{key:\"terminate\",value:function(){this._worker.terminate()}},{key:\"isFree\",value:function(){return 0===this._messages.size}},{key:\"jobsLength\",value:function(){return this._messages.size}},{key:\"exec\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];return new Promise(function(o,a){var s=r._messageId++;r._messages.set(s,[o,a,i]),r._worker.postMessage([s,t,e],n||[])})}},{key:\"postMessage\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return new Promise(function(i,o){var a=t._messageId++;t._messages.set(a,[i,o,n]),t._worker.postMessage([a,e],r||[])})}},{key:\"emit\",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this._worker.postMessage({eventName:e,args:r})}},{key:\"_onMessage\",value:function(e){var r;if(!Array.isArray(e.data)&&e.data.eventName)return(r=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"emit\",this)).call.apply(r,[this,e.data.eventName].concat(o(e.data.args)));var n,i=(n=e.data,Array.isArray(n)?n:Array.from(n)),a=i[0],s=i.slice(1);if(1===a)this._onEvent.apply(this,o(s));else{if(0!==a)throw new Error(\"Wrong message type '\"+a+\"'\");this._onResult.apply(this,o(s))}}},{key:\"_onResult\",value:function(e,t,r){var i=this._messages.get(e),o=n(i,2),a=o[0],s=o[1];return this._messages.delete(e),1===t?a(r):s(r)}},{key:\"_onEvent\",value:function(e,t,r){var i=this._messages.get(e),o=n(i,3)[2];o&&o(t,r)}}]),t}();e.exports=s},function(e,t,r){\"use strict\";r.r(t);var n={};r.d(n,\"EPSILON\",function(){return we}),r.d(n,\"ARRAY_TYPE\",function(){return Ce}),r.d(n,\"RANDOM\",function(){return Oe}),r.d(n,\"setMatrixArrayType\",function(){return Se}),r.d(n,\"toRadian\",function(){return je}),r.d(n,\"equals\",function(){return ve});var i={};r.d(i,\"create\",function(){return ze}),r.d(i,\"fromMat4\",function(){return Re}),r.d(i,\"clone\",function(){return Pe}),r.d(i,\"copy\",function(){return ke}),r.d(i,\"fromValues\",function(){return Be}),r.d(i,\"set\",function(){return Ue}),r.d(i,\"identity\",function(){return Fe}),r.d(i,\"transpose\",function(){return Ve}),r.d(i,\"invert\",function(){return _e}),r.d(i,\"adjoint\",function(){return Ge}),r.d(i,\"determinant\",function(){return Qe}),r.d(i,\"multiply\",function(){return Ye}),r.d(i,\"translate\",function(){return We}),r.d(i,\"rotate\",function(){return He}),r.d(i,\"scale\",function(){return Xe}),r.d(i,\"fromTranslation\",function(){return Ke}),r.d(i,\"fromRotation\",function(){return Ze}),r.d(i,\"fromScaling\",function(){return qe}),r.d(i,\"fromMat2d\",function(){return $e}),r.d(i,\"fromQuat\",function(){return Je}),r.d(i,\"normalFromMat4\",function(){return et}),r.d(i,\"projection\",function(){return tt}),r.d(i,\"str\",function(){return rt}),r.d(i,\"frob\",function(){return nt}),r.d(i,\"add\",function(){return it}),r.d(i,\"subtract\",function(){return ot}),r.d(i,\"multiplyScalar\",function(){return at}),r.d(i,\"multiplyScalarAndAdd\",function(){return st}),r.d(i,\"exactEquals\",function(){return ut}),r.d(i,\"equals\",function(){return lt}),r.d(i,\"mul\",function(){return ct}),r.d(i,\"sub\",function(){return dt});var o={};r.d(o,\"create\",function(){return gt}),r.d(o,\"clone\",function(){return Mt}),r.d(o,\"copy\",function(){return At}),r.d(o,\"fromValues\",function(){return ft}),r.d(o,\"set\",function(){return pt}),r.d(o,\"identity\",function(){return mt}),r.d(o,\"transpose\",function(){return ht}),r.d(o,\"invert\",function(){return Tt}),r.d(o,\"adjoint\",function(){return Dt}),r.d(o,\"determinant\",function(){return yt}),r.d(o,\"multiply\",function(){return Nt}),r.d(o,\"translate\",function(){return Et}),r.d(o,\"scale\",function(){return It}),r.d(o,\"rotate\",function(){return xt}),r.d(o,\"rotateX\",function(){return Lt}),r.d(o,\"rotateY\",function(){return wt}),r.d(o,\"rotateZ\",function(){return Ct}),r.d(o,\"fromTranslation\",function(){return Ot}),r.d(o,\"fromScaling\",function(){return St}),r.d(o,\"fromRotation\",function(){return bt}),r.d(o,\"fromXRotation\",function(){return jt}),r.d(o,\"fromYRotation\",function(){return vt}),r.d(o,\"fromZRotation\",function(){return zt}),r.d(o,\"fromRotationTranslation\",function(){return Rt}),r.d(o,\"fromQuat2\",function(){return Pt}),r.d(o,\"getTranslation\",function(){return kt}),r.d(o,\"getScaling\",function(){return Bt}),r.d(o,\"getRotation\",function(){return Ut}),r.d(o,\"fromRotationTranslationScale\",function(){return Ft}),r.d(o,\"fromRotationTranslationScaleOrigin\",function(){return Vt}),r.d(o,\"fromQuat\",function(){return _t}),r.d(o,\"frustum\",function(){return Gt}),r.d(o,\"perspective\",function(){return Qt}),r.d(o,\"perspectiveFromFieldOfView\",function(){return Yt}),r.d(o,\"ortho\",function(){return Wt}),r.d(o,\"lookAt\",function(){return Ht}),r.d(o,\"targetTo\",function(){return Xt}),r.d(o,\"str\",function(){return Kt}),r.d(o,\"frob\",function(){return Zt}),r.d(o,\"add\",function(){return qt}),r.d(o,\"subtract\",function(){return $t}),r.d(o,\"multiplyScalar\",function(){return Jt}),r.d(o,\"multiplyScalarAndAdd\",function(){return er}),r.d(o,\"exactEquals\",function(){return tr}),r.d(o,\"equals\",function(){return rr}),r.d(o,\"mul\",function(){return nr}),r.d(o,\"sub\",function(){return ir});var a={};r.d(a,\"create\",function(){return or}),r.d(a,\"clone\",function(){return ar}),r.d(a,\"length\",function(){return sr}),r.d(a,\"fromValues\",function(){return ur}),r.d(a,\"copy\",function(){return lr}),r.d(a,\"set\",function(){return cr}),r.d(a,\"add\",function(){return dr}),r.d(a,\"subtract\",function(){return gr}),r.d(a,\"multiply\",function(){return Mr}),r.d(a,\"divide\",function(){return Ar}),r.d(a,\"ceil\",function(){return fr}),r.d(a,\"floor\",function(){return pr}),r.d(a,\"min\",function(){return mr}),r.d(a,\"max\",function(){return hr}),r.d(a,\"round\",function(){return Tr}),r.d(a,\"scale\",function(){return Dr}),r.d(a,\"scaleAndAdd\",function(){return yr}),r.d(a,\"distance\",function(){return Nr}),r.d(a,\"squaredDistance\",function(){return Er}),r.d(a,\"squaredLength\",function(){return Ir}),r.d(a,\"negate\",function(){return xr}),r.d(a,\"inverse\",function(){return Lr}),r.d(a,\"normalize\",function(){return wr}),r.d(a,\"dot\",function(){return Cr}),r.d(a,\"cross\",function(){return Or}),r.d(a,\"lerp\",function(){return Sr}),r.d(a,\"hermite\",function(){return br}),r.d(a,\"bezier\",function(){return jr}),r.d(a,\"random\",function(){return vr}),r.d(a,\"transformMat4\",function(){return zr}),r.d(a,\"transformMat3\",function(){return Rr}),r.d(a,\"transformQuat\",function(){return Pr}),r.d(a,\"rotateX\",function(){return kr}),r.d(a,\"rotateY\",function(){return Br}),r.d(a,\"rotateZ\",function(){return Ur}),r.d(a,\"angle\",function(){return Fr}),r.d(a,\"str\",function(){return Vr}),r.d(a,\"exactEquals\",function(){return _r}),r.d(a,\"equals\",function(){return Gr}),r.d(a,\"sub\",function(){return Qr}),r.d(a,\"mul\",function(){return Yr}),r.d(a,\"div\",function(){return Wr}),r.d(a,\"dist\",function(){return Hr}),r.d(a,\"sqrDist\",function(){return Xr}),r.d(a,\"len\",function(){return Kr}),r.d(a,\"sqrLen\",function(){return Zr}),r.d(a,\"forEach\",function(){return qr});var s={};r.d(s,\"create\",function(){return $r}),r.d(s,\"clone\",function(){return Jr}),r.d(s,\"fromValues\",function(){return en}),r.d(s,\"copy\",function(){return tn}),r.d(s,\"set\",function(){return rn}),r.d(s,\"add\",function(){return nn}),r.d(s,\"subtract\",function(){return on}),r.d(s,\"multiply\",function(){return an}),r.d(s,\"divide\",function(){return sn}),r.d(s,\"ceil\",function(){return un}),r.d(s,\"floor\",function(){return ln}),r.d(s,\"min\",function(){return cn}),r.d(s,\"max\",function(){return dn}),r.d(s,\"round\",function(){return gn}),r.d(s,\"scale\",function(){return Mn}),r.d(s,\"scaleAndAdd\",function(){return An}),r.d(s,\"distance\",function(){return fn}),r.d(s,\"squaredDistance\",function(){return pn}),r.d(s,\"length\",function(){return mn}),r.d(s,\"squaredLength\",function(){return hn}),r.d(s,\"negate\",function(){return Tn}),r.d(s,\"inverse\",function(){return Dn}),r.d(s,\"normalize\",function(){return yn}),r.d(s,\"dot\",function(){return Nn}),r.d(s,\"lerp\",function(){return En}),r.d(s,\"random\",function(){return In}),r.d(s,\"transformMat4\",function(){return xn}),r.d(s,\"transformQuat\",function(){return Ln}),r.d(s,\"str\",function(){return wn}),r.d(s,\"exactEquals\",function(){return Cn}),r.d(s,\"equals\",function(){return On}),r.d(s,\"sub\",function(){return Sn}),r.d(s,\"mul\",function(){return bn}),r.d(s,\"div\",function(){return jn}),r.d(s,\"dist\",function(){return vn}),r.d(s,\"sqrDist\",function(){return zn}),r.d(s,\"len\",function(){return Rn}),r.d(s,\"sqrLen\",function(){return Pn}),r.d(s,\"forEach\",function(){return kn});var u={};r.d(u,\"create\",function(){return Bn}),r.d(u,\"identity\",function(){return Un}),r.d(u,\"setAxisAngle\",function(){return Fn}),r.d(u,\"getAxisAngle\",function(){return Vn}),r.d(u,\"multiply\",function(){return _n}),r.d(u,\"rotateX\",function(){return Gn}),r.d(u,\"rotateY\",function(){return Qn}),r.d(u,\"rotateZ\",function(){return Yn}),r.d(u,\"calculateW\",function(){return Wn}),r.d(u,\"slerp\",function(){return Hn}),r.d(u,\"invert\",function(){return Xn}),r.d(u,\"conjugate\",function(){return Kn}),r.d(u,\"fromMat3\",function(){return Zn}),r.d(u,\"fromEuler\",function(){return qn}),r.d(u,\"str\",function(){return $n}),r.d(u,\"clone\",function(){return Jn}),r.d(u,\"fromValues\",function(){return ei}),r.d(u,\"copy\",function(){return ti}),r.d(u,\"set\",function(){return ri}),r.d(u,\"add\",function(){return ni}),r.d(u,\"mul\",function(){return ii}),r.d(u,\"scale\",function(){return oi}),r.d(u,\"dot\",function(){return ai}),r.d(u,\"lerp\",function(){return si}),r.d(u,\"length\",function(){return ui}),r.d(u,\"len\",function(){return li}),r.d(u,\"squaredLength\",function(){return ci}),r.d(u,\"sqrLen\",function(){return di}),r.d(u,\"normalize\",function(){return gi}),r.d(u,\"exactEquals\",function(){return Mi}),r.d(u,\"equals\",function(){return Ai}),r.d(u,\"rotationTo\",function(){return fi}),r.d(u,\"sqlerp\",function(){return pi}),r.d(u,\"setAxes\",function(){return mi});var l=r(0),c=r(19),d=r.n(c);const g={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},M={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5};var A={Wrap:g,Filter:M};const f={VOID:\"\",CHAR:\"Int8Array\",SIGNED_CHAR:\"Int8Array\",UNSIGNED_CHAR:\"Uint8Array\",SHORT:\"Int16Array\",UNSIGNED_SHORT:\"Uint16Array\",INT:\"Int32Array\",UNSIGNED_INT:\"Uint32Array\",FLOAT:\"Float32Array\",DOUBLE:\"Float64Array\"};var p={DefaultDataType:f.FLOAT,DataTypeByteSize:{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},VtkDataTypes:f},m=r(18),h=r.n(m);const{vtkErrorMacro:T,vtkWarningMacro:D}=l.default;let y=0;const N=20,E=1e-12;function I(e){return()=>T(`vtkMath::${e} - NOT IMPLEMENTED`)}function x(e,t){for(let r=0;r<3;r++){const n=e[r];e[r]=t[r],t[r]=n}}function L(e=3){const t=[];for(;t.length<e;)t.push(0);return t}const{round:w,floor:C,ceil:O,min:S,max:b}=Math;const j=I(\"ceilLog2\"),v=I(\"factorial\");function z(e){let t=1;for(;t<e;)t*=2;return t}const R=I(\"gaussian\");function P(e,t){e[0]*=t,e[1]*=t,e[2]*=t}function k(e,t){e[0]*=t,e[1]*=t}function B(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function U(e,t,r){const n=e[1]*t[2]-e[2]*t[1],i=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];r[0]=n,r[1]=i,r[2]=o}function F(e,t=3){switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:{let r=0;for(let n=0;n<t;n++)r+=e[n]*e[n];return Math.sqrt(r)}}}function V(e){const t=F(e);return 0!==t&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function _(e,t){return e[0]*t[0]+e[1]*t[1]}function G(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Q(...e){return 2===e.length?e[0][0]*e[1][1]-e[1][0]*e[0][1]:4===e.length?e[0]*e[3]-e[1]*e[2]:Number.NaN}function Y(e,t,r){const n=[[0,0,0],[0,0,0],[0,0,0]];for(let r=0;r<3;r++)n[0][r]=e[0][0]*t[0][r]+e[0][1]*t[1][r]+e[0][2]*t[2][r],n[1][r]=e[1][0]*t[0][r]+e[1][1]*t[1][r]+e[1][2]*t[2][r],n[2][r]=e[2][0]*t[0][r]+e[2][1]*t[1][r]+e[2][2]*t[2][r];for(let e=0;e<3;e++)r[e][0]=n[e][0],r[e][1]=n[e][1],r[e][2]=n[e][2]}function W(e,t){let r;r=e[1][0],t[1][0]=e[0][1],t[0][1]=r,r=e[2][0],t[2][0]=e[0][2],t[0][2]=r,r=e[2][1],t[2][1]=e[1][2],t[1][2]=r,t[0][0]=e[0][0],t[1][1]=e[1][1],t[2][2]=e[2][2]}function H(e){for(let t=0;t<3;t++)e[t][0]=e[t][1]=e[t][2]=0,e[t][t]=1}function X(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][0]*e[2][1]*e[1][2]-e[1][0]*e[0][1]*e[2][2]-e[2][0]*e[1][1]*e[0][2]}function K(e,t){const r=e[0]*e[0],n=e[0]*e[1],i=e[0]*e[2],o=e[0]*e[3],a=e[1]*e[1],s=e[2]*e[2],u=e[3]*e[3],l=e[1]*e[2],c=e[1]*e[3],d=e[2]*e[3],g=a+s+u;let M=1/(r+g);const A=(r-g)*M;M*=2,t[0][0]=a*M+A,t[1][0]=(l+o)*M,t[2][0]=(c-i)*M,t[0][1]=(l-o)*M,t[1][1]=s*M+A,t[2][1]=(d+n)*M,t[0][2]=(c+i)*M,t[1][2]=(d-n)*M,t[2][2]=u*M+A}function Z(e,t,r,n){let i,o,a,s,u,l,c,d,g,M,A,f,p,m,h,T;const y=L(t),E=L(t),I=(e,t,r,n,i)=>{m=e[t][r],p=e[n][i],e[t][r]=m-f*(p+m*M),e[n][i]=p+f*(m-p*M)};for(u=0;u<t;u++){for(s=0;s<t;s++)n[u][s]=0;n[u][u]=1}for(u=0;u<t;u++)y[u]=r[u]=e[u][u],E[u]=0;for(i=0;i<N;i++){for(A=0,u=0;u<t-1;u++)for(s=u+1;s<t;s++)A+=Math.abs(e[u][s]);if(0===A)break;for(c=i<3?.2*A/(t*t):0,u=0;u<t-1;u++)for(s=u+1;s<t;s++)if(m=100*Math.abs(e[u][s]),i>3&&Math.abs(r[u])+m===Math.abs(r[u])&&Math.abs(r[s])+m===Math.abs(r[s]))e[u][s]=0;else if(Math.abs(e[u][s])>c){for(p=r[s]-r[u],Math.abs(p)+m===Math.abs(p)?g=e[u][s]/p:(d=.5*p/e[u][s],g=1/(Math.abs(d)+Math.sqrt(1+d*d)),d<0&&(g=-g)),h=1/Math.sqrt(1+g*g),M=(f=g*h)/(1+h),p=g*e[u][s],E[u]-=p,E[s]+=p,r[u]-=p,r[s]+=p,e[u][s]=0,o=0;o<=u-1;o++)I(e,o,u,o,s);for(o=u+1;o<=s-1;o++)I(e,u,o,o,s);for(o=s+1;o<t;o++)I(e,u,o,s,o);for(o=0;o<t;o++)I(n,o,u,o,s)}for(u=0;u<t;u++)y[u]+=E[u],r[u]=y[u],E[u]=0}if(i>=N)return D(\"vtkMath::Jacobi: Error extracting eigenfunctions\"),0;for(o=0;o<t-1;o++){for(T=r[a=o],i=o+1;i<t;i++)r[i]>=T&&(T=r[a=i]);if(a!==o)for(r[a]=r[o],r[o]=T,i=0;i<t;i++)T=n[i][o],n[i][o]=n[i][a],n[i][a]=T}const x=(t>>1)+(1&t);for(o=0;o<t;o++){for(l=0,i=0;i<t;i++)n[i][o]>=0&&l++;if(l<x)for(i=0;i<t;i++)n[i][o]*=-1}return 1}function q(e,t){const r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];r[0][0]=e[0][0]+e[1][1]+e[2][2],r[1][1]=e[0][0]-e[1][1]-e[2][2],r[2][2]=-e[0][0]+e[1][1]-e[2][2],r[3][3]=-e[0][0]-e[1][1]+e[2][2],r[0][1]=r[1][0]=e[2][1]-e[1][2],r[0][2]=r[2][0]=e[0][2]-e[2][0],r[0][3]=r[3][0]=e[1][0]-e[0][1],r[1][2]=r[2][1]=e[1][0]+e[0][1],r[1][3]=r[3][1]=e[0][2]+e[2][0],r[2][3]=r[3][2]=e[2][1]+e[1][2];const n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=[0,0,0,0],o=[0,0,0,0];for(let e=0;e<4;e++)i[e]=r[e],o[e]=n[e];Z(i,4,[0,0,0,0],o),t[0]=n[0][0],t[1]=n[1][0],t[2]=n[2][0],t[3]=n[3][0]}function $(e,t){for(let r=0;r<3;r++)t[0][r]=e[0][r],t[1][r]=e[1][r],t[2][r]=e[2][r];const r=L(3),n=L(3);let i;for(let e=0;e<3;e++){const n=Math.abs(t[e][0]),o=Math.abs(t[e][1]),a=Math.abs(t[e][2]);i=a>(i=o>n?o:n)?a:i,r[e]=1,0!==i&&(r[e]/=i)}const o=Math.abs(t[0][0])*r[0],a=Math.abs(t[1][0])*r[1],s=Math.abs(t[2][0])*r[2];n[0]=0,a>=(i=o)&&(i=a,n[0]=1),s>=i&&(n[0]=2),0!==n[0]&&(x(t[n[0]],t[0]),r[n[0]]=r[0]);const u=Math.abs(t[1][1])*r[1],l=Math.abs(t[2][1])*r[2];n[1]=1,l>=(i=u)&&(n[1]=2,x(t[2],t[1])),n[2]=2;let c=0;if(X(t)<0){c=1;for(let e=0;e<3;e++)t[0][e]=-t[0][e],t[1][e]=-t[1][e],t[2][e]=-t[2][e]}const d=L(4);if(q(t,d),K(d,t),c)for(let e=0;e<3;e++)t[0][e]=-t[0][e],t[1][e]=-t[1][e],t[2][e]=-t[2][e];1!==n[1]&&x(t[n[1]],t[1]),0!==n[0]&&x(t[n[0]],t[0])}function J(e,t,r){let n,i,o,a,s,u;const l=[L(3),L(3),L(3)],c=L(3),d=L(3);for(n=0;n<3;n++)l[n][0]=e[n][0],l[n][1]=e[n][1],l[n][2]=e[n][2],c[n]=l[n],d[n]=r[n];if(Z(c,3,t,d),t[0]!==t[1]||t[0]!==t[2]){for(W(r,r),n=0;n<3;n++)if(t[(n+1)%3]===t[(n+2)%3]){for(u=Math.abs(r[n][0]),a=0,i=1;i<3;i++)u<(s=Math.abs(r[n][i]))&&(u=s,a=i);return a!==n&&(s=t[a],t[a]=t[n],t[n]=s,x(r[n],r[a])),r[a][a]<0&&(r[a][0]=-r[a][0],r[a][1]=-r[a][1],r[a][2]=-r[a][2]),o=(a+2)%3,r[i=(a+1)%3][0]=0,r[i][1]=0,r[i][2]=0,r[i][i]=1,U(r[a],r[i],r[o]),V(r[o]),U(r[o],r[a],r[i]),void W(r,r)}for(u=Math.abs(r[0][0]),a=0,n=1;n<3;n++)u<(s=Math.abs(r[n][0]))&&(u=s,a=n);for(0!==a&&(s=t[a],t[a]=t[0],t[0]=s,x(r[a],r[0])),Math.abs(r[1][1])<Math.abs(r[2][1])&&(s=t[2],t[2]=t[1],t[1]=s,x(r[2],r[1])),n=0;n<2;n++)r[n][n]<0&&(r[n][0]=-r[n][0],r[n][1]=-r[n][1],r[n][2]=-r[n][2]);X(r)<0&&(r[2][0]=-r[2][0],r[2][1]=-r[2][1],r[2][2]=-r[2][2]),W(r,r)}else H(r)}function ee(e,t,r){let n,i,o,a,s,u,l,c=0;const d=L(r);for(n=0;n<r;n++){for(a=0,i=0;i<r;i++)(l=Math.abs(e[n][i]))>a&&(a=l);if(0===a)return D(\"Unable to factor linear system\"),0;d[n]=1/a}for(i=0;i<r;i++){for(n=0;n<i;n++){for(s=e[n][i],o=0;o<n;o++)s-=e[n][o]*e[o][i];e[n][i]=s}for(a=0,n=i;n<r;n++){for(s=e[n][i],o=0;o<i;o++)s-=e[n][o]*e[o][i];e[n][i]=s,(u=d[n]*Math.abs(s))>=a&&(a=u,c=n)}if(i!==c){for(o=0;o<r;o++)u=e[c][o],e[c][o]=e[i][o],e[i][o]=u;d[c]=d[i]}if(t[i]=c,Math.abs(e[i][i])<=E)return D(\"Unable to factor linear system\"),0;if(i!==r-1)for(u=1/e[i][i],n=i+1;n<r;n++)e[n][i]*=u}return 1}function te(e,t,r,n){let i,o,a,s,u;for(a=-1,i=0;i<n;i++){if(u=r[s=t[i]],r[s]=r[i],a>=0)for(o=a;o<=i-1;o++)u-=e[i][o]*r[o];else 0!==u&&(a=i);r[i]=u}for(i=n-1;i>=0;i--){for(u=r[i],o=i+1;o<n;o++)u-=e[i][o]*r[o];r[i]=u/e[i][i]}}function re(e,t,r,n=null,i=null){const o=n||L(r),a=i||L(r);if(0===ee(e,o,r))return 0;for(let n=0;n<r;n++){for(let e=0;e<r;e++)a[e]=0;a[n]=1,te(e,o,a,r);for(let e=0;e<r;e++)t[e][n]=a[e]}return 1}function ne(e,t,r,n){if(e<r)return D(\"Insufficient number of samples. Underdetermined.\"),0;let i,o,a;const s=L(r),u=L(r),l=L(r);for(i=0;i<r;i++)for(l[i]=L(r),s[i]=L(r),o=0;o<r;o++)s[i][o]=0;for(a=0;a<e;a++)for(i=0;i<r;i++)for(o=i;o<r;o++)s[i][o]+=t[a][i]*t[a][o];for(i=0;i<r;i++)for(o=0;o<i;o++)s[i][o]=s[o][i];for(Z(s,r,u,l),i=0;i<r;i++)n[i][0]=l[i][r-1];return 1}function ie(e,t){const[r,n,i]=e;let o=(r+16)/116,a=n/500+o,s=o-i/200;o**3>.008856?o**=3:o=(o-16/116)/7.787,a**3>.008856?a**=3:a=(a-16/116)/7.787,s**3>.008856?s**=3:s=(s-16/116)/7.787;t[0]=.9505*a,t[1]=1*o,t[2]=1.089*s}function oe(e,t){const[r,n,i]=e;let o=r/.9505,a=n/1,s=i/1.089;o>.008856?o**=1/3:o=7.787*o+16/116,a>.008856?a**=1/3:a=7.787*a+16/116,s>.008856?s**=1/3:s=7.787*s+16/116,t[0]=116*a-16,t[1]=500*(o-a),t[2]=200*(a-s)}function ae(e,t){const[r,n,i]=e;let o=3.2406*r+-1.5372*n+-.4986*i,a=-.9689*r+1.8758*n+.0415*i,s=.0557*r+-.204*n+1.057*i;o>.0031308?o=1.055*o**(1/2.4)-.055:o*=12.92,a>.0031308?a=1.055*a**(1/2.4)-.055:a*=12.92,s>.0031308?s=1.055*s**(1/2.4)-.055:s*=12.92;let u=o;u<a&&(u=a),u<s&&(u=s),u>1&&(o/=u,a/=u,s/=u),o<0&&(o=0),a<0&&(a=0),s<0&&(s=0),t[0]=o,t[1]=a,t[2]=s}function se(e,t){let[r,n,i]=e;r>.04045?r=((r+.055)/1.055)**2.4:r/=12.92,n>.04045?n=((n+.055)/1.055)**2.4:n/=12.92,i>.04045?i=((i+.055)/1.055)**2.4:i/=12.92,t[0]=.4124*r+.3576*n+.1805*i,t[1]=.2126*r+.7152*n+.0722*i,t[2]=.0193*r+.1192*n+.9505*i}const ue=I(\"GetScalarTypeFittingRange\"),le=I(\"GetAdjustedScalarRange\");const{isFinite:ce,isNaN:de}=Number;var ge={Pi:()=>Math.PI,radiansFromDegrees:e=>e/180*Math.PI,degreesFromRadians:e=>180*e/Math.PI,round:w,floor:C,ceil:O,ceilLog2:j,min:S,max:b,arrayMin:function(e){let t=1/0;for(let r=0,n=e.length;r<n;++r)e[r]<t&&(t=e[r]);return t},arrayMax:function(e){let t=-1/0;for(let r=0,n=e.length;r<n;++r)t<e[r]&&(t=e[r]);return t},isPowerOfTwo:function(e){return e===z(e)},nearestPowerOfTwo:z,factorial:v,binomial:function(e,t){let r=1;for(let n=1;n<=t;++n)r*=(e-n+1)/n;return Math.floor(r)},beginCombination:function(e,t){if(e<t)return 0;const r=L(t);for(let e=0;e<t;++e)r[e]=e;return r},nextCombination:function(e,t,r){let n=0;for(let i=t-1;i>=0;--i)if(r[i]<e-t+i){let e=r[i]+1;for(;i<t;)r[i++]=e++;n=1;break}return n},randomSeed:e=>{h()(`${e}`,{global:!0}),y=e},getSeed:()=>y,random:function(e=0,t=1){return e+(t-e)*Math.random()},gaussian:R,add:function(e,t,r){r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2]},subtract:function(e,t,r){r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2]},multiplyScalar:P,multiplyScalar2D:k,dot:B,outer:function(e,t,r){for(let n=0;n<3;n++)for(let i=0;i<3;i++)r[n][i]=e[n]*t[i]},cross:U,norm:F,normalize:V,perpendiculars:function(e,t,r,n){const i=e[0]*e[0],o=e[1]*e[1],a=e[2]*e[2],s=Math.sqrt(i+o+a);let u,l,c;i>o&&i>a?(u=0,l=1,c=2):o>a?(u=1,l=2,c=0):(u=2,l=0,c=1);const d=e[u]/s,g=e[l]/s,M=e[c]/s,A=Math.sqrt(d*d+M*M);if(0!==n){const e=Math.sin(n),i=Math.cos(n);t&&(t[u]=(M*i-d*g*e)/A,t[l]=e*A,t[c]=(-d*i-g*M*e)/A),r&&(r[u]=(-M*e-d*g*i)/A,r[l]=i*A,r[c]=(d*e-g*M*i)/A)}else t&&(t[u]=M/A,t[l]=0,t[c]=-d/A),r&&(r[u]=-d*g/A,r[l]=A,r[c]=-g*M/A)},projectVector:function(e,t,r){const n=B(t,t);if(0===n)return r[0]=0,r[1]=0,r[2]=0,!1;const i=B(e,t)/n;for(let e=0;e<3;e++)r[e]=t[e];return P(r,i),!0},projectVector2D:function(e,t,r){const n=_(t,t);if(0===n)return r[0]=0,r[1]=0,!1;const i=_(e,t)/n;for(let e=0;e<2;e++)r[e]=t[e];return k(r,i),!0},distance2BetweenPoints:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])},angleBetweenVectors:function(e,t){const r=[0,0,0];return U(e,t,r),Math.atan2(F(r),B(e,t))},gaussianAmplitude:function(e,t,r){const n=Math.abs(e-r);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-(n**2)/(2*t))},gaussianWeight:function(e,t,r){const n=Math.abs(e-r);return Math.exp(-(n**2)/(2*t))},dot2D:_,outer2D:function(e,t,r){for(let n=0;n<2;n++)for(let i=0;i<2;i++)r[n][i]=e[n]*t[i]},norm2D:G,normalize2D:function(e){const t=G(e);return 0!==t&&(e[0]/=t,e[1]/=t),t},determinant2x2:Q,LUFactor3x3:function(e,t){let r,n,i;const o=[0,0,0];for(let t=0;t<3;t++)i=Math.abs(e[t][0]),(n=Math.abs(e[t][1]))>i&&(i=n),(n=Math.abs(e[t][2]))>i&&(i=n),o[t]=1/i;i=o[0]*Math.abs(e[0][0]),r=0,(n=o[1]*Math.abs(e[1][0]))>=i&&(i=n,r=1),(n=o[2]*Math.abs(e[2][0]))>=i&&(r=2),0!==r&&(x(e[r],e[0]),o[r]=o[0]),t[0]=r,e[1][0]/=e[0][0],e[2][0]/=e[0][0],e[1][1]-=e[1][0]*e[0][1],e[2][1]-=e[2][0]*e[0][1],i=o[1]*Math.abs(e[1][1]),r=1,(n=o[2]*Math.abs(e[2][1]))>=i&&(r=2,x(e[2],e[1]),o[2]=o[1]),t[1]=r,e[2][1]/=e[1][1],e[1][2]-=e[1][0]*e[0][2],e[2][2]-=e[2][0]*e[0][2]+e[2][1]*e[1][2],t[2]=2},LUSolve3x3:function(e,t,r){let n=r[t[0]];r[t[0]]=r[0],r[0]=n,n=r[t[1]],r[t[1]]=r[1],r[1]=n-e[1][0]*r[0],n=r[t[2]],r[t[2]]=r[2],r[2]=n-e[2][0]*r[0]-e[2][1]*r[1],r[2]/=e[2][2],r[1]=(r[1]-e[1][2]*r[2])/e[1][1],r[0]=(r[0]-e[0][1]*r[1]-e[0][2]*r[2])/e[0][0]},linearSolve3x3:function(e,t,r){const n=e[0][0],i=e[0][1],o=e[0][2],a=e[1][0],s=e[1][1],u=e[1][2],l=e[2][0],c=e[2][1],d=e[2][2],g=+Q(s,c,u,d),M=-Q(a,l,u,d),A=+Q(a,l,s,c),f=-Q(i,c,o,d),p=+Q(n,l,o,d),m=-Q(n,l,i,c),h=+Q(i,s,o,u),T=-Q(n,a,o,u),D=+Q(n,a,i,s),y=n*g+i*M+o*A,N=g*t[0]+f*t[1]+h*t[2],E=M*t[0]+p*t[1]+T*t[2],I=A*t[0]+m*t[1]+D*t[2];r[0]=N/y,r[1]=E/y,r[2]=I/y},multiply3x3_vect3:function(e,t,r){const n=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2],i=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2],o=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2];r[0]=n,r[1]=i,r[2]=o},multiply3x3_mat3:Y,multiplyMatrix:function(e,t,r,n,i,o,a){n!==i&&T(\"Number of columns of A must match number of rows of B.\");for(let i=0;i<r;i++)for(let r=0;r<o;r++){a[i][r]=0;for(let o=0;o<n;o++)a[i][r]+=e[i][o]*t[o][r]}},transpose3x3:W,invert3x3:function(e,t){const r=e[0][0],n=e[0][1],i=e[0][2],o=e[1][0],a=e[1][1],s=e[1][2],u=e[2][0],l=e[2][1],c=e[2][2],d=+Q(a,l,s,c),g=-Q(o,u,s,c),M=+Q(o,u,a,l),A=-Q(n,l,i,c),f=+Q(r,u,i,c),p=-Q(r,u,n,l),m=+Q(n,a,i,s),h=-Q(r,o,i,s),T=+Q(r,o,n,a),D=r*d+n*g+i*M;t[0][0]=d/D,t[1][0]=g/D,t[2][0]=M/D,t[0][1]=A/D,t[1][1]=f/D,t[2][1]=p/D,t[0][2]=m/D,t[1][2]=h/D,t[2][2]=T/D},identity3x3:H,determinant3x3:X,quaternionToMatrix3x3:K,areMatricesEqual:function(e,t){return!e.length!==t.length&&e.every(function(e,r){return e===t[r]})},matrix3x3ToQuaternion:q,multiplyQuaternion:function(e,t,r){const n=e[0]*t[0],i=e[0]*t[1],o=e[0]*t[2],a=e[0]*t[3],s=e[1]*t[0],u=e[1]*t[1],l=e[1]*t[2],c=e[1]*t[3],d=e[2]*t[0],g=e[2]*t[1],M=e[2]*t[2],A=e[2]*t[3],f=e[3]*t[0],p=e[3]*t[1],m=e[3]*t[2],h=e[3]*t[3];r[0]=n-u-M-h,r[1]=i+s+A-m,r[2]=o-c+d+p,r[3]=a+l-g+f},orthogonalize3x3:$,diagonalize3x3:J,singularValueDecomposition3x3:function(e,t,r,n){let i;const o=[L(3),L(3),L(3)];for(i=0;i<3;i++)o[0][i]=e[0][i],o[1][i]=e[1][i],o[2][i]=e[2][i];const a=X(o);if(a<0)for(i=0;i<3;i++)o[0][i]=-o[0][i],o[1][i]=-o[1][i],o[2][i]=-o[2][i];$(o,t),W(o,o),Y(o,t,n),J(n,r,n),Y(t,n,t),W(n,n),a<0&&(r[0]=-r[0],r[1]=-r[1],r[2]=-r[2])},solveLinearSystem:function(e,t,r){if(2===r){const r=L(2),n=Q(e[0][0],e[0][1],e[1][0],e[1][1]);return 0===n?0:(r[0]=(e[1][1]*t[0]-e[0][1]*t[1])/n,r[1]=(-e[1][0]*t[0]+e[0][0]*t[1])/n,t[0]=r[0],t[1]=r[1],1)}if(1===r)return 0===e[0][0]?0:(t[0]/=e[0][0],1);const n=L(r);return 0===ee(e,n,r)?0:(te(e,n,t,r),1)},invertMatrix:re,luFactorLinearSystem:ee,luSolveLinearSystem:te,estimateMatrixCondition:function(e,t){let r=+Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<t;r++)for(let i=r;i<t;i++)Math.abs(e[r][i])>b&&(n=Math.abs(e[r][i]));for(let n=0;n<t;n++)Math.abs(e[n][n])<S&&(r=Math.abs(e[n][n]));return 0===r?Number.MAX_VALUE:n/r},jacobi:function(e,t,r){return Z(e,3,t,r)},jacobiN:Z,solveHomogeneousLeastSquares:ne,solveLeastSquares:function(e,t,r,n,i,o,a=!0){if(e<r||e<i)return D(\"Insufficient number of samples. Underdetermined.\"),0;const s=L(i);let u,l,c,d,g=1,M=0,A=0;if(a){for(c=0;c<i;c++)s[c]=1;for(l=0;l<e;l++)for(c=0;c<i;c++)Math.abs(n[l][c])>E&&(g=0,s[c]=0);if(g&&1===i)return D(\"Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()\"),ne(e,t,r,o);if(g)A=1;else for(c=0;c<i;c++)s[c]&&(A=1)}if(A){for(u=L(r),c=0;c<r;c++)u[c]=[0];M=ne(e,t,r,u)}const f=L(r),p=L(r),m=L(r);for(l=0;l<r;l++){for(f[l]=L(r),p[l]=L(r),c=0;c<r;c++)f[l][c]=0,p[l][c]=0;for(m[l]=L(i),c=0;c<i;c++)m[l][c]=0}for(d=0;d<e;d++)for(l=0;l<r;l++){for(c=l;c<r;c++)f[l][c]+=t[d][l]*t[d][c];for(c=0;c<i;c++)m[l][c]+=t[d][l]*n[d][c]}for(l=0;l<r;l++)for(c=0;c<l;c++)f[l][c]=f[c][l];const h=re(f,p,r);if(h)for(l=0;l<r;l++)for(c=0;c<i;c++)for(o[l][c]=0,d=0;d<r;d++)o[l][c]+=p[l][d]*m[d][c];if(A)for(c=0;c<i;c++)if(s[c])for(l=0;l<r;l++)o[l][c]=u[l][0];return A?M&&h:h},hex2float:function(e,t=[0,.5,1]){switch(e.length){case 3:return t[0]=17*parseInt(e[0],16)/255,t[1]=17*parseInt(e[1],16)/255,t[2]=17*parseInt(e[2],16)/255,t;case 4:return t[0]=17*parseInt(e[1],16)/255,t[1]=17*parseInt(e[2],16)/255,t[2]=17*parseInt(e[3],16)/255,t;case 6:return t[0]=parseInt(e.substr(0,2),16)/255,t[1]=parseInt(e.substr(2,2),16)/255,t[2]=parseInt(e.substr(4,2),16)/255,t;case 7:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t;case 9:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t[3]=parseInt(e.substr(7,2),16)/255,t;default:return t}},rgb2hsv:function(e,t){let r,n;const[i,o,a]=e;let s=i,u=i;o>s?s=o:o<u&&(u=o),a>s?s=a:a<u&&(u=a);const l=s;(n=l>0?(s-u)/s:0)>0?(r=i===s?1/6*(o-a)/(s-u):o===s?1/3+1/6*(a-i)/(s-u):2/3+1/6*(i-o)/(s-u))<0&&(r+=1):r=0,t[0]=r,t[1]=n,t[2]=l},hsv2rgb:function(e,t){const[r,n,i]=e;let o,a,s;r>1/6&&r<=1/3?(a=1,o=(1/3-r)/(1/6),s=0):r>1/3&&r<=.5?(a=1,s=(r-1/3)/(1/6),o=0):r>.5&&r<=2/3?(s=1,a=(2/3-r)/(1/6),o=0):r>2/3&&r<=5/6?(s=1,o=(r-2/3)/(1/6),a=0):r>5/6&&r<=1?(o=1,s=(1-r)/(1/6),a=0):(o=1,a=r/(1/6),s=0),o=n*o+(1-n),a=n*a+(1-n),s=n*s+(1-n),o*=i,a*=i,s*=i,t[0]=o,t[1]=a,t[2]=s},lab2xyz:ie,xyz2lab:oe,xyz2rgb:ae,rgb2xyz:se,rgb2lab:function(e,t){const r=[0,0,0];se(e,r),oe(r,t)},lab2rgb:function(e,t){const r=[0,0,0];ie(e,r),ae(r,t)},uninitializeBounds:function(e){e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1},areBoundsInitialized:function(e){return!(e[1]-e[0]<0)},clampValue:function(e,t,r){return e<t?t:e>r?r:e},clampAndNormalizeValue:function(e,t){let r=0;return t[0]!==t[1]&&(r=((r=e<t[0]?t[0]:e>t[1]?t[1]:e)-t[0])/(t[1]-t[0])),r},getScalarTypeFittingRange:ue,getAdjustedScalarRange:le,extentIsWithinOtherExtent:function(e,t){if(!e||!t)return 0;for(let r=0;r<6;r+=2)if(e[r]<t[r]||e[r]>t[r+1]||e[r+1]<t[r]||e[r+1]>t[r+1])return 0;return 1},boundsIsWithinOtherBounds:function(e,t,r){if(!e||!t)return 0;for(let n=0;n<6;n+=2)if(e[n]+r[n/2]<t[n]||e[n]-r[n/2]>t[n+1]||e[n+1]+r[n/2]<t[n]||e[n+1]-r[n/2]>t[n+1])return 0;return 1},pointIsWithinBounds:function(e,t,r){if(!e||!t||!r)return 0;for(let n=0;n<3;n++)if(e[n]+r[n]<t[2*n]||e[n]-r[n]>t[2*n+1])return 0;return 1},solve3PointCircle:function(e,t,r,n){const i=L(3),o=L(3),a=L(3),s=L(3),u=L(3),l=L(3);for(let n=0;n<3;++n)i[n]=e[n]-t[n],o[n]=t[n]-r[n],a[n]=r[n]-e[n],s[n]=-i[n],u[n]=-o[n],l[n]=-a[n];const c=F(s),d=F(u),g=F(a),M=L(3);U(i,o,M);const A=F(M),f=c*d*g/(2*A),p=2*A*A,m=d*d*B(i,l)/p,h=g*g*B(s,o)/p,T=c*c*B(a,u)/p;for(let i=0;i<3;++i)n[i]=m*e[i]+h*t[i]+T*r[i];return f},inf:1/0,negInf:-1/0,isInf:e=>!Number.isFinite(e),isNan:de,isNaN:de,isFinite:ce,createUninitializedBounds:function(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}};const{DefaultDataType:Me}=p,Ae=[];function fe(){let e=Number.MAX_VALUE,t=-Number.MAX_VALUE,r=0,n=0;return{add(i){e>i&&(e=i),t<i&&(t=i),r++,n+=i},get:()=>({min:e,max:t,count:r,sum:n,mean:n/r}),getRange:()=>({min:e,max:t})}}function pe(e,t=0,r=1){const n=fe(),i=e.length;let o=0;if(t<0&&r>1){for(let t=0;t<i;t+=r){o=0;for(let n=0;n<r;n++)o+=e[t+n]*e[t+n];o**=.5,n.add(o)}return n.getRange()}for(let o=t<0?0:t;o<i;o+=r)n.add(e[o]);return n.getRange()}function me(e){return Object.prototype.toString.call(e).split(\" \")[1].slice(0,-1)}const he={computeRange:pe,createRangeHelper:fe,getDataType:me,getMaxNorm:function(e){const t=e.getNumberOfComponents();let r=0;for(let n=0;n<e.getNumberOfTuples();++n){const i=ge.norm(e.getTuple(n),t);i>r&&(r=i)}return r}};const Te={name:\"\",numberOfComponents:1,size:0,dataType:Me,rangeTuple:[0,0]};function De(e,t,r={}){if(Object.assign(t,Te,r),!t.empty&&!t.values&&!t.size)throw new TypeError(\"Cannot create vtkDataArray object without: size > 0, values\");t.values?Array.isArray(t.values)&&(t.values=window[t.dataType].from(t.values)):t.values=new window[t.dataType](t.size),t.values&&(t.size=t.values.length,t.dataType=me(t.values)),l.default.obj(e,t),l.default.set(e,t,[\"name\",\"numberOfComponents\"]),function(e,t){function r(){t.ranges=null,e.modified()}t.classHierarchy.push(\"vtkDataArray\"),e.getElementComponentSize=(()=>t.values.BYTES_PER_ELEMENT),e.getComponent=((e,r=0)=>t.values[e*t.numberOfComponents+r]),e.setComponent=((e,n,i)=>{i!==t.values[e*t.numberOfComponents+n]&&(t.values[e*t.numberOfComponents+n]=i,r())}),e.getData=(()=>t.values),e.getRange=((e=-1)=>{const r=e<0?t.numberOfComponents:e;let n=null;return t.ranges||(t.ranges=function(e,t=0){const r=e||[];for(;r.length<=t;)r.push(null);return r}(t.ranges,t.numberOfComponents)),(n=t.ranges[r])?(t.rangeTuple[0]=n.min,t.rangeTuple[1]=n.max,t.rangeTuple):(n=pe(t.values,e,t.numberOfComponents),t.ranges[r]=n,t.rangeTuple[0]=n.min,t.rangeTuple[1]=n.max,t.rangeTuple)}),e.setTuple=((e,r)=>{const n=e*t.numberOfComponents;for(let e=0;e<t.numberOfComponents;e++)t.values[n+e]=r[e]}),e.getTuple=((e,r=Ae)=>{const n=t.numberOfComponents||1;r.length!==n&&(r.length=n);const i=e*n;if(1===n)r[0]=t.values[i];else if(2===n)r[0]=t.values[i],r[1]=t.values[i+1];else if(3===n)r[0]=t.values[i],r[1]=t.values[i+1],r[2]=t.values[i+2];else if(4===n)r[0]=t.values[i],r[1]=t.values[i+1],r[2]=t.values[i+2],r[3]=t.values[i+3];else for(let e=0;e<n;e++)r[e]=t.values[i+e];return r}),e.getTupleLocation=((e=1)=>e*t.numberOfComponents),e.getNumberOfComponents=(()=>t.numberOfComponents),e.getNumberOfValues=(()=>t.values.length),e.getNumberOfTuples=(()=>t.values.length/t.numberOfComponents),e.getDataType=(()=>t.dataType),e.newClone=(()=>ye({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})),e.getName=(()=>(t.name||(e.modified(),t.name=`vtkDataArray${e.getMTime()}`),t.name)),e.setData=((e,n)=>{t.values=e,t.size=e.length,t.dataType=me(e),n&&(t.numberOfComponents=n),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),r()}),e.shallowCopy=(()=>ye(Object.assign({},t))),e.getState=(()=>{const r=Object.assign({},t,{vtkClass:e.getClassName()});r.values=Array.from(r.values),delete r.buffer,Object.keys(r).forEach(e=>{r[e]||delete r[e]});const n={};return Object.keys(r).sort().forEach(e=>{n[e]=r[e]}),n.mtime&&delete n.mtime,n})}(e,t)}const ye=l.default.newInstance(De,\"vtkDataArray\");var Ne=Object.assign({newInstance:ye,extend:De},he,p);const{vtkErrorMacro:Ee}=l.default;const Ie={parent:null,renderable:null,myFactory:null,children:[],visited:!1};function xe(e,t,r={}){Object.assign(t,Ie,r),l.default.obj(e,t),l.default.event(e,t,\"event\"),t.renderableChildMap=new Map,l.default.get(e,t,[\"visited\"]),l.default.setGet(e,t,[\"parent\",\"renderable\",\"myFactory\"]),l.default.getArray(e,t,[\"children\"]),function(e,t){t.classHierarchy.push(\"vtkViewNode\"),e.build=(e=>{}),e.render=(e=>{}),e.traverse=(r=>{const n=r.getTraverseOperation(),i=e[n];if(i)i(r);else{e.apply(r,!0);for(let e=0;e<t.children.length;e++)t.children[e].traverse(r);e.apply(r,!1)}}),e.apply=((t,r)=>{const n=e[t.getOperation()];n&&n(r,t)}),e.getViewNodeFor=(r=>{if(t.renderable===r)return e;for(let e=0;e<t.children.length;++e){const n=t.children[e].getViewNodeFor(r);if(n)return n}}),e.getFirstAncestorOfType=(e=>t.parent?t.parent.isA(e)?t.parent:t.parent.getFirstAncestorOfType(e):null),e.addMissingNode=(r=>{if(!r)return;const n=t.renderableChildMap.get(r);if(void 0!==n)n.setVisited(!0);else{const n=e.createViewNode(r);n&&(n.setParent(e),n.setVisited(!0),t.renderableChildMap.set(r,n),t.children.push(n))}}),e.addMissingNodes=(r=>{if(r&&r.length)for(let n=0;n<r.length;++n){const i=r[n],o=t.renderableChildMap.get(i);if(void 0!==o)o.setVisited(!0);else{const r=e.createViewNode(i);r&&(r.setParent(e),r.setVisited(!0),t.renderableChildMap.set(i,r),t.children.push(r))}}}),e.prepareNodes=(()=>{for(let e=0;e<t.children.length;++e)t.children[e].setVisited(!1)}),e.setVisited=(e=>{t.visited=e}),e.removeUnusedNodes=(()=>{let e=null;for(let r=0;r<t.children.length;++r){const n=t.children[r];if(n.getVisited())n.setVisited(!1);else{const r=n.getRenderable();r&&t.renderableChildMap.delete(r),e||(e=[]),e.push(n)}}e&&(t.children=t.children.filter(t=>!e.includes(t)))}),e.createViewNode=(e=>{if(!t.myFactory)return Ee(\"Cannot create view nodes without my own factory\"),null;const r=t.myFactory.createNode(e);return r&&r.setRenderable(e),r})}(e,t)}var Le={newInstance:l.default.newInstance(xe,\"vtkViewNode\"),extend:xe,PASS_TYPES:[\"Build\",\"Render\"]};const we=1e-6;let Ce=\"undefined\"!=typeof Float32Array?Float32Array:Array;const Oe=Math.random;function Se(e){Ce=e}const be=Math.PI/180;function je(e){return e*be}function ve(e,t){return Math.abs(e-t)<=we*Math.max(1,Math.abs(e),Math.abs(t))}function ze(){let e=new Ce(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Re(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Pe(e){let t=new Ce(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Be(e,t,r,n,i,o,a,s,u){let l=new Ce(9);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l[8]=u,l}function Ue(e,t,r,n,i,o,a,s,u,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e}function Fe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ve(e,t){if(e===t){let r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function _e(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=c*a-s*l,g=-c*o+s*u,M=l*o-a*u,A=r*d+n*g+i*M;return A?(A=1/A,e[0]=d*A,e[1]=(-c*n+i*l)*A,e[2]=(s*n-i*a)*A,e[3]=g*A,e[4]=(c*r-i*u)*A,e[5]=(-s*r+i*o)*A,e[6]=M*A,e[7]=(-l*r+n*u)*A,e[8]=(a*r-n*o)*A,e):null}function Ge(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=i*l-n*c,e[2]=n*s-i*a,e[3]=s*u-o*c,e[4]=r*c-i*u,e[5]=i*o-r*s,e[6]=o*l-a*u,e[7]=n*u-r*l,e[8]=r*a-n*o,e}function Qe(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+r*(-l*i+a*s)+n*(u*i-o*s)}function Ye(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=r[0],M=r[1],A=r[2],f=r[3],p=r[4],m=r[5],h=r[6],T=r[7],D=r[8];return e[0]=g*n+M*a+A*l,e[1]=g*i+M*s+A*c,e[2]=g*o+M*u+A*d,e[3]=f*n+p*a+m*l,e[4]=f*i+p*s+m*c,e[5]=f*o+p*u+m*d,e[6]=h*n+T*a+D*l,e[7]=h*i+T*s+D*c,e[8]=h*o+T*u+D*d,e}function We(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=r[0],M=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=g*n+M*a+l,e[7]=g*i+M*s+c,e[8]=g*o+M*u+d,e}function He(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=Math.sin(r),M=Math.cos(r);return e[0]=M*n+g*a,e[1]=M*i+g*s,e[2]=M*o+g*u,e[3]=M*a-g*n,e[4]=M*s-g*i,e[5]=M*u-g*o,e[6]=l,e[7]=c,e[8]=d,e}function Xe(e,t,r){let n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ke(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Ze(e,t){let r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function qe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function $e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Je(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,l=r*a,c=n*a,d=n*s,g=i*a,M=i*s,A=i*u,f=o*a,p=o*s,m=o*u;return e[0]=1-d-A,e[3]=c-m,e[6]=g+p,e[1]=c+m,e[4]=1-l-A,e[7]=M-f,e[2]=g-p,e[5]=M+f,e[8]=1-l-d,e}function et(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],g=t[10],M=t[11],A=t[12],f=t[13],p=t[14],m=t[15],h=r*s-n*a,T=r*u-i*a,D=r*l-o*a,y=n*u-i*s,N=n*l-o*s,E=i*l-o*u,I=c*f-d*A,x=c*p-g*A,L=c*m-M*A,w=d*p-g*f,C=d*m-M*f,O=g*m-M*p,S=h*O-T*C+D*w+y*L-N*x+E*I;return S?(S=1/S,e[0]=(s*O-u*C+l*w)*S,e[1]=(u*L-a*O-l*x)*S,e[2]=(a*C-s*L+l*I)*S,e[3]=(i*C-n*O-o*w)*S,e[4]=(r*O-i*L+o*x)*S,e[5]=(n*L-r*C-o*I)*S,e[6]=(f*E-p*N+m*y)*S,e[7]=(p*D-A*E-m*T)*S,e[8]=(A*N-f*D+m*h)*S,e):null}function tt(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function rt(e){return\"mat3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\")\"}function nt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function it(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function ot(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function at(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function st(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function ut(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function lt(e,t){let r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=t[0],g=t[1],M=t[2],A=t[3],f=t[4],p=t[5],m=t[6],h=t[7],T=t[8];return Math.abs(r-d)<=we*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-g)<=we*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(i-M)<=we*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-A)<=we*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(a-f)<=we*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-p)<=we*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-m)<=we*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-h)<=we*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(c-T)<=we*Math.max(1,Math.abs(c),Math.abs(T))}const ct=Ye,dt=ot;function gt(){let e=new Ce(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Mt(e){let t=new Ce(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function At(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ft(e,t,r,n,i,o,a,s,u,l,c,d,g,M,A,f){let p=new Ce(16);return p[0]=e,p[1]=t,p[2]=r,p[3]=n,p[4]=i,p[5]=o,p[6]=a,p[7]=s,p[8]=u,p[9]=l,p[10]=c,p[11]=d,p[12]=g,p[13]=M,p[14]=A,p[15]=f,p}function pt(e,t,r,n,i,o,a,s,u,l,c,d,g,M,A,f,p){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=d,e[11]=g,e[12]=M,e[13]=A,e[14]=f,e[15]=p,e}function mt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t){if(e===t){let r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Tt(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],g=t[10],M=t[11],A=t[12],f=t[13],p=t[14],m=t[15],h=r*s-n*a,T=r*u-i*a,D=r*l-o*a,y=n*u-i*s,N=n*l-o*s,E=i*l-o*u,I=c*f-d*A,x=c*p-g*A,L=c*m-M*A,w=d*p-g*f,C=d*m-M*f,O=g*m-M*p,S=h*O-T*C+D*w+y*L-N*x+E*I;return S?(S=1/S,e[0]=(s*O-u*C+l*w)*S,e[1]=(i*C-n*O-o*w)*S,e[2]=(f*E-p*N+m*y)*S,e[3]=(g*N-d*E-M*y)*S,e[4]=(u*L-a*O-l*x)*S,e[5]=(r*O-i*L+o*x)*S,e[6]=(p*D-A*E-m*T)*S,e[7]=(c*E-g*D+M*T)*S,e[8]=(a*C-s*L+l*I)*S,e[9]=(n*L-r*C-o*I)*S,e[10]=(A*N-f*D+m*h)*S,e[11]=(d*D-c*N-M*h)*S,e[12]=(s*x-a*w-u*I)*S,e[13]=(r*w-n*x+i*I)*S,e[14]=(f*T-A*y-p*h)*S,e[15]=(c*y-d*T+g*h)*S,e):null}function Dt(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],g=t[10],M=t[11],A=t[12],f=t[13],p=t[14],m=t[15];return e[0]=s*(g*m-M*p)-d*(u*m-l*p)+f*(u*M-l*g),e[1]=-(n*(g*m-M*p)-d*(i*m-o*p)+f*(i*M-o*g)),e[2]=n*(u*m-l*p)-s*(i*m-o*p)+f*(i*l-o*u),e[3]=-(n*(u*M-l*g)-s*(i*M-o*g)+d*(i*l-o*u)),e[4]=-(a*(g*m-M*p)-c*(u*m-l*p)+A*(u*M-l*g)),e[5]=r*(g*m-M*p)-c*(i*m-o*p)+A*(i*M-o*g),e[6]=-(r*(u*m-l*p)-a*(i*m-o*p)+A*(i*l-o*u)),e[7]=r*(u*M-l*g)-a*(i*M-o*g)+c*(i*l-o*u),e[8]=a*(d*m-M*f)-c*(s*m-l*f)+A*(s*M-l*d),e[9]=-(r*(d*m-M*f)-c*(n*m-o*f)+A*(n*M-o*d)),e[10]=r*(s*m-l*f)-a*(n*m-o*f)+A*(n*l-o*s),e[11]=-(r*(s*M-l*d)-a*(n*M-o*d)+c*(n*l-o*s)),e[12]=-(a*(d*p-g*f)-c*(s*p-u*f)+A*(s*g-u*d)),e[13]=r*(d*p-g*f)-c*(n*p-i*f)+A*(n*g-i*d),e[14]=-(r*(s*p-u*f)-a*(n*p-i*f)+A*(n*u-i*s)),e[15]=r*(s*g-u*d)-a*(n*g-i*d)+c*(n*u-i*s),e}function yt(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],g=e[11],M=e[12],A=e[13],f=e[14],p=e[15];return(t*a-r*o)*(d*p-g*f)-(t*s-n*o)*(c*p-g*A)+(t*u-i*o)*(c*f-d*A)+(r*s-n*a)*(l*p-g*M)-(r*u-i*a)*(l*f-d*M)+(n*u-i*s)*(l*A-c*M)}function Nt(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=t[9],M=t[10],A=t[11],f=t[12],p=t[13],m=t[14],h=t[15],T=r[0],D=r[1],y=r[2],N=r[3];return e[0]=T*n+D*s+y*d+N*f,e[1]=T*i+D*u+y*g+N*p,e[2]=T*o+D*l+y*M+N*m,e[3]=T*a+D*c+y*A+N*h,T=r[4],D=r[5],y=r[6],N=r[7],e[4]=T*n+D*s+y*d+N*f,e[5]=T*i+D*u+y*g+N*p,e[6]=T*o+D*l+y*M+N*m,e[7]=T*a+D*c+y*A+N*h,T=r[8],D=r[9],y=r[10],N=r[11],e[8]=T*n+D*s+y*d+N*f,e[9]=T*i+D*u+y*g+N*p,e[10]=T*o+D*l+y*M+N*m,e[11]=T*a+D*c+y*A+N*h,T=r[12],D=r[13],y=r[14],N=r[15],e[12]=T*n+D*s+y*d+N*f,e[13]=T*i+D*u+y*g+N*p,e[14]=T*o+D*l+y*M+N*m,e[15]=T*a+D*c+y*A+N*h,e}function Et(e,t,r){let n,i,o,a,s,u,l,c,d,g,M,A,f=r[0],p=r[1],m=r[2];return t===e?(e[12]=t[0]*f+t[4]*p+t[8]*m+t[12],e[13]=t[1]*f+t[5]*p+t[9]*m+t[13],e[14]=t[2]*f+t[6]*p+t[10]*m+t[14],e[15]=t[3]*f+t[7]*p+t[11]*m+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],g=t[9],M=t[10],A=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=g,e[10]=M,e[11]=A,e[12]=n*f+s*p+d*m+t[12],e[13]=i*f+u*p+g*m+t[13],e[14]=o*f+l*p+M*m+t[14],e[15]=a*f+c*p+A*m+t[15]),e}function It(e,t,r){let n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function xt(e,t,r,n){let i,o,a,s,u,l,c,d,g,M,A,f,p,m,h,T,D,y,N,E,I,x,L,w,C=n[0],O=n[1],S=n[2],b=Math.sqrt(C*C+O*O+S*S);return Math.abs(b)<we?null:(C*=b=1/b,O*=b,S*=b,i=Math.sin(r),a=1-(o=Math.cos(r)),s=t[0],u=t[1],l=t[2],c=t[3],d=t[4],g=t[5],M=t[6],A=t[7],f=t[8],p=t[9],m=t[10],h=t[11],T=C*C*a+o,D=O*C*a+S*i,y=S*C*a-O*i,N=C*O*a-S*i,E=O*O*a+o,I=S*O*a+C*i,x=C*S*a+O*i,L=O*S*a-C*i,w=S*S*a+o,e[0]=s*T+d*D+f*y,e[1]=u*T+g*D+p*y,e[2]=l*T+M*D+m*y,e[3]=c*T+A*D+h*y,e[4]=s*N+d*E+f*I,e[5]=u*N+g*E+p*I,e[6]=l*N+M*E+m*I,e[7]=c*N+A*E+h*I,e[8]=s*x+d*L+f*w,e[9]=u*x+g*L+p*w,e[10]=l*x+M*L+m*w,e[11]=c*x+A*L+h*w,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Lt(e,t,r){let n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],g=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*n,e[5]=a*i+c*n,e[6]=s*i+d*n,e[7]=u*i+g*n,e[8]=l*i-o*n,e[9]=c*i-a*n,e[10]=d*i-s*n,e[11]=g*i-u*n,e}function wt(e,t,r){let n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],d=t[10],g=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*n,e[1]=a*i-c*n,e[2]=s*i-d*n,e[3]=u*i-g*n,e[8]=o*n+l*i,e[9]=a*n+c*i,e[10]=s*n+d*i,e[11]=u*n+g*i,e}function Ct(e,t,r){let n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],d=t[6],g=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*n,e[1]=a*i+c*n,e[2]=s*i+d*n,e[3]=u*i+g*n,e[4]=l*i-o*n,e[5]=c*i-a*n,e[6]=d*i-s*n,e[7]=g*i-u*n,e}function Ot(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function St(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t,r){let n,i,o,a=r[0],s=r[1],u=r[2],l=Math.sqrt(a*a+s*s+u*u);return Math.abs(l)<we?null:(a*=l=1/l,s*=l,u*=l,n=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+u*n,e[2]=u*a*o-s*n,e[3]=0,e[4]=a*s*o-u*n,e[5]=s*s*o+i,e[6]=u*s*o+a*n,e[7]=0,e[8]=a*u*o+s*n,e[9]=s*u*o-a*n,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function jt(e,t){let r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){let r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function zt(e,t){let r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Rt(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=n+n,u=i+i,l=o+o,c=n*s,d=n*u,g=n*l,M=i*u,A=i*l,f=o*l,p=a*s,m=a*u,h=a*l;return e[0]=1-(M+f),e[1]=d+h,e[2]=g-m,e[3]=0,e[4]=d-h,e[5]=1-(c+f),e[6]=A+p,e[7]=0,e[8]=g+m,e[9]=A-p,e[10]=1-(c+M),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Pt(e,t){let r=new Ce(3),n=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=n*n+i*i+o*o+a*a;return d>0?(r[0]=2*(s*a+c*n+u*o-l*i)/d,r[1]=2*(u*a+c*i+l*n-s*o)/d,r[2]=2*(l*a+c*o+s*i-u*n)/d):(r[0]=2*(s*a+c*n+u*o-l*i),r[1]=2*(u*a+c*i+l*n-s*o),r[2]=2*(l*a+c*o+s*i-u*n)),Rt(e,t,r),e}function kt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Bt(e,t){let r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+a*a+s*s),e[2]=Math.sqrt(u*u+l*l+c*c),e}function Ut(e,t){let r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function Ft(e,t,r,n){let i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a,d=i*u,g=i*l,M=i*c,A=o*l,f=o*c,p=a*c,m=s*u,h=s*l,T=s*c,D=n[0],y=n[1],N=n[2];return e[0]=(1-(A+p))*D,e[1]=(g+T)*D,e[2]=(M-h)*D,e[3]=0,e[4]=(g-T)*y,e[5]=(1-(d+p))*y,e[6]=(f+m)*y,e[7]=0,e[8]=(M+h)*N,e[9]=(f-m)*N,e[10]=(1-(d+A))*N,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Vt(e,t,r,n,i){let o=t[0],a=t[1],s=t[2],u=t[3],l=o+o,c=a+a,d=s+s,g=o*l,M=o*c,A=o*d,f=a*c,p=a*d,m=s*d,h=u*l,T=u*c,D=u*d,y=n[0],N=n[1],E=n[2],I=i[0],x=i[1],L=i[2],w=(1-(f+m))*y,C=(M+D)*y,O=(A-T)*y,S=(M-D)*N,b=(1-(g+m))*N,j=(p+h)*N,v=(A+T)*E,z=(p-h)*E,R=(1-(g+f))*E;return e[0]=w,e[1]=C,e[2]=O,e[3]=0,e[4]=S,e[5]=b,e[6]=j,e[7]=0,e[8]=v,e[9]=z,e[10]=R,e[11]=0,e[12]=r[0]+I-(w*I+S*x+v*L),e[13]=r[1]+x-(C*I+b*x+z*L),e[14]=r[2]+L-(O*I+j*x+R*L),e[15]=1,e}function _t(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,l=r*a,c=n*a,d=n*s,g=i*a,M=i*s,A=i*u,f=o*a,p=o*s,m=o*u;return e[0]=1-d-A,e[1]=c+m,e[2]=g-p,e[3]=0,e[4]=c-m,e[5]=1-l-A,e[6]=M+f,e[7]=0,e[8]=g+p,e[9]=M-f,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Gt(e,t,r,n,i,o,a){let s=1/(r-t),u=1/(i-n),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}function Qt(e,t,r,n,i){let o=1/Math.tan(t/2),a=1/(n-i);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*a,e[15]=0,e}function Yt(e,t,r,n){let i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*l*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Wt(e,t,r,n,i,o,a){let s=1/(t-r),u=1/(n-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*l,e[15]=1,e}function Ht(e,t,r,n){let i,o,a,s,u,l,c,d,g,M,A=t[0],f=t[1],p=t[2],m=n[0],h=n[1],T=n[2],D=r[0],y=r[1],N=r[2];return Math.abs(A-D)<we&&Math.abs(f-y)<we&&Math.abs(p-N)<we?mt(e):(c=A-D,d=f-y,g=p-N,i=h*(g*=M=1/Math.sqrt(c*c+d*d+g*g))-T*(d*=M),o=T*(c*=M)-m*g,a=m*d-h*c,(M=Math.sqrt(i*i+o*o+a*a))?(i*=M=1/M,o*=M,a*=M):(i=0,o=0,a=0),s=d*a-g*o,u=g*i-c*a,l=c*o-d*i,(M=Math.sqrt(s*s+u*u+l*l))?(s*=M=1/M,u*=M,l*=M):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=a,e[9]=l,e[10]=g,e[11]=0,e[12]=-(i*A+o*f+a*p),e[13]=-(s*A+u*f+l*p),e[14]=-(c*A+d*f+g*p),e[15]=1,e)}function Xt(e,t,r,n){let i=t[0],o=t[1],a=t[2],s=n[0],u=n[1],l=n[2],c=i-r[0],d=o-r[1],g=a-r[2],M=c*c+d*d+g*g;M>0&&(c*=M=1/Math.sqrt(M),d*=M,g*=M);let A=u*g-l*d,f=l*c-s*g,p=s*d-u*c;return(M=A*A+f*f+p*p)>0&&(A*=M=1/Math.sqrt(M),f*=M,p*=M),e[0]=A,e[1]=f,e[2]=p,e[3]=0,e[4]=d*p-g*f,e[5]=g*A-c*p,e[6]=c*f-d*A,e[7]=0,e[8]=c,e[9]=d,e[10]=g,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function Kt(e){return\"mat4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\", \"+e[9]+\", \"+e[10]+\", \"+e[11]+\", \"+e[12]+\", \"+e[13]+\", \"+e[14]+\", \"+e[15]+\")\"}function Zt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function qt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function $t(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Jt(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function er(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function tr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function rr(e,t){let r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],g=e[10],M=e[11],A=e[12],f=e[13],p=e[14],m=e[15],h=t[0],T=t[1],D=t[2],y=t[3],N=t[4],E=t[5],I=t[6],x=t[7],L=t[8],w=t[9],C=t[10],O=t[11],S=t[12],b=t[13],j=t[14],v=t[15];return Math.abs(r-h)<=we*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-T)<=we*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(i-D)<=we*Math.max(1,Math.abs(i),Math.abs(D))&&Math.abs(o-y)<=we*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(a-N)<=we*Math.max(1,Math.abs(a),Math.abs(N))&&Math.abs(s-E)<=we*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-I)<=we*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(l-x)<=we*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(c-L)<=we*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(d-w)<=we*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(g-C)<=we*Math.max(1,Math.abs(g),Math.abs(C))&&Math.abs(M-O)<=we*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(A-S)<=we*Math.max(1,Math.abs(A),Math.abs(S))&&Math.abs(f-b)<=we*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(p-j)<=we*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(m-v)<=we*Math.max(1,Math.abs(m),Math.abs(v))}const nr=Nt,ir=$t;function or(){let e=new Ce(3);return e[0]=0,e[1]=0,e[2]=0,e}function ar(e){var t=new Ce(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function sr(e){let t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function ur(e,t,r){let n=new Ce(3);return n[0]=e,n[1]=t,n[2]=r,n}function lr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function cr(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function dr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function gr(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Mr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Ar(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function fr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function pr(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function mr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function hr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Tr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Dr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function yr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function Nr(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function Er(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function Ir(e){let t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function xr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Lr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function wr(e,t){let r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function Cr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Or(e,t,r){let n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function Sr(e,t,r,n){let i=t[0],o=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function br(e,t,r,n,i,o){let a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*s+r[0]*u+n[0]*l+i[0]*c,e[1]=t[1]*s+r[1]*u+n[1]*l+i[1]*c,e[2]=t[2]*s+r[2]*u+n[2]*l+i[2]*c,e}function jr(e,t,r,n,i,o){let a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,d=3*u*a,g=u*o;return e[0]=t[0]*l+r[0]*c+n[0]*d+i[0]*g,e[1]=t[1]*l+r[1]*c+n[1]*d+i[1]*g,e[2]=t[2]*l+r[2]*c+n[2]*d+i[2]*g,e}function vr(e,t){t=t||1;let r=2*Oe()*Math.PI,n=2*Oe()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function zr(e,t,r){let n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function Rr(e,t,r){let n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function Pr(e,t,r){let n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,d=o*s-n*l,g=n*u-i*s,M=i*g-o*d,A=o*c-n*g,f=n*d-i*c,p=2*a;return c*=p,d*=p,g*=p,M*=2,A*=2,f*=2,e[0]=s+c+M,e[1]=u+d+A,e[2]=l+g+f,e}function kr(e,t,r,n){let i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Br(e,t,r,n){let i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Ur(e,t,r,n){let i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Fr(e,t){let r=ur(e[0],e[1],e[2]),n=ur(t[0],t[1],t[2]);wr(r,r),wr(n,n);let i=Cr(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Vr(e){return\"vec3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\")\"}function _r(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Gr(e,t){let r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(r-o)<=we*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=we*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=we*Math.max(1,Math.abs(i),Math.abs(s))}const Qr=gr,Yr=Mr,Wr=Ar,Hr=Nr,Xr=Er,Kr=sr,Zr=Ir,qr=function(){let e=or();return function(t,r,n,i,o,a){let s,u;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function $r(){let e=new Ce(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function Jr(e){let t=new Ce(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function en(e,t,r,n){let i=new Ce(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function tn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function rn(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function nn(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function on(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function an(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function sn(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function un(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function ln(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function cn(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function dn(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function gn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Mn(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function An(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function fn(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function pn(e,t){let r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function mn(e){let t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function hn(e){let t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function Tn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Dn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function yn(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a),e}function Nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function En(e,t,r,n){let i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function In(e,t){return t=t||1,e[0]=Oe(),e[1]=Oe(),e[2]=Oe(),e[3]=Oe(),yn(e,e),Mn(e,e,t),e}function xn(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function Ln(e,t,r){let n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],l=r[3],c=l*n+s*o-u*i,d=l*i+u*n-a*o,g=l*o+a*i-s*n,M=-a*n-s*i-u*o;return e[0]=c*l+M*-a+d*-u-g*-s,e[1]=d*l+M*-s+g*-a-c*-u,e[2]=g*l+M*-u+c*-s-d*-a,e[3]=t[3],e}function wn(e){return\"vec4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"}function Cn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function On(e,t){let r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],s=t[1],u=t[2],l=t[3];return Math.abs(r-a)<=we*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=we*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=we*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=we*Math.max(1,Math.abs(o),Math.abs(l))}const Sn=on,bn=an,jn=sn,vn=fn,zn=pn,Rn=mn,Pn=hn,kn=function(){let e=$r();return function(t,r,n,i,o,a){let s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function Bn(){let e=new Ce(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Un(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Fn(e,t,r){r*=.5;let n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Vn(e,t){let r=2*Math.acos(t[3]),n=Math.sin(r/2);return 0!=n?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function _n(e,t,r){let n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=n*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-n*l,e[2]=o*c+a*l+n*u-i*s,e[3]=a*c-n*s-i*u-o*l,e}function Gn(e,t,r){r*=.5;let n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s,e}function Qn(e,t,r){r*=.5;let n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s,e}function Yn(e,t,r){r*=.5;let n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}function Wn(e,t){let r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function Hn(e,t,r,n){let i,o,a,s,u,l=t[0],c=t[1],d=t[2],g=t[3],M=r[0],A=r[1],f=r[2],p=r[3];return(o=l*M+c*A+d*f+g*p)<0&&(o=-o,M=-M,A=-A,f=-f,p=-p),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,u=Math.sin(n*i)/a):(s=1-n,u=n),e[0]=s*l+u*M,e[1]=s*c+u*A,e[2]=s*d+u*f,e[3]=s*g+u*p,e}function Xn(e,t){let r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,e}function Kn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Zn(e,t){let r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);let i=(n+1)%3,o=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*i+i]-t[3*o+o]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+n]+t[3*n+i])*r,e[o]=(t[3*o+n]+t[3*n+o])*r}return e}function qn(e,t,r,n){let i=.5*Math.PI/180;t*=i,r*=i,n*=i;let o=Math.sin(t),a=Math.cos(t),s=Math.sin(r),u=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return e[0]=o*u*c-a*s*l,e[1]=a*s*c+o*u*l,e[2]=a*u*l-o*s*c,e[3]=a*u*c+o*s*l,e}function $n(e){return\"quat(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"}const Jn=Jr,ei=en,ti=tn,ri=rn,ni=nn,ii=_n,oi=Mn,ai=Nn,si=En,ui=mn,li=ui,ci=hn,di=ci,gi=yn,Mi=Cn,Ai=On,fi=function(){let e=or(),t=ur(1,0,0),r=ur(0,1,0);return function(n,i,o){let a=Cr(i,o);return a<-.999999?(Or(e,t,i),Kr(e)<1e-6&&Or(e,r,i),wr(e,e),Fn(n,e,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(Or(e,i,o),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+a,gi(n,n))}}(),pi=function(){let e=Bn(),t=Bn();return function(r,n,i,o,a,s){return Hn(e,n,a,s),Hn(t,i,o,s),Hn(r,e,t,2*s*(1-s)),r}}(),mi=function(){let e=ze();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],gi(t,Zn(t,e))}}();!function(){let e=function(){let e=new Ce(2);return e[0]=0,e[1]=0,e}()}();var hi=r(8),Ti=r.n(hi);Ti()(function(e,t){var r=e.width,n=e.height,i=e.depth,o=e.spacing,s=e.data,u=(e.haveWebgl2,e.depthStart),l=e.depthEnd;l!==i-1&&l--;var c=l-u+1,d=new Uint8Array(r*n*c*3),g=new Float32Array(r*n*c),M=r*n,A=0,f=0,p=a.create();a.set(p,(s[A+1]-s[A])/o[0],(s[A+r]-s[A])/o[1],(s[A+M]-s[A])/o[2]);for(var m=a.length(p),h=-1,T=u;T<=l;++T){var D=0;T===i-1&&(D=-M);for(var y=0;y<n;++y){var N=0;y===n-1&&(N=-r);for(var E=0;E<r;++E){var I=A+D+N;E===r-1&&I--,a.set(p,(s[I+1]-s[I])/o[0],(s[I+r]-s[I])/o[1],(s[I+M]-s[I])/o[2]);var x=a.length(p);a.normalize(p,p),d[f++]=127.5+127.5*p[0],d[f++]=127.5+127.5*p[1],d[f++]=127.5+127.5*p[2],g[A++]=x}}}var L=ge.arrayMin(g),w=ge.arrayMax(g),C={subGradients:d,subMagnitudes:g,subMinMag:m=Math.min(L,m),subMaxMag:h=Math.max(w,h),subDepthStart:u,subDepthEnd:l};return Promise.resolve(new Ti.a.TransferableResponse(C,[C.subGradients.buffer,C.subMagnitudes.buffer]))});const{Wrap:Di,Filter:yi}=A,{VtkDataTypes:Ni}=Ne,{vtkDebugMacro:Ei,vtkErrorMacro:Ii,vtkWarningMacro:xi}=l.default;const Li={openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:Di.CLAMP_TO_EDGE,wrapT:Di.CLAMP_TO_EDGE,wrapR:Di.CLAMP_TO_EDGE,minificationFilter:yi.NEAREST,magnificationFilter:yi.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:0,generateMipmap:!1,computedGradients:!1};function wi(e,t,r={}){Object.assign(t,Li,r),Le.extend(e,t,r),t.sendParametersTime={},l.default.obj(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},l.default.obj(t.textureBuildTime,{mtime:0}),t.gradientsBuildTime={},l.default.obj(t.gradientsBuildTime,{mtime:0}),l.default.set(e,t,[\"format\",\"openGLDataType\"]),l.default.setGet(e,t,[\"keyMatrixTime\",\"minificationFilter\",\"magnificationFilter\",\"wrapS\",\"wrapT\",\"wrapR\",\"generateMipmap\"]),l.default.get(e,t,[\"width\",\"height\",\"volumeInfo\",\"components\",\"handle\",\"target\",\"computedGradients\",\"gradientsBuildTime\"]),function(e,t){function r(e,r){const n=[];if(e!==Ni.FLOAT&&t.openGLDataType===t.context.FLOAT){const e=t.width*t.height*t.components;for(let t=0;t<r.length;t++){const i=new Float32Array(e);for(let n=0;n<e;n++)i[n]=r[t][n];n.push(i)}}if(e!==Ni.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE){const e=t.width*t.height*t.components;for(let t=0;t<r.length;t++){const i=new Uint8Array(e);for(let n=0;n<e;n++)i[n]=r[t][n];n.push(i)}}if(0===n.length)for(let e=0;e<r.length;e++)n.push(r[e]);return n}function n(e){if(t.openGLRenderWindow.getWebgl2())return e;const r=[],n=t.width,i=t.height,o=t.components;if(e&&(!ge.isPowerOfTwo(n)||!ge.isPowerOfTwo(i))){const a=ge.nearestPowerOfTwo(n),s=ge.nearestPowerOfTwo(i),u=a*s*t.components;for(let l=0;l<e.length;l++)if(null!==e[l]){let c=null;switch(t.openGLDataType){case t.context.FLOAT:c=new Float32Array(u);break;default:case t.context.UNSIGNED_BYTE:c=new Uint8Array(u)}const d=i/s,g=n/a;for(let t=0;t<s;t++){const r=t*a*o,s=t*d;let u=Math.floor(s),M=Math.ceil(s);M>=i&&(M=i-1);const A=s-u,f=1-A;u=u*n*o,M=M*n*o;for(let t=0;t<a;t++){const i=t*o,a=t*g;let s=Math.floor(a),d=Math.ceil(a);d>=n&&(d=n-1);const p=a-s;s*=o,d*=o;for(let t=0;t<o;t++)c[r+i+t]=e[l][u+s+t]*f*(1-p)+e[l][u+d+t]*f*p+e[l][M+s+t]*A*(1-p)+e[l][M+d+t]*A*p}}r.push(c),t.width=a,t.height=s}else r.push(null)}if(0===r.length)for(let t=0;t<e.length;t++)r.push(e[t]);return r}t.classHierarchy.push(\"vtkOpenGLTexture\"),e.render=((r=null)=>{if(r?t.openGLRenderWindow=r:(t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent()),t.context=t.openGLRenderWindow.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(yi.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(yi.LINEAR),e.setMagnificationFilter(yi.LINEAR)):(e.setMinificationFilter(yi.NEAREST),e.setMagnificationFilter(yi.NEAREST)),t.renderable.getRepeat()&&(e.setWrapR(Di.REPEAT),e.setWrapS(Di.REPEAT),e.setWrapT(Di.REPEAT)),t.renderable.getInputData()&&t.renderable.setImage(null),!t.handle||t.renderable.getMTime()>t.textureBuildTime.getMTime()){null!==t.renderable.getImage()&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(yi.LINEAR_MIPMAP_LINEAR)),t.renderable.getImage()&&t.renderable.getImageLoaded()&&(e.create2DFromImage(t.renderable.getImage()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()));const r=t.renderable.getInputData(0);if(r&&r.getPointData().getScalars()){const n=r.getExtent(),i=r.getPointData().getScalars(),o=[];for(let e=0;e<6;++e){const r=t.renderable.getInputData(e),n=r?r.getPointData().getScalars().getData():null;n&&o.push(n)}6===o.length?e.createCubeFromRaw(n[1]-n[0]+1,n[3]-n[2]+1,i.getNumberOfComponents(),i.getDataType(),o):(t.renderable.getInterpolate()&&4===i.getNumberOfComponents()&&(t.generateMipmap=!0,e.setMinificationFilter(yi.LINEAR_MIPMAP_LINEAR)),e.create2DFromRaw(n[1]-n[0]+1,n[3]-n[2]+1,i.getNumberOfComponents(),i.getDataType(),i.getData())),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}}t.handle&&e.activate()}),e.destroyTexture=(()=>{e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()}),e.createTexture=(()=>{t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.context.bindTexture(t.target,null)))}),e.getTextureUnit=(()=>t.openGLRenderWindow?t.openGLRenderWindow.getTextureUnitForTexture(e):-1),e.activate=(()=>{t.openGLRenderWindow.activateTexture(e),e.bind()}),e.deactivate=(()=>{t.openGLRenderWindow&&t.openGLRenderWindow.deactivateTexture(e)}),e.releaseGraphicsResources=(r=>{r&&t.handle&&(r.activateTexture(e),r.deactivateTexture(e),t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0),t.shaderProgram&&(t.shaderProgram.releaseGraphicsResources(r),t.shaderProgram=null)}),e.bind=(()=>{t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()}),e.isBound=(()=>{let e=!1;if(t.context&&t.handle){let r=0;switch(t.target){case t.context.TEXTURE_2D:r=t.context.TEXTURE_BINDING_2D;break;default:xi(\"impossible case\")}e=t.context.getIntegerv(r)===t.handle}return e}),e.sendParameters=(()=>{t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.sendParametersTime.modified()}),e.getInternalFormat=((r,n)=>t.internalFormat?t.internalFormat:(t.internalFormat=e.getDefaultInternalFormat(r,n),t.internalFormat||Ei(`Unable to find suitable internal format for T=${r} NC= ${n}`),t.internalFormat)),e.getDefaultInternalFormat=((e,r)=>{let n=0;return(n=t.openGLRenderWindow.getDefaultTextureInternalFormat(e,r,!1))?n:((n=this.openGLRenderWindow.getDefaultTextureInternalFormat(e,r,!0))||(Ei(\"Unsupported internal texture type!\"),Ei(`Unable to find suitable internal format for T=${e} NC= ${r}`)),n)}),e.setInternalFormat=(r=>{r!==t.context.InternalFormat&&(t.internalFormat=r,e.modified())}),e.getFormat=((r,n)=>(t.format||(t.format=e.getDefaultFormat(r,n)),t.format)),e.getDefaultFormat=((e,r)=>{if(t.openGLRenderWindow.getWebgl2())switch(r){case 1:return t.context.RED;case 2:return t.context.RG;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}else switch(r){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}}),e.resetFormatAndType=(()=>{t.format=0,t.internalFormat=0,t.openGLDataType=0}),e.getDefaultDataType=(e=>{if(t.openGLRenderWindow.getWebgl2())switch(e){case Ni.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case Ni.FLOAT:case Ni.VOID:default:return t.context.FLOAT}switch(e){case Ni.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case Ni.FLOAT:case Ni.VOID:default:return t.context.getExtension(\"OES_texture_float\")&&t.context.getExtension(\"OES_texture_float_linear\")?t.context.FLOAT:t.context.UNSIGNED_BYTE}}),e.getOpenGLDataType=(r=>(t.openGLDataType||(t.openGLDataType=e.getDefaultDataType(r)),t.openGLDataType)),e.getShiftAndScale=(()=>{let e=0,r=1;switch(t.openGLDataType){case t.context.BYTE:e=(r=127.5)-128;break;case t.context.UNSIGNED_BYTE:r=255,e=0;break;case t.context.SHORT:e=(r=32767.5)-32768;break;case t.context.UNSIGNED_SHORT:r=65536,e=0;break;case t.context.INT:e=(r=2147483647.5)-2147483648;break;case t.context.UNSIGNED_INT:r=4294967295,e=0;break;case t.context.FLOAT:}return{shift:e,scale:r}}),e.getOpenGLFilterMode=(e=>{switch(e){case yi.NEAREST:return t.context.NEAREST;case yi.LINEAR:return t.context.LINEAR;case yi.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case yi.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case yi.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case yi.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}}),e.getOpenGLWrapMode=(e=>{switch(e){case Di.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case Di.REPEAT:return t.context.REPEAT;case Di.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}}),e.create2DFromRaw=((i,o,a,s,u)=>{if(e.getOpenGLDataType(s),e.getInternalFormat(s,a),e.getFormat(s,a),!t.internalFormat||!t.format||!t.openGLDataType)return Ii(\"Failed to determine texture parameters.\"),!1;t.target=t.context.TEXTURE_2D,t.components=a,t.width=i,t.height=o,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();const l=n(r(s,[u]));return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,l[0]),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0}),e.createCubeFromRaw=((i,o,a,s,u)=>{if(e.getOpenGLDataType(s),e.getInternalFormat(s,a),e.getFormat(s,a),!t.internalFormat||!t.format||!t.openGLDataType)return Ii(\"Failed to determine texture parameters.\"),!1;t.target=t.context.TEXTURE_CUBE_MAP,t.components=a,t.width=i,t.height=o,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();const l=n(r(s,u)),c=[];for(let e=0;e<l.length;e++){c[e]=new window[s](t.height*t.width*t.components);for(let r=0;r<t.height;++r){const n=r*t.width*t.components,i=(t.height-r-1)*t.width*t.components;c[e].set(l[e].slice(i,i+t.width*t.components),n)}}t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);for(let e=0;e<6;e++)c[e]&&t.context.texImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,c[e]);return e.deactivate(),!0}),e.createDepthFromRaw=((r,n,i,o)=>(e.getOpenGLDataType(i),t.format=t.context.DEPTH_COMPONENT,t.internalFormat=t.context.DEPTH_COMPONENT,t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_2D,t.components=1,t.width=r,t.height=n,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,o),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(Ii(\"Failed to determine texture parameters.\"),!1))),e.create2DFromImage=(r=>{if(e.getOpenGLDataType(Ni.UNSIGNED_CHAR),e.getInternalFormat(Ni.UNSIGNED_CHAR,4),e.getFormat(Ni.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return Ii(\"Failed to determine texture parameters.\"),!1;t.target=t.context.TEXTURE_2D,t.components=4,t.width=r.width,t.height=r.height,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);const n=!ge.isPowerOfTwo(r.width)||!ge.isPowerOfTwo(r.height),i=document.createElement(\"canvas\");i.width=n?ge.nearestPowerOfTwo(r.width):r.width,i.height=n?ge.nearestPowerOfTwo(r.height):r.height;const o=i.getContext(\"2d\");o.translate(0,i.height),o.scale(1,-1),o.drawImage(r,0,0,r.width,r.height,0,0,i.width,i.height);const a=i;return t.context.texImage2D(t.target,0,t.internalFormat,t.format,t.openGLDataType,a),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0}),e.create3DFromRaw=((r,n,i,o,a,s)=>(e.getOpenGLDataType(a),e.getInternalFormat(a,o),e.getFormat(a,o),t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_3D,t.components=o,t.width=r,t.height=n,t.depth=i,t.numberOfDimensions=3,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.texImage3D(t.target,0,t.internalFormat,t.width,t.height,t.depth,0,t.format,t.openGLDataType,s),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(Ii(\"Failed to determine texture parameters.\"),!1))),e.create3DOneComponentFromRaw=((r,n,i,o,a)=>{const s=r*n*i,u=ge.arrayMin(a);let l=ge.arrayMax(a);u===l&&(l=u+1),t.volumeInfo={min:u,max:l,width:r,height:n,depth:i};let c=(e,t,r,n,i)=>{e[t]=r},d=Ni.UNSIGNED_CHAR,g=1,M=!1;if(o===Ni.UNSIGNED_CHAR?(t.volumeInfo.min=0,t.volumeInfo.max=255):t.openGLRenderWindow.getWebgl2()||t.context.getExtension(\"OES_texture_float\")&&t.context.getExtension(\"OES_texture_float_linear\")?(d=Ni.FLOAT,c=((e,t,r,n,i)=>{e[t]=(r-n)/(i-n)})):(M=!0,d=Ni.UNSIGNED_CHAR,g=4,c=((e,t,r,n,i)=>{let o=(r-n)/(i-n);const a=Math.floor(255*o);o=255*o-a,e[t]=a;const s=Math.floor(255*o);o=255*o-s,e[t+1]=s;const u=Math.floor(255*o);e[t+2]=u})),t.openGLRenderWindow.getWebgl2()){if(o!==Ni.UNSIGNED_CHAR){const t=new Float32Array(s);for(let e=0;e<s;++e)t[e]=(a[e]-u)/(l-u);return e.create3DFromRaw(r,n,i,1,Ni.FLOAT,t)}return e.create3DFromRaw(r,n,i,1,o,a)}if(e.getOpenGLDataType(d),e.getInternalFormat(d,g),e.getFormat(d,g),!t.internalFormat||!t.format||!t.openGLDataType)return Ii(\"Failed to determine texture parameters.\"),!1;t.target=t.context.TEXTURE_2D,t.components=g,t.depth=1,t.numberOfDimensions=2;let A=t.context.getParameter(t.context.MAX_TEXTURE_SIZE);A>4096&&(d===Ni.FLOAT||4===g)&&(A=4096);let f=1,p=1;s>A*A&&(p=f=Math.ceil(Math.sqrt(s/(A*A))));let m=Math.sqrt(s)/f;m=ge.nearestPowerOfTwo(m);const h=Math.floor(m*f/r),T=Math.ceil(i/h),D=ge.nearestPowerOfTwo(n*T/p);let y;t.width=m,t.height=D,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.volumeInfo={encodedScalars:M,min:u,max:l,width:r,height:n,depth:i,xreps:h,yreps:T,xstride:f,ystride:p};const N=m*D*g;y=d===Ni.FLOAT?new Float32Array(N):new Uint8Array(N);let E=0;for(let e=0;e<T;e++){const o=Math.min(h,i-e*h),s=t.width-o*Math.floor(r/f);for(let t=0;t<n;t+=p){for(let i=0;i<o;i++){const o=(e*h+i)*r*n+t*r;for(let e=0;e<r;e+=f)c(y,E,a[o+e],u,l),E+=g}E+=s*g}}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,y),e.deactivate(),!0}),e.create3DLighting=((r,n,i)=>{t.computedGradients=!1;const o=r.getVolumeInfo(),a=o.width,s=o.height,u=o.depth,l=t.openGLRenderWindow.getWebgl2();let c;if(l)c=(r=>{const n=new Uint8Array(a*s*u*4),i=t.volumeInfo.max;return r.forEach(({subGradients:e,subMagnitudes:t,subMinMag:r,subMaxMag:o,subDepthStart:u,subDepthEnd:l})=>{let c=0,d=0,g=u*a*s*4;const M=a*s*(l-u+1);for(let r=0;r<M;++r)n[g++]=e[c++],n[g++]=e[c++],n[g++]=e[c++],n[g++]=255*Math.sqrt(t[d++]/i)}),e.create3DFromRaw(a,s,u,4,Ni.UNSIGNED_CHAR,n)});else{if(e.getOpenGLDataType(Ni.UNSIGNED_CHAR),e.getInternalFormat(Ni.UNSIGNED_CHAR,4),e.getFormat(Ni.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return void Ii(\"Failed to determine texture parameters.\");t.target=t.context.TEXTURE_2D,t.components=4,t.depth=1,t.numberOfDimensions=2,t.width=r.getWidth(),t.height=r.getHeight(),c=(r=>{const n=new Uint8Array(t.width*t.height*4),i=t.volumeInfo.max;return r.forEach(({subGradients:e,subMagnitudes:r,subMinMag:u,subMaxMag:l,subDepthStart:c,subDepthEnd:d})=>{for(let u=c;u<=d;++u){let l=Math.floor(u/o.xreps),d=u-l*o.xreps;d*=Math.floor(a/o.xstride);let g=l*=Math.floor(s/o.ystride);for(let l=0;l<s;l+=o.ystride,g++){let M=4*(g*t.width+d),A=((u-c)*s+l)*a,f=3*A;for(let t=0;t<a;t+=o.xstride)n[M++]=e[f],n[M++]=e[f+1],n[M++]=e[f+2],n[M++]=255*Math.sqrt(r[A]/i),A+=o.xstride,f+=3*o.xstride}}}),t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,n),e.deactivate(),!0})}const g=Math.ceil(u/4),M=[],A=[];let f=0;for(;f<u-1;){const e=new(void 0),t=new d.a(e),r=f;let o=f+g;o=Math.min(o,u-1);const c=new n.constructor(n.slice(r*a*s,(o+1)*a*s));A.push(e),M.push(t.postMessage({width:a,height:s,depth:u,spacing:i,data:c,haveWebgl2:l,depthStart:r,depthEnd:o},[c.buffer])),f+=g}Promise.all(M).then(e=>{A.forEach(e=>e.terminate());let r=1/0,n=-1/0;return e.forEach(({subGradients:e,subMagnitudes:t,subMinMag:i,subMaxMag:o,subDepthStart:a,subDepthEnd:s})=>{r=Math.min(i,r),n=Math.max(o,n)}),t.volumeInfo={min:r,max:n},t.computedGradients=c(e),t.computedGradients&&t.gradientsBuildTime.modified(),t.computedGradients})}),e.setOpenGLRenderWindow=(r=>{t.openGLRenderWindow!==r&&(e.releaseGraphicsResources(),t.openGLRenderWindow=r,t.context=null,r&&(t.context=t.openGLRenderWindow.getContext()))}),e.getMaximumTextureSize=(e=>e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1)}(e,t)}const Ci=l.default.newInstance(wi,\"vtkOpenGLTexture\");var Oi=Object.assign({newInstance:Ci,extend:wi},A);const Si={openGLRenderWindow:null,glFramebuffer:null,colorTexture:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function bi(e,t,r={}){Object.assign(t,Si,r),l.obj(e,t),l.setGet(e,t,[\"colorTexture\"]),function(e,t){t.classHierarchy.push(\"vtkFramebuffer\"),e.getBothMode=(()=>t.context.FRAMEBUFFER),e.saveCurrentBindingsAndBuffers=(t=>{const r=void 0!==t?t:e.getBothMode();e.saveCurrentBindings(r),e.saveCurrentBuffers(r)}),e.saveCurrentBindings=(e=>{const r=t.context;t.previousDrawBinding=r.getParameter(t.context.FRAMEBUFFER_BINDING),t.previousActiveFramebuffer=t.openGLRenderWindow.getActiveFramebuffer()}),e.saveCurrentBuffers=(e=>{}),e.restorePreviousBindingsAndBuffers=(t=>{const r=void 0!==t?t:e.getBothMode();e.restorePreviousBindings(r),e.restorePreviousBuffers(r)}),e.restorePreviousBindings=(e=>{const r=t.context;r.bindFramebuffer(r.FRAMEBUFFER,t.previousDrawBinding),t.openGLRenderWindow.setActiveFramebuffer(t.previousActiveFramebuffer)}),e.restorePreviousBuffers=(e=>{}),e.bind=(()=>{t.context.bindFramebuffer(t.context.FRAMEBUFFER,t.glFramebuffer),t.colorTexture&&t.colorTexture.bind(),t.openGLRenderWindow.setActiveFramebuffer(e)}),e.create=((e,r)=>{t.glFramebuffer=t.context.createFramebuffer(),t.glFramebuffer.width=e,t.glFramebuffer.height=r}),e.setColorBuffer=((e,r)=>{const n=t.context;t.colorTexture=e,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.getHandle(),0)}),e.getGLFramebuffer=(()=>t.glFramebuffer),e.setOpenGLRenderWindow=(r=>{t.openGLRenderWindow!==r&&(e.releaseGraphicsResources(),t.openGLRenderWindow=r,t.context=null,r&&(t.context=t.openGLRenderWindow.getContext()))}),e.releaseGraphicsResources=(()=>{t.glFramebuffer&&t.context.deleteFramebuffer(t.glFramebuffer),t.depthTexture&&t.depthTexture.releaseGraphicsResources(),t.colorTexture&&t.colorTexture.releaseGraphicsResources()}),e.getSize=(()=>{const e=[0,0];return null!==t.glFramebuffer&&(e[0]=t.glFramebuffer.width,e[1]=t.glFramebuffer.height),e}),e.populateFramebuffer=(()=>{e.bind();const r=t.context,n=Oi.newInstance();n.setOpenGLRenderWindow(t.openGLRenderWindow),n.setMinificationFilter(M.LINEAR),n.setMagnificationFilter(M.LINEAR),n.create2DFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,4,f.UNSIGNED_CHAR,null),e.setColorBuffer(n),t.depthTexture=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,t.depthTexture),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,t.glFramebuffer.width,t.glFramebuffer.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,t.depthTexture)})}(e,t)}const ji=l.newInstance(bi,\"vtkFramebuffer\");var vi=Object.assign({newInstance:ji,extend:bi});const zi={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function Ri(e,t,r={}){Object.assign(t,zi,r),l.default.obj(e,t),l.default.get(e,t,[\"currentOperation\"]),l.default.setGet(e,t,[\"delegates\",\"currentParent\",\"preDelegateOperations\",\"postDelegateOperations\"]),function(e,t){t.classHierarchy.push(\"vtkRenderPass\"),e.getOperation=(()=>t.currentOperation),e.setCurrentOperation=(e=>{t.currentOperation=e,t.currentTraverseOperation=`traverse${l.default.capitalize(t.currentOperation)}`}),e.getTraverseOperation=(()=>t.currentTraverseOperation),e.traverse=((r,n=null)=>{t.deleted||(t.currentParent=n,t.preDelegateOperations.forEach(t=>{e.setCurrentOperation(t),r.traverse(e)}),t.delegates.forEach(t=>{t.traverse(r,e)}),t.postDelegateOperations.forEach(t=>{e.setCurrentOperation(t),r.traverse(e)}))})}(e,t)}var Pi={newInstance:l.default.newInstance(Ri,\"vtkRenderPass\"),extend:Ri};const ki={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,framebuffer:null,depthRequested:!1};function Bi(e,t,r={}){Object.assign(t,ki,r),Pi.extend(e,t,r),l.default.get(e,t,[\"framebuffer\"]),l.default.setGet(e,t,[\"depthRequested\"]),function(e,t){t.classHierarchy.push(\"vtkForwardPass\"),e.traverse=((r,n=null)=>{if(t.deleted)return;t.currentParent=n,e.setCurrentOperation(\"buildPass\"),r.traverse(e);const i=r.getChildren();for(let n=0;n<i.length;n++){const o=i[n];if(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumeCount=0,e.setCurrentOperation(\"queryPass\"),o.traverse(e),t.opaqueActorCount>0&&t.volumeCount>0||t.depthRequested){const n=r.getFramebufferSize();null===t.framebuffer&&(t.framebuffer=vi.newInstance()),t.framebuffer.setOpenGLRenderWindow(r),t.framebuffer.saveCurrentBindingsAndBuffers();const i=t.framebuffer.getSize();null!==i&&i[0]===n[0]&&i[1]===n[1]||(t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),e.setCurrentOperation(\"opaqueZBufferPass\"),o.traverse(e),t.framebuffer.restorePreviousBindingsAndBuffers()}e.setCurrentOperation(\"cameraPass\"),o.traverse(e),t.opaqueActorCount>0&&(e.setCurrentOperation(\"opaquePass\"),o.traverse(e)),t.translucentActorCount>0&&(e.setCurrentOperation(\"translucentPass\"),o.traverse(e)),t.volumeCount>0&&(e.setCurrentOperation(\"volumePass\"),o.traverse(e))}}),e.getZBufferTexture=(()=>t.framebuffer?t.framebuffer.getColorTexture():null),e.incrementOpaqueActorCount=(()=>t.opaqueActorCount++),e.incrementTranslucentActorCount=(()=>t.translucentActorCount++),e.incrementVolumeCount=(()=>t.volumeCount++)}(e,t)}var Ui={newInstance:l.default.newInstance(Bi,\"vtkForwardPass\"),extend:Bi};const Fi={};function Vi(e,t,r={}){Object.assign(t,Fi,r),Le.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkGenericWidgetRepresentation\")}(0,t)}var _i={newInstance:l.default.newInstance(Vi),extend:Vi};const Gi={};function Qi(e,t,r={}){Object.assign(t,Gi,r),l.default.obj(e,t),function(e,t){t.overrides={},t.classHierarchy.push(\"vtkViewNodeFactory\"),e.createNode=(r=>{if(r.isDeleted())return null;let n=0,i=r.getClassName(n++),o=!1;const a=Object.keys(t.overrides);for(;i&&!o;)-1!==a.indexOf(i)?o=!0:i=r.getClassName(n++);if(!o)return null;const s=t.overrides[i]();return s.setMyFactory(e),s}),e.registerOverride=((e,r)=>{t.overrides[e]=r})}(e,t)}var Yi={newInstance:l.default.newInstance(Qi,\"vtkViewNodeFactory\"),extend:Qi};const Wi={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function Hi(e,t,r={}){Object.assign(t,Wi,r),Le.extend(e,t,r),t.keyMatrixTime={},l.default.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:i.create(),mcwc:o.create()},l.default.setGet(e,t,[\"context\"]),l.default.get(e,t,[\"activeTextures\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLActor\"),e.buildPass=(r=>{if(r){t.openGLRenderWindow=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\"),t.context=t.openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(let e=0;e<t.children.length;e++){const r=t.children[e];r.isA(\"vtkOpenGLTexture\")?(t.ogltextures||(t.ogltextures=[]),t.ogltextures.push(r)):t.oglmapper=r}}}),e.traverseOpaqueZBufferPass=(t=>{e.traverseOpaquePass(t)}),e.traverseOpaquePass=(r=>{t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(e.apply(r,!0),t.oglmapper.traverse(r),e.apply(r,!1))}),e.traverseTranslucentPass=(r=>{t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&(e.apply(r,!0),t.oglmapper.traverse(r),e.apply(r,!1))}),e.activateTextures=(()=>{if(t.ogltextures){t.activeTextures=[];for(let e=0;e<t.ogltextures.length;e++){const r=t.ogltextures[e];r.render(),r.getHandle()&&t.activeTextures.push(r)}}}),e.queryPass=((e,r)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}}),e.opaqueZBufferPass=((t,r)=>e.opaquePass(t,r)),e.opaquePass=((r,n)=>{if(r)t.openGLRenderWindow.enableDepthMask(),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()}),e.translucentPass=((r,n)=>{if(r)t.openGLRenderWindow.disableDepthMask(),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()}),e.getKeyMatrices=(()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),o.copy(t.keyMatrices.mcwc,t.renderable.getMatrix()),o.transpose(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.renderable.getIsIdentity()?i.identity(t.keyMatrices.normalMatrix):(i.fromMat4(t.keyMatrices.normalMatrix,t.keyMatrices.mcwc),i.invert(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),t.keyMatrixTime.modified()),t.keyMatrices))}(e,t)}var Xi={newInstance:l.default.newInstance(Hi),extend:Hi};const Ki={context:null,activeTextures:[]};function Zi(e,t,r={}){Object.assign(t,Ki,r),Le.extend(e,t,r),l.setGet(e,t,[\"context\"]),l.get(e,t,[\"activeTextures\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLActor2D\"),e.buildPass=(r=>{if(r){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}}),e.traverseOpaquePass=(r=>{t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(e.apply(r,!0),t.children.forEach(e=>{e.isA(\"vtkOpenGLTexture\")||e.traverse(r)}),e.apply(r,!1))}),e.traverseTranslucentPass=(r=>{t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&(e.apply(r,!0),t.children.forEach(e=>{e.isA(\"vtkOpenGLTexture\")||e.traverse(r)}),e.apply(r,!1))}),e.activateTextures=(()=>{t.activeTextures=[],t.children.forEach(e=>{e.isA(\"vtkOpenGLTexture\")&&(e.render(),e.getHandle()&&t.activeTextures.push(e))})}),e.opaquePass=((r,n)=>{r?(t.context=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\").getContext(),t.context.depthMask(!0),e.activateTextures()):t.activeTextures.forEach(e=>{e.deactivate()})}),e.translucentPass=((r,n)=>{r?(t.context=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\").getContext(),t.context.depthMask(!1),e.activateTextures()):(t.activeTextures.forEach(e=>{e.deactivate()}),t.context.depthMask(!0))})}(e,t)}var qi={newInstance:l.newInstance(Zi),extend:Zi};const $i={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function Ji(e,t,r={}){Object.assign(t,$i,r),Le.extend(e,t,r),t.keyMatrixTime={},l.obj(t.keyMatrixTime),t.keyMatrices={normalMatrix:i.create(),vcdc:o.create(),wcvc:o.create(),wcdc:o.create()},l.setGet(e,t,[\"context\",\"keyMatrixTime\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLCamera\"),e.buildPass=(r=>{r&&(t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext())}),e.opaquePass=(e=>{if(e){const e=t.openGLRenderer.getTiledSizeAndOrigin();t.context.viewport(e.lowerLeftU,e.lowerLeftV,e.usize,e.vsize),t.context.scissor(e.lowerLeftU,e.lowerLeftV,e.usize,e.vsize)}}),e.translucentPass=e.opaquePass,e.opaqueZBufferPass=e.opaquePass,e.volumePass=e.opaquePass,e.getKeyMatrices=(r=>{if(r!==t.lastRenderer||t.openGLRenderWindow.getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||r.getMTime()>t.keyMatrixTime.getMTime()){o.copy(t.keyMatrices.wcvc,t.renderable.getViewMatrix()),i.fromMat4(t.keyMatrices.normalMatrix,t.keyMatrices.wcvc),i.invert(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),o.transpose(t.keyMatrices.wcvc,t.keyMatrices.wcvc);const e=t.openGLRenderer.getAspectRatio();o.copy(t.keyMatrices.vcdc,t.renderable.getProjectionMatrix(e,-1,1)),o.transpose(t.keyMatrices.vcdc,t.keyMatrices.vcdc),o.multiply(t.keyMatrices.wcdc,t.keyMatrices.vcdc,t.keyMatrices.wcvc),t.keyMatrixTime.modified(),t.lastRenderer=r}return t.keyMatrices})}(e,t)}var eo={newInstance:l.newInstance(Ji),extend:Ji};const to={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2};var ro={ObjectType:to};const{ObjectType:no}=ro;const io={objectType:no.ARRAY_BUFFER,openGLRenderWindow:null,context:null};function oo(e,t,r={}){Object.assign(t,io,r),l.default.obj(e,t),l.default.get(e,t,[\"openGLRenderWindow\"]),function(e,t){function r(e){switch(e){case no.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case no.TEXTURE_BUFFER:if(\"TEXTURE_BUFFER\"in t.context)return t.context.TEXTURE_BUFFER;default:case no.ARRAY_BUFFER:return t.context.ARRAY_BUFFER}}t.classHierarchy.push(\"vtkOpenGLBufferObject\");let n=null,i=null,o=!0,a=\"\";e.getType=(()=>n),e.setType=(e=>{n=e}),e.getHandle=(()=>i),e.isReady=(()=>!1===o),e.generateBuffer=(e=>{const o=r(e);return null===i&&(i=t.context.createBuffer(),n=e),r(n)===o}),e.upload=((s,u)=>e.generateBuffer(u)?(t.context.bindBuffer(r(n),i),t.context.bufferData(r(n),s,t.context.STATIC_DRAW),o=!1,!0):(a=\"Trying to upload array buffer to incompatible buffer.\",!1)),e.bind=(()=>!!i&&(t.context.bindBuffer(r(n),i),!0)),e.release=(()=>!!i&&(t.context.bindBuffer(r(n),null),!0)),e.releaseGraphicsResources=(()=>{null!==i&&(t.context.bindBuffer(r(n),null),t.context.deleteBuffer(i),i=null)}),e.setOpenGLRenderWindow=(r=>{t.openGLRenderWindow!==r&&(e.releaseGraphicsResources(),t.openGLRenderWindow=r,t.context=null,r&&(t.context=t.openGLRenderWindow.getContext()))}),e.getError=(()=>a)}(e,t)}const ao=l.default.newInstance(oo);var so=Object.assign({newInstance:ao,extend:oo},{},ro);var uo={PassTypes:{MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,MAX_KNOWN_PASS:2}};var lo={SelectionContent:{GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},SelectionField:{CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5}};const co={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function go(e,t,r={}){Object.assign(t,co,r),l.default.obj(e,t),t.properties={},l.default.setGet(e,t,[\"contentType\",\"fieldType\",\"properties\",\"selectionList\"]),function(e,t){t.classHierarchy.push(\"vtkSelectionNode\"),e.getBounds=(()=>t.points.getBounds())}(e,t)}const Mo=l.default.newInstance(go,\"vtkSelectionNode\");var Ao=Object.assign({newInstance:Mo,extend:go},lo),fo=r(1);const po={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function mo(e,t,r={}){Object.assign(t,po,r),l.default.obj(e,t),function(e,t){t.classHierarchy.push(\"vtkFieldData\");const r=e.getState;t.arrays&&(t.arrays=t.arrays.map(e=>({data:Object(fo.a)(e.data)}))),e.initialize=(()=>{e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()}),e.initializeFields=(()=>{t.arrays=[],t.copyFieldFlags={},e.modified()}),e.copyStructure=(r=>{e.initializeFields(),t.copyFieldFlags=r.getCopyFieldFlags().map(e=>e),t.arrays=r.arrays().map(e=>({array:e}))}),e.getNumberOfArrays=(()=>t.arrays.length),e.getNumberOfActiveArrays=(()=>t.arrays.length),e.addArray=(e=>(t.arrays=[].concat(t.arrays,{data:e}),t.arrays.length-1)),e.removeAllArrays=(()=>{t.arrays=[]}),e.removeArray=(e=>{t.arrays=t.arrays.filter(t=>e!==t.data.getName())}),e.removeArrayByIndex=(e=>{t.arrays=t.arrays.filter((t,r)=>r!==e)}),e.getArrays=(()=>t.arrays.map(e=>e.data)),e.getArray=(t=>\"number\"==typeof t?e.getArrayByIndex(t):e.getArrayByName(t)),e.getArrayByName=(e=>t.arrays.reduce((t,r,n)=>r.data.getName()===e?r.data:t,null)),e.getArrayWithIndex=(e=>t.arrays.reduce((t,r,n)=>r.data&&r.data.getName()===e?{array:r.data,index:n}:t,{array:null,index:-1})),e.getArrayByIndex=(e=>e>=0&&e<t.arrays.length?t.arrays[e].data:null),e.hasArray=(t=>e.getArrayWithIndex(t).index>=0),e.getArrayName=(e=>{const r=t.arrays[e];return r?r.data.getName():\"\"}),e.getCopyFieldFlags=(()=>t.copyFieldFlags),e.getFlag=(e=>t.copyFieldFlags[e]),e.passData=((r,n=-1,i=-1)=>{r.getArrays().forEach(r=>{const o=e.getFlag(r.getName());if(!1!==o&&(!t.doCopyAllOff||!0===o)&&r){let t=e.getArrayByName(r.getName());if(t){if(r.getNumberOfComponents()===t.getNumberOfComponents())if(n>-1&&n<r.getNumberOfTuples()){const e=i>-1?i:n;t.setTuple(e,r.getTuple(n))}else for(let e=0;e<r.getNumberOfTuples();++e)t.setTuple(e,r.getTuple(e))}else if(n<0||n>r.getNumberOfTuples())e.addArray(r);else{const o=r.getNumberOfComponents();let a=r.getNumberOfValues();const s=i>-1?i:n;a<s*o&&(a=(s+1)*o),(t=Ne.newInstance({name:r.getName(),dataType:r.getDataType(),numberOfComponents:r.getNumberOfComponents(),size:a})).setTuple(s,r.getTuple(n)),e.addArray(t)}}})}),e.copyFieldOn=(e=>{t.copyFieldFlags[e]=!0}),e.copyFieldOff=(e=>{t.copyFieldFlags[e]=!1}),e.copyAllOn=(()=>{t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())}),e.copyAllOff=(()=>{!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())}),e.clearFieldFlags=(()=>{t.copyFieldFlags={}}),e.deepCopy=(e=>{t.arrays=e.getArrays().map(e=>{const t=e.newClone();return t.deepCopy(e),{data:t}})}),e.copyFlags=(e=>e.getCopyFieldFlags().map(e=>e)),e.reset=(()=>t.arrays.forEach(e=>e.data.reset())),e.getMTime=(()=>t.arrays.reduce((e,t)=>t.data.getMTime()>e?t.data.getMTime():e,t.mtime)),e.getNumberOfComponents=(()=>t.arrays.reduce((e,t)=>e+t.data.getNumberOfComponents(),0)),e.getNumberOfTuples=(()=>t.arrays.length>0?t.arrays[0].getNumberOfTuples():0),e.getState=(()=>{const e=r();return e.arrays=t.arrays.map(e=>({data:e.data.getState()})),e})}(e,t)}var ho={newInstance:l.default.newInstance(mo,\"vtkFieldData\"),extend:mo};const To={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8};var Do={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:To,CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:{DEFAULT:0,SINGLE:1,DOUBLE:2},PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:\"vtkGhostType\"};const{AttributeTypes:yo,AttributeCopyOperations:No}=Do,{vtkWarningMacro:Eo}=l.default;const Io={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function xo(e,t,r={}){Object.assign(t,Io,r),ho.extend(e,t,r),l.default.setGet(e,t,[\"activeScalars\",\"activeNormals\",\"activeTCoords\",\"activeVectors\",\"activeTensors\",\"activeGlobalIds\",\"activePedigreeIds\"]),t.arrays||(t.arrays={}),function(e,t){const r=[\"Scalars\",\"Vectors\",\"Normals\",\"TCoords\",\"Tensors\",\"GlobalIds\",\"PedigreeIds\"];function n(e){let t=r.find(t=>yo[t.toUpperCase()]===e||\"number\"!=typeof e&&t.toLowerCase()===e.toLowerCase());return void 0===t&&(t=null),t}t.classHierarchy.push(\"vtkDataSetAttributes\"),e.checkNumberOfComponents=(e=>!0),e.setAttribute=((r,i)=>{const o=n(i);if(r&&\"PEDIGREEIDS\"===o.toUpperCase()&&!r.isA(\"vtkDataArray\"))return Eo(`Cannot set attribute ${o}. The attribute must be a vtkDataArray.`),-1;if(r&&!e.checkNumberOfComponents(r,o))return Eo(`Cannot set attribute ${o}. Incorrect number of components.`),-1;let a=t[`active${o}`];if(a>=0&&a<t.arrays.length){if(t.arrays[a]===r)return a;e.removeArrayByIndex(a)}return r?(a=e.addArray(r),t[`active${o}`]=a):t[`active${o}`]=-1,e.modified(),t[`active${o}`]}),e.setActiveAttributeByName=((t,r)=>e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,r)),e.setActiveAttributeByIndex=((r,i)=>{const o=n(i);if(r>=0&&r<t.arrays.length){if(\"PEDIGREEIDS\"!==o.toUpperCase()){const t=e.getArrayByIndex(r);if(!t.isA(\"vtkDataArray\"))return Eo(`Cannot set attribute ${o}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!e.checkNumberOfComponents(t,o))return Eo(`Cannot set attribute ${o}. Incorrect number of components.`),-1}return t[`active${o}`]=r,e.modified(),r}return-1===r&&(t[`active${o}`]=r,e.modified()),-1}),e.getActiveAttribute=(t=>{const r=n(t);return e[`get${r}`]()}),e.removeAllArrays=(()=>{t.arrays=[],r.forEach(e=>{t[`active${e}`]=-1})}),e.removeArray=(e=>{t.arrays=t.arrays.filter((n,i)=>e!==n.data.getName()||(r.forEach(e=>{i===t[`active${e}`]&&(t[`active${e}`]=-1)}),!1))}),e.removeArrayByIndex=(e=>{t.arrays=t.arrays.filter((t,r)=>r!==e),r.forEach(r=>{e===t[`active${r}`]&&(t[`active${r}`]=-1)})}),r.forEach(r=>{const n=`active${r}`;e[`get${r}`]=(()=>e.getArrayByIndex(t[n])),e[`set${r}`]=(t=>e.setAttribute(t,r)),e[`setActive${r}`]=(t=>e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,r)),e[`copy${r}Off`]=(()=>{e.initialize();const n=r.toUpperCase();t.copyAttributeFlags[No.PASSDATA][yo[n]]=!1})}),e.initialize=l.default.chain(e.initialize,()=>{t.copyAttributeFlags=[],Object.keys(No).filter(e=>\"ALLCOPY\"!==e).forEach(e=>{t.copyAttributeFlags[No[e]]=Object.keys(yo).filter(e=>\"NUM_ATTRIBUTES\"!==e).reduce((e,t)=>(e[yo[t]]=!0,e),[])}),t.copyAttributeFlags[No.COPYTUPLE][yo.GLOBALIDS]=!1,t.copyAttributeFlags[No.INTERPOLATE][yo.GLOBALIDS]=!1,t.copyAttributeFlags[No.COPYTUPLE][yo.PEDIGREEIDS]=!1}),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach(r=>{t.dataArrays[r].ref||\"vtkDataArray\"!==t.dataArrays[r].type||e.addArray(Ne.newInstance(t.dataArrays[r]))})}(e,t)}const Lo=l.default.newInstance(xo,\"vtkDataSetAttributes\");var wo=Object.assign({newInstance:Lo,extend:xo},Do);const Co={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6};var Oo={FieldDataTypes:Co,FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};const So=[\"pointData\",\"cellData\",\"fieldData\"];const bo={};function jo(e,t,r={}){Object.assign(t,bo,r),l.default.obj(e,t),l.default.setGet(e,t,So),function(e,t){t.classHierarchy.push(\"vtkDataSet\"),So.forEach(e=>{t[e]?t[e]=Object(fo.a)(t[e]):t[e]=wo.newInstance()})}(0,t)}const vo=l.default.newInstance(jo,\"vtkDataSet\");var zo=Object.assign({newInstance:vo,extend:jo},Oo);const{PassTypes:Ro}=uo,{SelectionContent:Po,SelectionField:ko}=Ao,{FieldAssociations:Bo}=zo,{vtkErrorMacro:Uo}=l.default;const Fo={fieldAssociation:Bo.FIELD_ASSOCIATION_CELLS,renderer:null,area:null,openGLRenderWindow:null,openGLRenderer:null,currentPass:-1,propColorValue:null,props:null,idOffset:1};function Vo(e,t,r={}){Object.assign(t,Fo,r),l.default.obj(e,t),t.area=[0,0,0,0],t.propColorValue=[0,0,0],t.props=[],l.default.setGet(e,t,[\"fieldAssociation\",\"renderer\",\"currentPass\"]),l.default.setGetArray(e,t,[\"area\"],4),l.default.setGetArray(e,t,[\"propColorValue\"],3),l.default.event(e,t,\"event\"),function(e,t){t.classHierarchy.push(\"vtkOpenGLHardwareSelector\"),e.releasePixBuffers=(()=>{t.pixBuffer=[]}),e.beginSelection=(()=>{t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),t.maxAttributeId=0,t.framebuffer=vi.newInstance(),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers();const r=t.openGLRenderWindow.getSize();t.framebuffer.create(r[0],r[1]),t.framebuffer.populateFramebuffer(),t.openGLRenderer.clear(),t.openGLRenderer.setSelector(e),t.hitProps=[],t.props=[],e.releasePixBuffers()}),e.endSelection=(()=>{t.hitProps=[],t.openGLRenderer.setSelector(null),t.framebuffer.restorePreviousBindingsAndBuffers()}),e.preCapturePass=(()=>{}),e.postCapturePass=(()=>{}),e.select=(()=>{let r=null;return e.captureBuffers()&&(r=e.generateSelection(t.area[0],t.area[1],t.area[2],t.area[3]),e.releasePixBuffers()),r}),e.captureBuffers=(()=>{if(!t.renderer||!t.openGLRenderWindow)return Uo(\"Renderer and view must be set before calling Select.\"),!1;for(t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),e.invokeEvent({type:\"StartEvent\"}),t.originalBackground=t.renderer.getBackgroundByReference(),t.renderer.setBackground(0,0,0),e.beginSelection(),t.currentPass=Ro.MIN_KNOWN_PASS;t.currentPass<=Ro.MAX_KNOWN_PASS;t.currentPass++)e.passRequired(t.currentPass)&&(e.preCapturePass(t.currentPass),t.openGLRenderWindow.traverseAllPasses(),e.postCapturePass(t.currentPass),e.savePixelBuffer(t.currentPass));return e.endSelection(),t.renderer.setBackground(t.originalBackground),e.invokeEvent({type:\"EndEvent\"}),t.openGLRenderWindow.traverseAllPasses(),!0}),e.passRequired=(e=>!0),e.savePixelBuffer=(r=>{t.pixBuffer[r]=t.openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),r===Ro.ACTOR_PASS&&e.buildPropHitList(t.pixBuffer[r])}),e.buildPropHitList=(r=>{for(let n=0;n<=t.area[3]-t.area[1];n++)for(let i=0;i<=t.area[2]-t.area[0];i++){let o=e.convert(i,n,r);o>0&&(o--,-1===t.hitProps.indexOf(o)&&t.hitProps.push(o))}}),e.renderProp=(r=>{t.currentPass===Ro.ACTOR_PASS&&(e.setPropColorValueFromInt(t.props.length+t.idOffset),t.props.push(r))}),e.renderCompositeIndex=(r=>{t.currentPass===Ro.COMPOSITE_INDEX_PASS&&e.setPropColorValueFromInt(r+t.idOffset)}),e.renderAttributeId=(e=>{e<0||(t.maxAttributeId=e>t.maxAttributeId?e:t.maxAttributeId)}),e.getPropFromID=(e=>e>=0&&e<t.props.length?t.props[e]:null),e.passTypeToString=(e=>l.default.enumToString(Ro,e)),e.isPropHit=(e=>t.hitProps.hasKey(e)),e.convert=((e,r,n)=>{if(!n)return 0;const i=4*(r*(t.area[2]-t.area[0]+1)+e),o=[];o[0]=n[i],o[1]=n[i+1],o[2]=n[i+2];let a=o[2];return a*=256,a+=o[1],a*=256,a+=o[0]}),e.setPropColorValueFromInt=(e=>{t.propColorValue[0]=e%256/255,t.propColorValue[1]=e/256%256/255,t.propColorValue[2]=e/65536%256/255}),e.getPixelInformation=((r,n,i)=>{const o=n<0?0:n;if(0===o){if(i[0]=r[0],i[1]=r[1],r[0]<t.area[0]||r[0]>t.area[2]||r[1]<t.area[1]||r[1]>t.area[3])return null;const n=[r[0]-t.area[0],r[1]-t.area[1]],o=e.convert(n[0],n[1],t.pixBuffer[Ro.ACTOR_PASS]);if(o<=0)return null;const a={valid:!0};a.propID=o-t.idOffset,a.prop=e.getPropFromID(a.propID);let s=e.convert(n[0],n[1],t.pixBuffer[Ro.COMPOSITE_INDEX_PASS]);return(s<0||s>16777215)&&(s=0),a.compositeID=s-t.idOffset,a}const a=[r[0],r[1]],s=[0,0];let u=e.getPixelInformation(r,0,i);if(u&&u.valid)return u;for(let t=1;t<o;++t){for(let r=a[1]>t?a[1]-t:0;r<=a[1]+t;++r){if(s[1]=r,a[0]>=t&&(s[0]=a[0]-t,(u=e.getPixelInformation(s,0,i))&&u.valid))return u;if(s[0]=a[0]+t,(u=e.getPixelInformation(s,0,i))&&u.valid)return u}for(let r=a[0]>=t?a[0]-(t-1):0;r<=a[0]+(t-1);++r){if(s[0]=r,a[1]>=t&&(s[1]=a[1]-t,(u=e.getPixelInformation(s,0,i))&&u.valid))return u;if(s[1]=a[1]+t,(u=e.getPixelInformation(s,0,i))&&u.valid)return u}}return i[0]=r[0],i[1]=r[1],null}),e.convertSelection=((e,t)=>{const r=[];let n=0;return t.forEach((t,i)=>{const o=Ao.newInstance();switch(o.setContentType(Po.INDICES),e){case Bo.FIELD_ASSOCIATION_CELLS:o.setFieldType(ko.CELL);break;case Bo.FIELD_ASSOCIATION_POINTS:o.setFieldType(ko.POINT);break;default:Uo(\"Unknown field association\")}o.getProperties().propID=t.info.propID,o.getProperties().prop=t.info.prop,o.getProperties().compositeID=t.info.compositeID,o.getProperties().pixelCount=t.pixelCount,o.setSelectionList(t.attributeIDs),r[n]=o,n++}),r}),e.getInfoHash=(e=>`${e.propID} ${e.compositeID}`),e.generateSelection=((r,n,i,o)=>{const a=new Map,s=[0,0];for(let t=n;t<=o;t++)for(let n=r;n<=i;n++){const r=[n,t],i=e.getPixelInformation(r,0,s);if(i&&i.valid){const t=e.getInfoHash(i);a.has(t)?(a.get(t).pixelCount++,-1===a.get(t).attributeIDs.indexOf(i.attributeID)&&a.get(t).attributeIDs.push(i.attributeID)):a.set(t,{info:i,pixelCount:1,attributeIDs:[i.attributeID]})}}return e.convertSelection(t.fieldAssociation,a)}),e.attach=((e,r)=>{t.openGLRenderWindow=e,t.renderer=r})}(e,t)}const _o=l.default.newInstance(Vo,\"vtkOpenGLHardwareSelector\");var Go=Object.assign({newInstance:_o,extend:Vo},uo);const Qo={FLAT:0,GOURAUD:1,PHONG:2},Yo={POINTS:0,WIREFRAME:1,SURFACE:2};var Wo={Shading:Qo,Representation:Yo,Interpolation:Qo};const{Representation:Ho,Interpolation:Xo}=Wo;function Ko(e){return()=>l.default.vtkErrorMacro(`vtkProperty::${e} - NOT IMPLEMENTED`)}const Zo={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:Xo.GOURAUD,representation:Ho.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function qo(e,t,r={}){Object.assign(t,Zo,r),l.default.obj(e,t),l.default.setGet(e,t,[\"lighting\",\"interpolation\",\"ambient\",\"diffuse\",\"specular\",\"specularPower\",\"opacity\",\"edgeVisibility\",\"lineWidth\",\"pointSize\",\"backfaceCulling\",\"frontfaceCulling\",\"representation\"]),l.default.setGetArray(e,t,[\"ambientColor\",\"specularColor\",\"diffuseColor\",\"edgeColor\"],3),function(e,t){t.classHierarchy.push(\"vtkProperty\"),e.setColor=((r,n,i)=>{t.color[0]===r&&t.color[1]===n&&t.color[2]===i||(t.color[0]=r,t.color[1]=n,t.color[2]=i,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)}),e.computeCompositeColor=Ko(\"ComputeCompositeColor\"),e.getColor=(()=>{let e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(let r=0;r<3;r++)t.color[r]=e*(t.ambient*t.ambientColor[r]+t.diffuse*t.diffuseColor[r]+t.specular*t.specularColor[r]);return[].concat(t.color)}),e.addShaderVariable=Ko(\"AddShaderVariable\"),e.setInterpolationToFlat=(()=>e.setInterpolation(Xo.FLAT)),e.setInterpolationToGouraud=(()=>e.setInterpolation(Xo.GOURAUD)),e.setInterpolationToPhong=(()=>e.setInterpolation(Xo.PHONG)),e.getInterpolationAsString=(()=>l.default.enumToString(Xo,t.interpolation)),e.setRepresentationToWireframe=(()=>e.setRepresentation(Ho.WIREFRAME)),e.setRepresentationToSurface=(()=>e.setRepresentation(Ho.SURFACE)),e.setRepresentationToPoints=(()=>e.setRepresentation(Ho.POINTS)),e.getRepresentationAsString=(()=>l.default.enumToString(Ho,t.representation))}(e,t)}const $o=l.default.newInstance(qo,\"vtkProperty\");var Jo=Object.assign({newInstance:$o,extend:qo},Wo);const{vtkDebugMacro:ea,vtkErrorMacro:ta}=l.default;const ra={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null};function na(e,t,r={}){Object.assign(t,ra,r),so.extend(e,t,r),l.default.setGet(e,t,[\"colorBO\",\"elementCount\",\"stride\",\"colorBOStride\",\"vertexOffset\",\"normalOffset\",\"tCoordOffset\",\"tCoordComponents\",\"colorOffset\",\"colorComponents\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLCellArrayBufferObject\"),e.setType(to.ARRAY_BUFFER),e.createVBO=((r,n,i,o)=>{if(!r.getData()||!r.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0;const a=o.points.getData();let s=null,u=null,l=null;const c=o.colors?o.colors.getNumberOfComponents():0,d=o.tcoords?o.tcoords.getNumberOfComponents():0;o.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,s=o.normals.getData()),o.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=d,t.blockSize+=d,u=o.tcoords.getData()),o.colors?(t.colorComponents=o.colors.getNumberOfComponents(),t.colorOffset=0,l=o.colors.getData(),t.colorBO||(t.colorBO=so.newInstance()),t.colorBO.setOpenGLRenderWindow(t.openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;let g,M=0,A=0,f=0,p=0,m=0;const h={anythingToPoints(e,t,r){for(let n=0;n<e;++n)g(t[r+n])},linesToWireframe(e,t,r){for(let n=0;n<e-1;++n)g(t[r+n]),g(t[r+n+1])},polysToWireframe(e,t,r){for(let n=0;n<e;++n)g(t[r+n]),g(t[r+(n+1)%e])},stripsToWireframe(e,t,r){for(let n=0;n<e-1;++n)g(t[r+n]),g(t[r+n+1]);for(let n=0;n<e-2;n++)g(t[r+n]),g(t[r+n+2])},polysToSurface(e,t,r){if(e<3)ea(\"skipping degenerate triangle\");else for(let n=0;n<e-2;n++)g(t[r+0]),g(t[r+n+1]),g(t[r+n+2])},stripsToSurface(e,t,r){for(let n=0;n<e-2;n++)g(t[r+n]),g(t[r+n+1+n%2]),g(t[r+n+1+(n+1)%2])}},T={anythingToPoints:(e,t)=>e,linesToWireframe:(e,t)=>2*(e-1),polysToWireframe:(e,t)=>2*e,stripsToWireframe:(e,t)=>4*e-6,polysToSurface:(e,t)=>e<3?0:3*(e-2),stripsToSurface:(e,t,r)=>3*(e-2)};let D=null,y=null;i===Yo.POINTS||\"verts\"===n?(D=h.anythingToPoints,y=T.anythingToPoints):i===Yo.WIREFRAME||\"lines\"===n?(D=h[`${n}ToWireframe`],y=T[`${n}ToWireframe`]):(D=h[`${n}ToSurface`],y=T[`${n}ToSurface`]);const N=r.getData(),E=N.length;let I=0;for(let e=0;e<E;)I+=y(N[e],N),e+=N[e]+1;let x=null;const L=new Float32Array(I*t.blockSize);l&&(x=new Uint8Array(4*I));let w=0,C=0;g=function(e){if(M=3*e,L[w++]=a[M++],L[w++]=a[M++],L[w++]=a[M++],null!==s&&(A=o.haveCellNormals?3*(m+o.cellOffset):3*e,L[w++]=s[A++],L[w++]=s[A++],L[w++]=s[A++]),null!==u){f=e*d;for(let e=0;e<d;++e)L[w++]=u[f++]}null!==l&&(p=o.haveCellScalars?(m+o.cellOffset)*c:e*c,x[C++]=l[p++],x[C++]=l[p++],x[C++]=l[p++],x[C++]=4===c?l[p++]:255)};for(let e=0;e<E;)D(N[e],N,e+1),e+=N[e]+1,m++;return t.elementCount=I,e.upload(L,to.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(x,to.ARRAY_BUFFER)),m}),e.setCoordShiftAndScaleMethod=(e=>{ta(\"coordinate shift and scale not yet implemented\")}),e.setCoordShift=(e=>{ta(\"coordinate shift and scale not yet implemented\")}),e.setCoordScale=(e=>{ta(\"coordinate shift and scale not yet implemented\")})}(e,t)}var ia={newInstance:l.default.newInstance(na),extend:na};const{vtkErrorMacro:oa}=l.default;const aa={shaderType:\"Unknown\",source:\"\",error:\"\",handle:0,dirty:!1,context:null};function sa(e,t,r={}){Object.assign(t,aa,r),l.default.obj(e,t),l.default.setGet(e,t,[\"shaderType\",\"source\",\"error\",\"handle\",\"context\"]),function(e,t){t.classHierarchy.push(\"vtkShader\"),e.compile=(()=>{let e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||\"Unknown\"===t.shaderType)return!1;switch(0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0),t.shaderType){case\"Fragment\":e=t.context.FRAGMENT_SHADER;break;case\"Vertex\":default:e=t.context.VERTEX_SHADER}if(t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle),!t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS)){const e=t.context.getShaderInfoLog(t.handle);return oa(`Error compiling shader '${t.source}': ${e}`),t.context.deleteShader(t.handle),t.handle=0,!1}return!0}),e.cleanup=(()=>{\"Unknown\"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)})}(e,t)}var ua={newInstance:l.default.newInstance(sa,\"vtkShader\"),extend:sa};const{vtkErrorMacro:la}=l.default;const ca={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:\"\",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function da(e,t,r={}){Object.assign(t,ca,r),t.attributesLocs={},t.uniformLocs={},t.vertexShader=ua.newInstance(),t.vertexShader.setShaderType(\"Vertex\"),t.fragmentShader=ua.newInstance(),t.fragmentShader.setShaderType(\"Fragment\"),t.geometryShader=ua.newInstance(),t.geometryShader.setShaderType(\"Geometry\"),l.default.obj(e,t),l.default.get(e,t,[\"lastCameraMTime\"]),l.default.setGet(e,t,[\"error\",\"handle\",\"compiled\",\"bound\",\"md5Hash\",\"vertexShader\",\"fragmentShader\",\"geometryShader\",\"linked\"]),function(e,t){t.classHierarchy.push(\"vtkShaderProgram\"),e.compileShader=(()=>t.vertexShader.compile()?t.fragmentShader.compile()?e.attachShader(t.vertexShader)&&e.attachShader(t.fragmentShader)?e.link()?(e.setCompiled(!0),1):(la(`Links failed: ${t.error}`),0):(la(t.error),0):(la(t.fragmentShader.getSource().split(\"\\n\").map((e,t)=>`${t}: ${e}`).join(\"\\n\")),la(t.fragmentShader.getError()),0):(la(t.vertexShader.getSource().split(\"\\n\").map((e,t)=>`${t}: ${e}`).join(\"\\n\")),la(t.vertexShader.getError()),0)),e.cleanup=(()=>{\"Unknown\"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0)}),e.bind=(()=>!(!t.linked&&!t.link()||(t.context.useProgram(t.handle),e.setBound(!0),0))),e.isBound=(()=>!!t.bound),e.release=(()=>{t.context.useProgram(null),e.setBound(!1)}),e.setContext=(e=>{t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)}),e.link=(()=>{if(t.inked)return!0;if(0===t.handle)return t.error=\"Program has not been initialized, and/or does not have shaders.\",!1;if(t.uniformLocs={},t.context.linkProgram(t.handle),!t.context.getProgramParameter(t.handle,t.context.LINK_STATUS)){const e=t.context.getProgramInfoLog(t.handle);return la(`Error linking shader ${e}`),t.handle=0,!1}return e.setLinked(!0),t.attributeLocs={},!0}),e.setUniformMatrix=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniformMatrix4fv(i,!1,n),!0)}),e.setUniformMatrix3x3=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniformMatrix3fv(i,!1,n),!0)}),e.setUniformf=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform1f(i,n),!0)}),e.setUniformfv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform1fv(i,n),!0)}),e.setUniformi=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform1i(i,n),!0)}),e.setUniformiv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform1iv(i,n),!0)}),e.setUniform2f=((r,n,i)=>{const o=e.findUniform(r);if(-1===o)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;if(void 0===i)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform2f(o,n,i),!0}),e.setUniform2fv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform2fv(i,n),!0)}),e.setUniform2i=((r,n,i)=>{const o=e.findUniform(r);if(-1===o)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;if(void 0===i)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform2i(o,n,i),!0}),e.setUniform2iv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform2iv(i,n),!0)}),e.setUniform3f=((r,n,i,o)=>{const a=e.findUniform(r);if(-1===a)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;if(void 0===o)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform3f(a,n,i,o),!0}),e.setUniform3fArray=((r,n)=>{const i=e.findUniform(r);if(-1===i)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;if(!Array.isArray(n)||3!==n.length)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform3f(i,n[0],n[1],n[2]),!0}),e.setUniform3fv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform3fv(i,n),!0)}),e.setUniform3i=((r,...n)=>{const i=e.findUniform(r);if(-1===i)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;let o=n;if(1===o.length&&Array.isArray(o[0])&&(o=o[0]),3!==o.length)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform3i(i,o[0],o[1],o[2]),!0}),e.setUniform3iv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform3iv(i,n),!0)}),e.setUniform4f=((r,...n)=>{const i=e.findUniform(r);if(-1===i)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;let o=n;if(1===o.length&&Array.isArray(o[0])&&(o=o[0]),4!==o.length)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform4f(i,o[0],o[1],o[2],o[3]),!0}),e.setUniform4fv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform4fv(i,n),!0)}),e.setUniform4i=((r,...n)=>{const i=e.findUniform(r);if(-1===i)return t.error=`Could not set uniform ${r} . No such uniform.`,!1;let o=n;if(1===o.length&&Array.isArray(o[0])&&(o=o[0]),4!==o.length)throw new RangeError(\"Invalid number of values for array\");return t.context.uniform4i(i,o[0],o[1],o[2],o[3]),!0}),e.setUniform4iv=((r,n)=>{const i=e.findUniform(r);return-1===i?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform4iv(i,n),!0)}),e.setUniform4fv=((r,n,i)=>{const o=e.findUniform(r);return-1===o?(t.error=`Could not set uniform ${r} . No such uniform.`,!1):(t.context.uniform4fv(o,i),!0)}),e.findUniform=(e=>{if(!e||!t.linked)return-1;let r=t.uniformLocs[e];return void 0!==r?r:null===(r=t.context.getUniformLocation(t.handle,e))?(t.error=`Uniform ${e} not found in current shader program.`,t.uniformLocs[e]=-1,-1):(t.uniformLocs[e]=r,r)}),e.isUniformUsed=(e=>{if(!e)return!1;let r=t.uniformLocs[e];return void 0!==r?null!==r:t.linked?(r=t.context.getUniformLocation(t.handle,e),t.uniformLocs[e]=r,null!==r):(la(\"attempt to find uniform when the shader program is not linked\"),!1)}),e.isAttributeUsed=(e=>{if(!e)return!1;let r=Object.keys(t.attributeLocs).indexOf(e);return-1!==r||(t.linked?-1!==(r=t.context.getAttribLocation(t.handle,e))&&(t.attributeLocs[e]=r,!0):(la(\"attempt to find uniform when the shader program is not linked\"),!1))}),e.attachShader=(r=>{if(0===r.getHandle())return t.error=\"Shader object was not initialized, cannot attach it.\",!1;if(\"Unknown\"===r.getShaderType())return t.error=\"Shader object is of type Unknown and cannot be used.\",!1;if(0===t.handle){const e=t.context.createProgram();if(0===e)return t.error=\"Could not create shader program.\",!1;t.handle=e,t.linked=!1}return\"Vertex\"===r.getShaderType()&&(0!==t.vertexShaderHandle&&t.comntext.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=r.getHandle()),\"Fragment\"===r.getShaderType()&&(0!==t.fragmentShaderHandle&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=r.getHandle()),t.context.attachShader(t.handle,r.getHandle()),e.setLinked(!1),!0}),e.detachShader=(e=>{if(0===e.getHandle())return t.error=\"shader object was not initialized, cannot attach it.\",!1;if(\"Unknown\"===e.getShaderType())return t.error=\"Shader object is of type Unknown and cannot be used.\",!1;switch(0===t.handle&&(t.errror=\"This shader prorgram has not been initialized yet.\"),e.getShaderType()){case\"Vertex\":return t.vertexShaderHandle!==e.getHandle()?(t.error=\"The supplied shader was not attached to this program.\",!1):(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0);case\"Fragment\":return t.fragmentShaderHandle!==e.getHandle()?(t.error=\"The supplied shader was not attached to this program.\",!1):(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0);default:return!1}}),e.setContext=(e=>{t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)}),e.setLastCameraMTime=(e=>{t.lastCameraMTime=e})}(e,t)}var ga={newInstance:l.default.newInstance(da,\"vtkShaderProgram\"),extend:da,substitute:function(e,t,r,n=!0){const i=Array.isArray(r)?r.join(\"\\n\"):r;let o=!1;-1!==e.search(t)&&(o=!0);let a=\"\";n&&(a=\"g\");const s=new RegExp(t,a);return{replace:o,result:e.replace(s,i)}}};const Ma={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null,openGLRenderWindow:null};function Aa(e,t,r={}){Object.assign(t,Ma,r),t.buffers=[],l.default.obj(e,t),l.default.get(e,t,[\"supported\"]),l.default.setGet(e,t,[\"forceEmulation\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLVertexArrayObject\"),e.exposedMethod=(()=>{}),e.initialize=(()=>{t.instancingExtension=null,t.openGLRenderWindow.getWebgl2()||(t.instancingExtension=t.context.getExtension(\"ANGLE_instanced_arrays\")),!t.forceEmulation&&t.openGLRenderWindow&&t.openGLRenderWindow.getWebgl2()?(t.extension=null,t.supported=!0,t.handleVAO=t.context.createVertexArray()):(t.extension=t.context.getExtension(\"OES_vertex_array_object\"),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1)}),e.isReady=(()=>0!==t.handleVAO||!1===t.supported),e.bind=(()=>{if(e.isReady()||e.initialize(),e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(t.handleVAO):t.context.bindVertexArray(t.handleVAO);else if(e.isReady()){const e=t.context;for(let r=0;r<t.buffers.length;++r){const n=t.buffers[r];t.context.bindBuffer(e.ARRAY_BUFFER,n.buffer);for(let r=0;r<n.attributes.length;++r){const i=n.attributes[r],o=i.isMatrix?i.size:1;for(let r=0;r<o;++r)e.enableVertexAttribArray(i.index+r),e.vertexAttribPointer(i.index+r,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*r/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+r,1):e.vertexAttribDivisor(i.index+r,1))}}}}),e.release=(()=>{if(e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(null):t.context.bindVertexArray(null);else if(e.isReady()){const e=t.context;for(let r=0;r<t.buffers.length;++r){const n=t.buffers[r];t.context.bindBuffer(e.ARRAY_BUFFER,n.buffer);for(let r=0;r<n.attributes.length;++r){const i=n.attributes[r],o=i.isMatrix?i.size:1;for(let r=0;r<o;++r)e.enableVertexAttribArray(i.index+r),e.vertexAttribPointer(i.index+r,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*r/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+r,0):e.vertexAttribDivisor(i.index+r,0)),e.disableVertexAttribArray(i.index+r)}}}}),e.shaderProgramChanged=(()=>{e.release(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.handleProgram=0}),e.releaseGraphicsResources=(()=>{e.shaderProgramChanged(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.supported=!0,t.handleProgram=0}),e.addAttributeArray=((t,r,n,i,o,a,s,u)=>e.addAttributeArrayWithDivisor(t,r,n,i,o,a,s,u,0,!1)),e.addAttributeArrayWithDivisor=((r,n,i,o,a,s,u,l,c,d)=>{if(!r)return!1;if(!r.isBound()||0===n.getHandle()||n.getType()!==to.ARRAY_BUFFER)return!1;if(0===t.handleProgram&&(t.handleProgram=r.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==r.getHandle())return!1;const g=t.context,M={};if(M.name=i,M.index=g.getAttribLocation(t.handleProgram,i),M.offset=o,M.stride=a,M.type=s,M.size=u,M.normalize=l,M.isMatrix=d,M.divisor=c,-1===M.Index)return!1;if(n.bind(),g.enableVertexAttribArray(M.index),g.vertexAttribPointer(M.index,M.size,M.type,M.normalize,M.stride,M.offset),c>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(M.index,1):g.vertexAttribDivisor(M.index,1)),M.buffer=n.getHandle(),!t.supported){let e=!1;for(let r=0;r<t.buffers.length;++r){const n=t.buffers[r];if(n.buffer===M.buffer){e=!0;let t=!1;for(let e=0;e<n.attributes.length;++e)n.attributes[e].name===i&&(t=!0,n.attributes[e]=M);t||n.attributes.push(M)}}e||t.buffers.push({buffer:M.buffer,attributes:[M]})}return!0}),e.addAttributeMatrixWithDivisor=((r,n,i,o,a,s,u,l,c)=>{const d=e.addAttributeArrayWithDivisor(r,n,i,o,a,s,u,l,c,!0);if(!d)return d;const g=t.context,M=g.getAttribLocation(t.handleProgram,i);for(let e=1;e<u;e++)g.enableVertexAttribArray(M+e),g.vertexAttribPointer(M+e,u,s,l,a,o+a*e/u),c>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(M+e,1):g.vertexAttribDivisor(M+e,1));return!0}),e.removeAttributeArray=(r=>{if(!e.isReady()||0===t.handleProgram)return!1;if(!t.supported)for(let e=0;e<t.buffers.length;++e){const n=t.buffers[e];for(let i=0;i<n.attributes.length;++i)if(n.attributes[i].name===r)return n.attributes.splice(i,1),n.attributes.length||t.buffers.splice(e,1),!0}return!0}),e.setOpenGLRenderWindow=(r=>{t.openGLRenderWindow!==r&&(e.releaseGraphicsResources(),t.openGLRenderWindow=r,t.context=null,r&&(t.context=t.openGLRenderWindow.getContext()))})}(e,t)}var fa={newInstance:l.default.newInstance(Aa,\"vtkOpenGLVertexArrayObject\"),extend:Aa};const pa={program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0};function ma(e,t,r={}){Object.assign(t,pa,r),l.default.obj(e,t),t.shaderSourceTime={},l.default.obj(t.shaderSourceTime),t.attributeUpdateTime={},l.default.obj(t.attributeUpdateTime),l.default.setGet(e,t,[\"program\",\"shaderSourceTime\",\"VAO\",\"attributeUpdateTime\",\"CABO\",\"primitiveType\"]),t.program=ga.newInstance(),t.VAO=fa.newInstance(),t.CABO=ia.newInstance(),function(e,t){t.classHierarchy.push(\"vtkOpenGLHelper\"),e.setOpenGLRenderWindow=(e=>{t.program.setContext(e.getContext()),t.VAO.setOpenGLRenderWindow(e),t.CABO.setOpenGLRenderWindow(e)}),e.releaseGraphicsResources=(e=>{t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)})}(e,t)}var ha={newInstance:l.default.newInstance(ma),extend:ma};const Ta={clippingPlanes:[]};var Da={extend:function(e,t,r={}){Object.assign(t,Ta,r),l.default.obj(e,t),l.default.algo(e,t,1,0),t.clippingPlanes||(t.clippingPlanes=[]),function(e,t){e.update=(()=>{e.getInputData()}),e.addClippingPlane=(e=>{\"vtkPlane\"===e.getClassName()&&t.clippingPlanes.push(e)}),e.getNumberOfClippingPlanes=(()=>t.clippingPlanes.length),e.removeAllClippingPlanes=(()=>{t.clippingPlanes.length=0}),e.removeClippingPlane=(e=>{e<0||e>=6||t.clippingPlanes.splice(e,1)}),e.getClippingPlanes=(()=>t.clippingPlanes),e.setClippingPlanes=(t=>{if(t)if(Array.isArray(t)){const r=t.length;for(let n=0;n<r&&n<6;n++)e.addClippingPlane(t[n])}else e.addClippingPlane(t)})}(e,t)}};const ya={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};var Na={extend:function(e,t,r={}){Object.assign(t,ya,r),Da.extend(e,t,r),t.bounds||ge.uninitializeBounds(t.bounds),t.center||(t.center=[0,0,0]),function(e,t){e.getBounds=(()=>0),e.getBounds=(r=>{e.getBounds();for(let e=0;e<6;e++)r[e]=t.bounds[e]}),e.getCenter=((...r)=>{e.getBounds();for(let e=0;e<3;e++)t.center[e]=(t.bounds[2*e+1]+t.bounds[2*e])/2;return Array.isArray(r[0])&&(r[0]=t.center.splice(0)),t.center}),e.getLength=(()=>{let r=0,n=0;e.getBounds();for(let e=0;e<3;e++)n+=(r=t.bounds[2*e+1]-t.bounds[2*e])*r;return Math.sqrt(n)}),e.getClippingPlaneInDataCoords=((e,r,n)=>{const i=t.clippingPlanes,o=e;if(i){const e=i.length;if(r>=0&&r<e){const e=i[r],t=e.getNormal(),a=e.getOrigin(),s=t[0],u=t[1],l=t[2],c=-(s*a[0]+u*a[1]+l*a[2]);return n[0]=s*o[0]+u*o[4]+l*o[8]+c*o[12],n[1]=s*o[1]+u*o[5]+l*o[9]+c*o[13],n[2]=s*o[2]+u*o[6]+l*o[10]+c*o[14],void(n[3]=s*o[3]+u*o[7]+l*o[11]+c*o[15])}}l.default.vtkErrorMacro(`Clipping plane index ${r} is out of range.`)})}(e,t)}};const Ea={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var Ia={StructuredType:Ea};const{StructuredType:xa}=Ia;var La=Object.assign({getDataDescriptionFromExtent:function(e){let t=0;for(let r=0;r<3;++r)e[2*r]<e[2*r+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?xa.EMPTY:3===t?xa.XYZ_GRID:2===t?e[0]===e[1]?xa.YZ_PLANE:e[2]===e[3]?xa.XZ_PLANE:xa.XY_PLANE:1===t?e[0]<e[1]?xa.X_LINE:e[2]<e[3]?xa.Y_LINE:xa.Z_LINE:xa.SINGLE_POINT}},Ia);const{vtkErrorMacro:wa}=l.default;const Ca={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:Ea.EMPTY};function Oa(e,t,r={}){if(Object.assign(t,Ca,r),zo.extend(e,t,r),t.direction){if(Array.isArray(t.direction)){const e=t.direction.slice(0);t.direction=i.create();for(let r=0;r<9;++r)t.direction[r]=e[r]}}else t.direction=i.create();t.indexToWorld=o.create(),t.worldToIndex=o.create(),l.default.get(e,t,[\"direction\",\"indexToWorld\",\"worldToIndex\"]),l.default.setGetArray(e,t,[\"origin\",\"spacing\"],3),l.default.getArray(e,t,[\"extent\"],6),function(e,t){t.classHierarchy.push(\"vtkImageData\"),e.setExtent=((...r)=>{if(t.deleted)return void wa(\"instance deleted - cannot call any method\");if(!r||6!==r.length)return;let n=!1;t.extent.forEach((e,t)=>{if(e!==r[t]){if(n)return;n=!0}}),n&&(t.extent=[].concat(r),t.dataDescription=La.getDataDescriptionFromExtent(t.extent),e.modified())}),e.setDimensions=((...r)=>{let n,i,o;if(t.deleted)wa(\"instance deleted - cannot call any method\");else{if(1===r.length){const e=r[0];n=e[0],i=e[1],o=e[2]}else{if(3!==r.length)return void wa(\"Bad dimension specification\");n=r[0],i=r[1],o=r[2]}e.setExtent(0,n-1,0,i-1,0,o-1)}}),e.getDimensions=(()=>[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]),e.getNumberOfCells=(()=>{const t=e.getDimensions();let r=1;for(let e=0;e<3;e++){if(0===t[e])return 0;t[e]>1&&(r*=t[e]-1)}return r}),e.getNumberOfPoints=(()=>{const t=e.getDimensions();return t[0]*t[1]*t[2]}),e.getPoint=(r=>{const n=e.getDimensions(),i=a.fromValues(0,0,0),o=[0,0,0];if(0===n[0]||0===n[1]||0===n[2])return wa(\"Requesting a point from an empty image.\"),null;switch(t.dataDescription){case Ea.EMPTY:return null;case Ea.SINGLE_POINT:break;case Ea.X_LINE:i[0]=r;break;case Ea.Y_LINE:i[1]=r;break;case Ea.Z_LINE:i[2]=r;break;case Ea.XY_PLANE:i[0]=r%n[0],i[1]=r/n[0];break;case Ea.YZ_PLANE:i[1]=r%n[1],i[2]=r/n[1];break;case Ea.XZ_PLANE:i[0]=r%n[0],i[2]=r/n[0];break;case Ea.XYZ_GRID:i[0]=r%n[0],i[1]=r/n[0]%n[1],i[2]=r/(n[0]*n[1]);break;default:wa(\"Invalid dataDescription\")}const s=a.create();return e.indexToWorldVec3(i,s),a.copy(o,s),o}),e.getBounds=(()=>e.extentToBounds(t.extent)),e.extentToBounds=(t=>{const r=[t[0],t[2],t[4],t[1],t[2],t[4],t[0],t[3],t[4],t[1],t[3],t[4],t[0],t[2],t[5],t[1],t[2],t[5],t[0],t[3],t[5],t[1],t[3],t[5]],n=a.fromValues(r[0],r[1],r[2]),i=a.create();e.indexToWorldVec3(n,i);const o=[i[0],i[0],i[1],i[1],i[2],i[2]];for(let t=3;t<24;t+=3)a.set(n,r[t],r[t+1],r[t+2]),e.indexToWorldVec3(n,i),i[0]<o[0]&&(o[0]=i[0]),i[1]<o[2]&&(o[2]=i[1]),i[2]<o[4]&&(o[4]=i[2]),i[0]>o[1]&&(o[1]=i[0]),i[1]>o[3]&&(o[3]=i[1]),i[2]>o[5]&&(o[5]=i[2]);return o}),e.computeTransforms=(()=>{const e=u.create();u.fromMat3(e,t.direction);const r=a.fromValues(t.origin[0],t.origin[1],t.origin[2]),n=a.fromValues(t.spacing[0],t.spacing[1],t.spacing[2]);o.fromRotationTranslationScale(t.indexToWorld,e,r,n),o.invert(t.worldToIndex,t.indexToWorld)}),e.setDirection=((...r)=>{if(t.deleted)return wa(\"instance deleted - cannot call any method\"),!1;let n=r;if(1===n.length&&Array.isArray(n[0])&&(n=n[0]),9!==n.length)throw new RangeError(\"Invalid number of values for array setter\");let i=!1;if(t.direction.forEach((e,t)=>{if(e!==n[t]){if(i)return;i=!0}}),i){for(let e=0;e<9;++e)t.direction[e]=n[e];e.modified()}return!0}),e.indexToWorldVec3=((e,r)=>{a.transformMat4(r,e,t.indexToWorld)}),e.indexToWorld=((e,r)=>{const n=a.fromValues(e[0],e[1],e[2]),i=a.create();a.transformMat4(i,n,t.indexToWorld),a.copy(r,i)}),e.worldToIndexVec3=((e,r)=>{a.transformMat4(r,e,t.worldToIndex)}),e.worldToIndex=((e,r)=>{const n=a.fromValues(e[0],e[1],e[2]),i=a.create();a.transformMat4(i,n,t.worldToIndex),a.copy(r,i)}),e.onModified(e.computeTransforms),e.computeTransforms()}(e,t)}var Sa={newInstance:l.default.newInstance(Oa,\"vtkImageData\"),extend:Oa};const ba={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};var ja={VectorMode:{MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ScalarMappingTarget:ba};var va={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:{DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5}};const{ScalarMappingTarget:za,VectorMode:Ra}=ja,{VtkDataTypes:Pa}=Ne,{ColorMode:ka}=va,{vtkErrorMacro:Ba}=l.default;function Ua(e){return e}function Fa(e){return Math.floor(255*e+.5)}const Va={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Ra.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function _a(e,t,r={}){Object.assign(t,Va,r),l.default.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],l.default.setGet(e,t,[\"vectorSize\",\"vectorComponent\",\"vectorMode\",\"alpha\",\"indexedLookup\"]),l.default.setArray(e,t,[\"mappingRange\"],2),l.default.getArray(e,t,[\"mappingRange\"]),function(e,t){t.classHierarchy.push(\"vtkScalarsToColors\"),e.setVectorModeToMagnitude=(()=>e.setVectorMode(Ra.MAGNITUDE)),e.setVectorModeToComponent=(()=>e.setVectorMode(Ra.COMPONENT)),e.setVectorModeToRGBColors=(()=>e.setVectorMode(Ra.RGBCOLORS)),e.build=(()=>{}),e.isOpaque=(()=>!0),e.setAnnotations=((r,n)=>{if(!(r&&!n||!r&&n))if(r&&n&&r.getNumberOfTuples()!==n.getNumberOfTuples())Ba(\"Values and annotations do not have the same number of tuples so ignoring\");else{if(t.annotationArray=[],n&&r){const e=n.getNumberOfTuples();for(let i=0;i<e;i++)t.annotationArray.push({value:r[i],annotation:n[i]})}e.updateAnnotatedValueMap(),e.modified()}}),e.setAnnotation=((r,n)=>{let i=e.checkForAnnotatedValue(r),o=!1;return i>=0?t.annotationArray[i].annotation!==n&&(t.annotationArray[i].annotation=n,o=!0):(t.annotationArray.push({value:r,annotation:n}),i=t.annotationArray.length-1,o=!0),o&&(e.updateAnnotatedValueMap(),e.modified()),i}),e.getNumberOfAnnotatedValues=(()=>t.annotationArray.length),e.getAnnotatedValue=(e=>e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value),e.getAnnotation=(e=>void 0===t.annotationArray[e]?null:t.annotationArray[e].annotation),e.getAnnotatedValueIndex=(r=>t.annotationArray.length?e.checkForAnnotatedValue(r):-1),e.removeAnnotation=(r=>{const n=e.checkForAnnotatedValue(r),i=n>=0;return i&&(t.annotationArray.splice(n,1),e.updateAnnotatedValueMap(),e.modified()),i}),e.resetAnnotations=(()=>{t.annotationArray=[],t.annotatedValueMap=[],e.modified()}),e.getAnnotationColor=((r,n)=>{if(t.indexedLookup){const t=e.getAnnotatedValueIndex(r);e.getIndexedColor(t,n)}else e.getColor(parseFloat(r),n),n[3]=1}),e.checkForAnnotatedValue=(t=>e.getAnnotatedValueIndexInternal(t)),e.getAnnotatedValueIndexInternal=(e=>{if(void 0!==t.annotatedValueMap[e]){const r=t.annotationArray.length;return t.annotatedValueMap[e]%r}return-1}),e.getIndexedColor=((e,t)=>{t[0]=0,t[1]=0,t[2]=0,t[3]=0}),e.updateAnnotatedValueMap=(()=>{t.annotatedValueMap=[];const e=t.annotationArray.length;for(let r=0;r<e;++r)t.annotatedValueMap[t.annotationArray[r].value]=r}),e.mapScalars=((t,r,n)=>{const i=t.getNumberOfComponents();let o=null;if(r===ka.DEFAULT&&t.getDataType()===Pa.UNSIGNED_CHAR||r===ka.DIRECT_SCALARS&&t)o=e.convertToRGBA(t,i,t.getNumberOfTuples());else{const r={type:\"vtkDataArray\",name:\"temp\",numberOfComponents:4,dataType:Pa.UNSIGNED_CHAR},a=new window[r.dataType](4*t.getNumberOfTuples());r.values=a,r.size=a.length,o=Ne.newInstance(r);let s=n;s<0&&i>1?e.mapVectorsThroughTable(t,o,za.RGBA,-1,-1):(s<0&&(s=0),s>=i&&(s=i-1),e.mapScalarsThroughTable(t,o,za.RGBA,s))}return o}),e.mapVectorsToMagnitude=((e,t,r)=>{const n=e.getNumberOfTuples(),i=e.getNumberOfComponents(),o=t.getData(),a=e.getData();for(let e=0;e<n;e++){let t=0;for(let n=0;n<r;n++)t+=a[e*i+n];o[e]=Math.sqrt(t)}}),e.mapVectorsThroughTable=((t,r,n,i,o)=>{let a=e.getVectorMode(),s=o,u=i;const l=t.getNumberOfComponents();a===Ra.COMPONENT?(-1===u&&(u=e.getVectorComponent()),u<0&&(u=0),u>=l&&(u=l-1)):(-1===s&&(s=e.getVectorSize()),s<=0?(u=0,s=l):(u<0&&(u=0),u>=l&&(u=l-1),u+s>l&&(s=l-u)),a!==Ra.MAGNITUDE||1!==l&&1!==s||(a=Ra.COMPONENT));let c=0;switch(u>0&&(c=u),a){case Ra.COMPONENT:e.mapScalarsThroughTable(t,r,n,c);break;default:case Ra.MAGNITUDE:{const i=Ne.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,i,s),e.mapScalarsThroughTable(i,r,n,0);break}case Ra.RGBCOLORS:}}),e.luminanceToRGBA=((e,t,r,n)=>{const i=n(r),o=t.getData(),a=e.getData(),s=o.length;let u=0;for(let e=0;e<s;e+=1){const t=n(o[e]);a[4*u]=t,a[4*u+1]=t,a[4*u+2]=t,a[4*u+3]=i,u++}}),e.luminanceAlphaToRGBA=((e,t,r,n)=>{const i=t.getData(),o=e.getData(),a=i.length;let s=0;for(let e=0;e<a;e+=2){const t=n(i[e]);o[s]=t,o[s+1]=t,o[s+2]=t,o[s+3]=n(i[e+1])*r,s+=4}}),e.rGBToRGBA=((e,t,r,n)=>{const i=Fa(r),o=t.getData(),a=e.getData(),s=o.length;let u=0;for(let e=0;e<s;e+=3)a[4*u]=n(o[e]),a[4*u+1]=n(o[e+1]),a[4*u+2]=n(o[e+2]),a[4*u+3]=i,u++}),e.rGBAToRGBA=((e,t,r,n)=>{const i=t.getData(),o=e.getData(),a=i.length;let s=0;for(let t=0;t<a;t+=4)o[4*s]=n(i[t]),o[4*s+1]=n(i[t+1]),o[4*s+2]=n(i[t+2]),e[4*s+3]=n(i[t+3])*r,s++}),e.convertToRGBA=((r,n,i)=>{let{alpha:o}=t;if(4===n&&o>=1&&r.getDataType()===Pa.UNSIGNED_CHAR)return r;const a=Ne.newInstance({numberOfComponents:4,empty:!0,size:4*i,dataType:Pa.UNSIGNED_CHAR});if(i<=0)return a;o=(o=o>0?o:0)<1?o:1;let s=Ua;switch(r.getDataType()!==Pa.FLOAT&&r.getDataType()!==Pa.DOUBLE||(s=Fa),n){case 1:e.luminanceToRGBA(a,r,o,s);break;case 2:e.luminanceAlphaToRGBA(a,r,s);break;case 3:e.rGBToRGBA(a,r,o,s);break;case 4:e.rGBAToRGBA(a,r,o,s);break;default:return Ba(\"Cannot convert colors\"),null}return a}),e.usingLogScale=(()=>!1),e.getNumberOfAvailableColors=(()=>16777216),e.setRange=((t,r)=>e.setMappingRange(t,r)),e.getRange=((t,r)=>e.getMappingRange())}(e,t)}const Ga=l.default.newInstance(_a,\"vtkScalarsToColors\");var Qa=Object.assign({newInstance:Ga,extend:_a},ja);const Ya=0,Wa=1,Ha=2;const Xa={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function Ka(e,t,r={}){Object.assign(t,Xa,r),Qa.extend(e,t,r),t.table||(t.table=[]),t.buildTime={},l.default.obj(t.buildTime),t.opaqueFlagBuildTime={},l.default.obj(t.opaqueFlagBuildTime,{mtime:0}),l.default.get(e,t,[\"buildTime\"]),l.default.setGet(e,t,[\"numberOfColors\",\"useAboveRangeColor\",\"useBelowRangeColor\"]),l.default.setArray(e,t,[\"alphaRange\",\"hueRange\",\"saturationRange\",\"valueRange\"],2),l.default.setArray(e,t,[\"nanColor\",\"belowRangeColor\",\"aboveRangeColor\"],4),l.default.getArray(e,t,[\"hueRange\",\"saturationRange\",\"valueRange\",\"alphaRange\",\"nanColor\",\"belowRangeColor\",\"aboveRangeColor\"]),function(e,t){t.classHierarchy.push(\"vtkLookupTable\"),e.isOpaque=(()=>{if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){let e=!0;t.nanColor[3]<1&&(e=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(e=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(e=0);for(let r=3;r<t.table.length&&e;r+=4)t.table[r]<255&&(e=!1);t.opaqueFlag=e,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag}),e.usingLogScale=(()=>!1),e.getNumberOfAvailableColors=(()=>t.table.length),e.linearIndexLookup=((e,t)=>{let r=0;return r=e<t.range[0]?t.maxIndex+Ya+1.5:e>t.range[1]?t.maxIndex+Wa+1.5:(r=(e+t.shift)*t.scale)<t.maxIndex?r:t.maxIndex,Math.floor(r)}),e.linearLookup=((t,r,n)=>{let i=0;return[r[4*(i=ge.isNan(t)?Math.floor(n.maxIndex+1.5+Ha):e.linearIndexLookup(t,n))],r[4*i+1],r[4*i+2],r[4*i+3]]}),e.indexedLookupFunction=((t,r,n)=>{const i=e.getAnnotatedValueIndexInternal(t);return[r[4*i],r[4*i+1],r[4*i+2],r[4*i+3]]}),e.lookupShiftAndScale=((e,t)=>{t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))}),e.mapScalarsThroughTable=((r,n,i,o)=>{let a=e.linearLookup;t.indexedLookup&&(a=e.indexedLookupFunction);const s=e.getMappingRange(),u={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,u);const l=e.getAlpha(),c=r.getNumberOfTuples(),d=r.getNumberOfComponents(),g=n.getData(),M=r.getData();if(l>=1){if(i===ba.RGBA)for(let e=0;e<c;e++){const r=a(M[e*d+o],t.table,u);g[4*e]=r[0],g[4*e+1]=r[1],g[4*e+2]=r[2],g[4*e+3]=r[3]}}else if(i===ba.RGBA)for(let e=0;e<c;e++){const r=a(M[e*d+o],t.table,u);g[4*e]=r[0],g[4*e+1]=r[1],g[4*e+2]=r[2],g[4*e+3]=Math.floor(r[3]*l+.5)}}),e.forceBuild=(()=>{let r=0,n=0,i=0,o=0;const a=t.numberOfColors-1;a&&(r=(t.hueRange[1]-t.hueRange[0])/a,n=(t.saturationRange[1]-t.saturationRange[0])/a,i=(t.valueRange[1]-t.valueRange[0])/a,o=(t.alphaRange[1]-t.alphaRange[0])/a);const s=[],u=[];for(let e=0;e<=a;e++)s[0]=t.hueRange[0]+e*r,s[1]=t.saturationRange[0]+e*n,s[2]=t.valueRange[0]+e*i,ge.hsv2rgb(s,u),u[3]=t.alphaRange[0]+e*o,t.table[4*e]=255*u[0]+.5,t.table[4*e+1]=255*u[1]+.5,t.table[4*e+2]=255*u[2]+.5,t.table[4*e+3]=255*u[3]+.5;e.buildSpecialColors(),t.buildTime.modified()}),e.buildSpecialColors=(()=>{const{numberOfColors:e}=t,r=t.table;let n=4*(t.numberOfColors+Ya);t.useBelowRangeColor||0===e?(r[n]=255*t.belowRangeColor[0]+.5,r[n+1]=255*t.belowRangeColor[1]+.5,r[n+2]=255*t.belowRangeColor[2]+.5,r[n+3]=255*t.belowRangeColor[3]+.5):(r[n]=r[0],r[n+1]=r[1],r[n+2]=r[2],r[n+3]=r[3]),n=4*(t.numberOfColors+Wa),t.useAboveRangeColor||0===e?(r[n]=255*t.aboveRangeColor[0]+.5,r[n+1]=255*t.aboveRangeColor[1]+.5,r[n+2]=255*t.aboveRangeColor[2]+.5,r[n+3]=255*t.aboveRangeColor[3]+.5):(r[n]=r[4*(e-1)+0],r[n+1]=r[4*(e-1)+1],r[n+2]=r[4*(e-1)+2],r[n+3]=r[4*(e-1)+3]),r[n=4*(t.numberOfColors+Ha)]=255*t.nanColor[0]+.5,r[n+1]=255*t.nanColor[1]+.5,r[n+2]=255*t.nanColor[2]+.5,r[n+3]=255*t.nanColor[3]+.5}),e.build=(()=>{(t.table.length<1||e.getMTime()>t.buildTime.getMTime())&&e.forceBuild()})}(e,t)}const Za=l.default.newInstance(Ka,\"vtkLookupTable\");var qa=Object.assign({newInstance:Za,extend:Ka});var $a={addCoincidentTopologyMethods:function(e,t,r){r.forEach(r=>{e[`get${r.method}`]=(()=>t[r.key]),e[`set${r.method}`]=((e,n)=>{t[r.key]={factor:e,unit:n}})})},CATEGORIES:[\"Polygon\",\"Line\",\"Point\"]};let Ja=1,es=0;const ts=[\"VTK_RESOLVE_OFF\",\"VTK_RESOLVE_POLYGON_OFFSET\"];function rs(e=0){es=e}var ns={getResolveCoincidentTopologyAsString:function(){return ts[es]},getResolveCoincidentTopologyPolygonOffsetFaces:function(){return Ja},setResolveCoincidentTopology:rs,setResolveCoincidentTopologyPolygonOffsetFaces:function(e){Ja=e},setResolveCoincidentTopologyToDefault:function(){rs(0)},setResolveCoincidentTopologyToOff:function(){rs(0)},setResolveCoincidentTopologyToPolygonOffset:function(){rs(1)}};const{ColorMode:is,ScalarMode:os,GetArray:as}=va,{VectorMode:ss}=ja;function us(e){return()=>l.default.vtkErrorMacro(`vtkMapper::${e} - NOT IMPLEMENTED`)}const ls={};$a.addCoincidentTopologyMethods(ls,{Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},$a.CATEGORIES.map(e=>({key:e,method:`ResolveCoincidentTopology${e}OffsetParameters`})));const cs={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,resolveCoincidentTopology:!1,viewSpecificProperties:null};function ds(e,t,r={}){Object.assign(t,cs,r),Na.extend(e,t,r),l.default.get(e,t,[\"colorCoordinates\",\"colorMapColors\",\"colorTextureMap\"]),l.default.setGet(e,t,[\"colorByArrayName\",\"arrayAccessMode\",\"colorMode\",\"fieldDataTupleId\",\"interpolateScalarsBeforeMapping\",\"lookupTable\",\"renderTime\",\"resolveCoincidentTopology\",\"scalarMode\",\"scalarVisibility\",\"static\",\"useLookupTableScalarRange\",\"viewSpecificProperties\"]),l.default.setGetArray(e,t,[\"scalarRange\"],2),t.viewSpecificProperties||(t.viewSpecificProperties={}),function(e,t){t.classHierarchy.push(\"vtkMapper\"),e.getBounds=(()=>{const r=e.getInputData();return r?(t.static||e.update(),t.bounds=r.getBounds()):t.bounds=ge.createUninitializedBounds(),t.bounds}),e.setForceCompileOnly=(e=>{t.forceCompileOnly=e}),e.createDefaultLookupTable=(()=>{t.lookupTable=qa.newInstance()}),e.getColorModeAsString=(()=>l.default.enumToString(is,t.colorMode)),e.setColorModeToDefault=(()=>e.setColorMode(0)),e.setColorModeToMapScalars=(()=>e.setColorMode(1)),e.setColorModeToDirectScalars=(()=>e.setColorMode(2)),e.getScalarModeAsString=(()=>l.default.enumToString(os,t.scalarMode)),e.setScalarModeToDefault=(()=>e.setScalarMode(0)),e.setScalarModeToUsePointData=(()=>e.setScalarMode(1)),e.setScalarModeToUseCellData=(()=>e.setScalarMode(2)),e.setScalarModeToUsePointFieldData=(()=>e.setScalarMode(3)),e.setScalarModeToUseCellFieldData=(()=>e.setScalarMode(4)),e.setScalarModeToUseFieldData=(()=>e.setScalarMode(5)),Object.keys(ns).forEach(t=>{e[t]=ns[t]}),Object.keys(ls).forEach(t=>{e[t]=ls[t]}),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},$a.addCoincidentTopologyMethods(e,t.topologyOffset,$a.CATEGORIES.map(e=>({key:e,method:`RelativeCoincidentTopology${e}OffsetParameters`}))),e.getCoincidentTopologyPolygonOffsetParameters=(()=>{const t=ls.getResolveCoincidentTopologyPolygonOffsetParameters(),r=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+r.factor,offset:t.offset+r.offset}}),e.getCoincidentTopologyLineOffsetParameters=(()=>{const t=ls.getResolveCoincidentTopologyLineOffsetParameters(),r=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+r.factor,offset:t.offset+r.offset}}),e.getCoincidentTopologyPointOffsetParameter=(()=>{const t=ls.getResolveCoincidentTopologyPointOffsetParameters(),r=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+r.factor,offset:t.offset+r.offset}}),e.getAbstractScalars=((e,r,n,i,o)=>{if(!e||!t.scalarVisibility)return null;let a=null;if(r===os.DEFAULT)(a=e.getPointData().getScalars())||(a=e.getCellData().getScalars());else if(r===os.USE_POINT_DATA)a=e.getPointData().getScalars();else if(r===os.USE_CELL_DATA)a=e.getCellData().getScalars();else if(r===os.USE_POINT_FIELD_DATA){const t=e.getPointData();a=n===as.BY_ID?t.getArrayByIndex(i):t.getArrayByName(o)}else if(r===os.USE_CELL_FIELD_DATA){const t=e.getCellData();a=n===as.BY_ID?t.getArrayByIndex(i):t.getArrayByName(o)}else if(r===os.USE_FIELD_DATA){const t=e.getFieldData();a=n===as.BY_ID?t.getArrayByIndex(i):t.getArrayByName(o)}return a}),e.mapScalars=((r,n)=>{const i=e.getAbstractScalars(r,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName);if(!i)return t.colorCoordinates=null,t.colorTextureMap=null,void(t.colorMapColors=null);if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(r))return void e.mapScalarsToTexture(i,n);t.colorCoordinates=null,t.colorTextureMap=null;const o=e.getLookupTable();o&&(o.build(),t.colorMapColors=o.mapScalars(i,t.colorMode,0))}),e.scalarToTextureCoordinate=((e,t,r)=>{let n=.5,i=1;return ge.isNan(e)||(i=.49,(n=(e-t)*r)>1e3?n=1e3:n<-1e3&&(n=-1e3)),{texCoordS:n,texCoordT:i}}),e.createColorTextureCoordinates=((t,r,n,i,o,a,s,u,l)=>{const c=(a[1]-a[0])/u,d=[];d[0]=a[0]-c,d[1]=a[1]+c;const g=1/(d[1]-d[0]),M=r.getData(),A=t.getData();let f=0,p=0;if(o<0||o>=i)for(let t=0;t<n;++t){let t=0;for(let e=0;e<i;++e)t+=A[f]*A[f],f++;let r=Math.sqrt(t);l&&(r=qa.applyLogScale(r,s,a));const n=e.scalarToTextureCoordinate(r,d[0],g);M[p]=n.texCoordS,M[p+1]=n.texCoordT,p+=2}else{f+=o;for(let t=0;t<n;++t){let t=A[f];l&&(t=qa.applyLogScale(t,s,a));const r=e.scalarToTextureCoordinate(t,d[0],g);M[p]=r.texCoordS,M[p+1]=r.texCoordT,p+=2,f+=i}}}),e.mapScalarsToTexture=((r,n)=>{const i=t.lookupTable.getRange(),o=t.lookupTable.usingLogScale();o&&qa.getLogRange(i,i);const a=t.lookupTable.getAlpha();if(t.colorMapColors=null,null==t.colorTextureMap||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==n){t.lookupTable.setAlpha(n),t.colorTextureMap=null,t.lookupTable.build();let e=t.lookupTable.getNumberOfAvailableColors();e>4094&&(e=4094),e+=2;const r=(i[1]-i[0])/(e-1-2),s=new Float64Array(2*e);for(let t=0;t<e;++t)s[t]=i[0]+t*r-r,o&&(s[t]=10**s[t]);for(let t=0;t<e;++t)s[t+e]=NaN;t.colorTextureMap=Sa.newInstance(),t.colorTextureMap.setExtent(0,e-1,0,1,0,0);const u=Ne.newInstance({numberOfComponents:1,values:s});t.colorTextureMap.getPointData().setScalars(t.lookupTable.mapScalars(u,t.colorMode,0)),t.lookupTable.setAlpha(a)}if(!t.colorCoordinates||e.getMTime()>t.colorCoordinates.getMTime()||e.getInputData(0).getMTime()>t.colorCoordinates.getMTime()||t.lookupTable.getMTime()>t.colorCoordinates.getMTime()){t.colorCoordinates=null;const n=r.getNumberOfComponents(),a=r.getNumberOfTuples();t.colorCoordinates=Ne.newInstance({numberOfComponents:2,values:new Float32Array(2*a)});let s=t.lookupTable.getVectorComponent();t.lookupTable.getVectorMode()===ss.MAGNITUDE&&r.getNumberOfComponents()>1&&(s=-1),e.createColorTextureCoordinates(r,t.colorCoordinates,a,n,s,i,t.lookupTable.getRange(),t.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,o)}}),e.getIsOpaque=(()=>{const t=e.getLookupTable();return!t||(t.build(),t.isOpaque())}),e.canUseTextureMapForColoring=(e=>!(!t.interpolateScalarsBeforeMapping||t.lookupTable&&t.lookupTable.getIndexedLookup())),e.clearColorArrays=(()=>{t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null}),e.getLookupTable=(()=>(t.lookupTable||e.createDefaultLookupTable(),t.lookupTable)),e.getMTime=(()=>{let e=t.mtime;if(null!==t.lookupTable){const r=t.lookupTable.getMTime();e=r>e?r:e}return e}),e.getPrimitiveCount=(()=>{const t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getLines().getNumberOfCells()}}),e.acquireInvertibleLookupTable=us(\"AcquireInvertibleLookupTable\"),e.valueToColor=us(\"ValueToColor\"),e.colorToValue=us(\"ColorToValue\"),e.useInvertibleColorFor=us(\"UseInvertibleColorFor\"),e.clearInvertibleColor=us(\"ClearInvertibleColor\")}(e,t)}const gs=l.default.newInstance(ds,\"vtkMapper\");var Ms=Object.assign({newInstance:gs,extend:ds},ls,ns,va),As=r(7),fs=r.n(As),ps=r(3),ms=r.n(ps);const hs={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6},{Representation:Ts,Shading:Ds}=Jo,{ScalarMode:ys}=Ms,{Filter:Ns,Wrap:Es}=Oi,{PassTypes:Is}=Go,{vtkErrorMacro:xs}=l.default,Ls={type:\"StartEvent\"},ws={type:\"EndEvent\"};const Cs={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1};function Os(e,t,r={}){Object.assign(t,Cs,r),Le.extend(e,t,r),t.primitives=[],t.primTypes=hs,t.tmpMat4=o.create();for(let e=hs.Start;e<hs.End;e++)t.primitives[e]=ha.newInstance(),t.primitives[e].setPrimitiveType(e),t.primitives[e].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:-1},!0);l.default.setGet(e,t,[\"context\"]),t.VBOBuildTime={},l.default.obj(t.VBOBuildTime,{mtime:0}),function(e,t){t.classHierarchy.push(\"vtkOpenGLPolyDataMapper\"),e.buildPass=(r=>{r&&(t.openGLActor=e.getFirstAncestorOfType(\"vtkOpenGLActor\"),t.openGLRenderer=t.openGLActor.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.openGLCamera=t.openGLRenderer.getViewNodeFor(t.openGLRenderer.getRenderable().getActiveCamera()))}),e.translucentPass=(t=>{t&&e.render()}),e.opaqueZBufferPass=(r=>{r&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)}),e.opaquePass=(t=>{t&&e.render()}),e.render=(()=>{const r=t.openGLRenderWindow.getContext();if(t.context!==r){t.context=r;for(let e=hs.Start;e<hs.End;e++)t.primitives[e].setOpenGLRenderWindow(t.openGLRenderWindow)}const n=t.openGLActor.getRenderable(),i=t.openGLRenderer.getRenderable();e.renderPiece(i,n)}),e.buildShaders=((r,n,i)=>{e.getShaderTemplate(r,n,i);const o=t.renderable.getViewSpecificProperties().OpenGL;let a=null;if(o&&(a=o.ShaderReplacements),a)for(let e=0;e<a.length;e++){const t=a[e];if(t.replaceFirst){const e=t.shaderType,n=r[e],i=ga.substitute(n,t.originalValue,t.replacementValue,t.replaceAll);r[e]=i.result}}if(e.replaceShaderValues(r,n,i),a)for(let e=0;e<a.length;e++){const t=a[e];if(!t.replaceFirst){const e=t.shaderType,n=r[e],i=ga.substitute(n,t.originalValue,t.replacementValue,t.replaceAll);r[e]=i.result}}}),e.getShaderTemplate=((e,r,n)=>{const i=t.renderable.getViewSpecificProperties().OpenGL;let o=fs.a;if(i){const e=i.VertexShaderCode;void 0!==e&&\"\"!==e&&(o=e)}e.Vertex=o;let a=ms.a;if(i){const e=i.FragmentShaderCode;void 0!==e&&\"\"!==e&&(a=e)}e.Fragment=a;let s=\"\";if(i){const e=i.GeometryShaderCode;void 0!==e&&(s=e)}e.Geometry=s}),e.replaceShaderColor=((e,r,n)=>{let i=e.Vertex,o=e.Geometry,a=e.Fragment;const s=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\");let u=[\"uniform float ambient;\",\"uniform float diffuse;\",\"uniform float specular;\",\"uniform float opacityUniform; // the fragment opacity\",\"uniform vec3 ambientColorUniform;\",\"uniform vec3 diffuseColorUniform;\"];s&&(u=u.concat([\"uniform vec3 specularColorUniform;\",\"uniform float specularPowerUniform;\"]));let l=[\"vec3 ambientColor;\",\"  vec3 diffuseColor;\",\"  float opacity;\"];s&&(l=l.concat([\"  vec3 specularColor;\",\"  float specularPower;\"])),l=l.concat([\"  ambientColor = ambientColorUniform;\",\"  diffuseColor = diffuseColorUniform;\",\"  opacity = opacityUniform;\"]),s&&(l=l.concat([\"  specularColor = specularColorUniform;\",\"  specularPower = specularPowerUniform;\"])),0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges||(u=u.concat([\"varying vec4 vertexColorVSOutput;\"]),i=ga.substitute(i,\"//VTK::Color::Dec\",[\"attribute vec4 scalarColor;\",\"varying vec4 vertexColorVSOutput;\"]).result,i=ga.substitute(i,\"//VTK::Color::Impl\",[\"vertexColorVSOutput =  scalarColor;\"]).result,o=ga.substitute(o,\"//VTK::Color::Dec\",[\"in vec4 vertexColorVSOutput[];\",\"out vec4 vertexColorGSOutput;\"]).result,o=ga.substitute(o,\"//VTK::Color::Impl\",[\"vertexColorGSOutput = vertexColorVSOutput[i];\"]).result),a=0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges?t.renderable.getInterpolateScalarsBeforeMapping()&&t.renderable.getColorCoordinates()&&!t.drawingEdges?ga.substitute(a,\"//VTK::Color::Impl\",l.concat([\"  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);\",\"  diffuseColor = texColor.rgb;\",\"  ambientColor = texColor.rgb;\",\"  opacity = opacity*texColor.a;\"])).result:ga.substitute(a,\"//VTK::Color::Impl\",l).result:ga.substitute(a,\"//VTK::Color::Impl\",l.concat([\"  diffuseColor = vertexColorVSOutput.rgb;\",\"  ambientColor = vertexColorVSOutput.rgb;\",\"  opacity = opacity*vertexColorVSOutput.a;\"])).result,a=ga.substitute(a,\"//VTK::Color::Dec\",u).result,e.Vertex=i,e.Geometry=o,e.Fragment=a}),e.replaceShaderLight=((e,r,n)=>{let i=e.Fragment;const o=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\"),a=t.lastBoundBO.getReferenceByName(\"lastLightCount\");let s=[];switch(o){case 0:i=ga.substitute(i,\"//VTK::Light::Impl\",[\"  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);\",\"  //VTK::Light::Impl\"],!1).result;break;case 1:i=ga.substitute(i,\"//VTK::Light::Impl\",[\"  float df = max(0.0, normalVCVSOutput.z);\",\"  float sf = pow(df, specularPower);\",\"  vec3 diffuseL = df * diffuseColor;\",\"  vec3 specularL = sf * specularColor;\",\"  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);\",\"  //VTK::Light::Impl\"],!1).result;break;case 2:for(let e=0;e<a;++e)s=s.concat([`uniform vec3 lightColor${e};`,`uniform vec3 lightDirectionVC${e}; // normalized`,`uniform vec3 lightHalfAngleVC${e}; // normalized`]);i=ga.substitute(i,\"//VTK::Light::Dec\",s).result,s=[\"vec3 diffuseL = vec3(0,0,0);\",\"  vec3 specularL = vec3(0,0,0);\",\"  float df;\"];for(let e=0;e<a;++e)s=s.concat([`  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC${e}));`,`  diffuseL += ((df) * lightColor${e});`,`  if (dot(normalVCVSOutput, lightDirectionVC${e}) < 0.0)`,\"    {\",`    float sf = pow( max(0.0, dot(lightHalfAngleVC${e},normalVCVSOutput)), specularPower);`,`    specularL += ((sf) * lightColor${e});`,\"    }\"]);s=s.concat([\"  diffuseL = diffuseL * diffuseColor;\",\"  specularL = specularL * specularColor;\",\"  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);\",\"  //VTK::Light::Impl\"]),i=ga.substitute(i,\"//VTK::Light::Impl\",s,!1).result;break;case 3:for(let e=0;e<a;++e)s=s.concat([`uniform vec3 lightColor${e};`,`uniform vec3 lightDirectionVC${e}; // normalized`,`uniform vec3 lightHalfAngleVC${e}; // normalized`,`uniform vec3 lightPositionVC${e};`,`uniform vec3 lightAttenuation${e};`,`uniform float lightConeAngle${e};`,`uniform float lightExponent${e};`,`uniform int lightPositional${e};`]);i=ga.substitute(i,\"//VTK::Light::Dec\",s).result,s=[\"vec3 diffuseL = vec3(0,0,0);\",\"  vec3 specularL = vec3(0,0,0);\",\"  vec3 vertLightDirectionVC;\",\"  float attenuation;\",\"  float df;\"];for(let e=0;e<a;++e)s=s.concat([\"  attenuation = 1.0;\",`  if (lightPositional${e} == 0)`,\"    {\",`      vertLightDirectionVC = lightDirectionVC${e};`,\"    }\",\"  else\",\"    {\",`    vertLightDirectionVC = vertexVC.xyz - lightPositionVC${e};`,\"    float distanceVC = length(vertLightDirectionVC);\",\"    vertLightDirectionVC = normalize(vertLightDirectionVC);\",\"    attenuation = 1.0 /\",`      (lightAttenuation${e}.x`,`       + lightAttenuation${e}.y * distanceVC`,`       + lightAttenuation${e}.z * distanceVC * distanceVC);`,\"    // per OpenGL standard cone angle is 90 or less for a spot light\",`    if (lightConeAngle${e} <= 90.0)`,\"      {\",`      float coneDot = dot(vertLightDirectionVC, lightDirectionVC${e});`,\"      // if inside the cone\",`      if (coneDot >= cos(radians(lightConeAngle${e})))`,\"        {\",`        attenuation = attenuation * pow(coneDot, lightExponent${e});`,\"        }\",\"      else\",\"        {\",\"        attenuation = 0.0;\",\"        }\",\"      }\",\"    }\",\"    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));\",`    diffuseL += ((df) * lightColor${e});`,\"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)\",\"      {\",`      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC${e},normalVCVSOutput)), specularPower);`,`    specularL += ((sf) * lightColor${e});`,\"    }\"]);s=s.concat([\"  diffuseL = diffuseL * diffuseColor;\",\"  specularL = specularL * specularColor;\",\"  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);\",\"  //VTK::Light::Impl\"]),i=ga.substitute(i,\"//VTK::Light::Impl\",s,!1).result;break;default:xs(\"bad light complexity\")}e.Fragment=i}),e.replaceShaderNormal=((r,n,i)=>{if(t.lastBoundBO.getReferenceByName(\"lastLightComplexity\")>0){let n=r.Vertex,o=r.Geometry,a=r.Fragment;t.lastBoundBO.getCABO().getNormalOffset()?(n=ga.substitute(n,\"//VTK::Normal::Dec\",[\"attribute vec3 normalMC;\",\"uniform mat3 normalMatrix;\",\"varying vec3 normalVCVSOutput;\"]).result,n=ga.substitute(n,\"//VTK::Normal::Impl\",[\"normalVCVSOutput = normalMatrix * normalMC;\"]).result,o=ga.substitute(o,\"//VTK::Normal::Dec\",[\"in vec3 normalVCVSOutput[];\",\"out vec3 normalVCGSOutput;\"]).result,o=ga.substitute(o,\"//VTK::Normal::Impl\",[\"normalVCGSOutput = normalVCVSOutput[i];\"]).result,a=ga.substitute(a,\"//VTK::Normal::Dec\",[\"varying vec3 normalVCVSOutput;\"]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",[\"vec3 normalVCVSOutput = normalize(normalVCVSOutput);\",\"  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }\"]).result):t.haveCellNormals?(a=ga.substitute(a,\"//VTK::Normal::Dec\",[\"uniform mat3 normalMatrix;\",\"uniform samplerBuffer textureN;\"]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",[\"vec3 normalVCVSOutput = normalize(normalMatrix *\",\"    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);\",\"  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }\"]).result):e.getOpenGLMode(i.getProperty().getRepresentation(),t.lastBoundBO.getPrimitiveType())===t.context.LINES?(a=ga.substitute(a,\"//VTK::UniformFlow::Impl\",[\"  vec3 fdx = vec3(dFdx(vertexVC.x),dFdx(vertexVC.y),dFdx(vertexVC.z));\",\"  vec3 fdy = vec3(dFdy(vertexVC.x),dFdy(vertexVC.y),dFdy(vertexVC.z));\",\"  //VTK::UniformFlow::Impl\"]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",[\"vec3 normalVCVSOutput;\",\"  fdx = normalize(fdx);\",\"  fdy = normalize(fdy);\",\"  if (abs(fdx.x) > 0.0)\",\"    { normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }\",\"  else { normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}\"]).result):(a=ga.substitute(a,\"//VTK::Normal::Dec\",[\"uniform int cameraParallel;\"]).result,a=ga.substitute(a,\"//VTK::UniformFlow::Impl\",[\"  vec3 fdx = dFdx(vertexVC.xyz);\",\"  vec3 fdy = dFdy(vertexVC.xyz);\",\"  //VTK::UniformFlow::Impl\"]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",[\"  fdx = normalize(fdx);\",\"  fdy = normalize(fdy);\",\"  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));\",\"  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }\",\"  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }\"]).result),r.Vertex=n,r.Geometry=o,r.Fragment=a}}),e.replaceShaderPositionVC=((e,r,n)=>{let i=e.Vertex,o=e.Geometry,a=e.Fragment;n.getProperty().getRepresentation()!==Ts.POINTS&&t.lastBoundBO.getPrimitiveType()!==hs.Points||(i=ga.substitute(i,\"//VTK::PositionVC::Impl\",[\"//VTK::PositionVC::Impl\",`  gl_PointSize = ${n.getProperty().getPointSize()}.0;`],!1).result),t.lastBoundBO.getReferenceByName(\"lastLightComplexity\")>0?(i=ga.substitute(i,\"//VTK::PositionVC::Dec\",[\"varying vec4 vertexVCVSOutput;\"]).result,i=ga.substitute(i,\"//VTK::PositionVC::Impl\",[\"vertexVCVSOutput = MCVCMatrix * vertexMC;\",\"  gl_Position = MCDCMatrix * vertexMC;\"]).result,i=ga.substitute(i,\"//VTK::Camera::Dec\",[\"uniform mat4 MCDCMatrix;\",\"uniform mat4 MCVCMatrix;\"]).result,o=ga.substitute(o,\"//VTK::PositionVC::Dec\",[\"in vec4 vertexVCVSOutput[];\",\"out vec4 vertexVCGSOutput;\"]).result,o=ga.substitute(o,\"//VTK::PositionVC::Impl\",[\"vertexVCGSOutput = vertexVCVSOutput[i];\"]).result,a=ga.substitute(a,\"//VTK::PositionVC::Dec\",[\"varying vec4 vertexVCVSOutput;\"]).result,a=ga.substitute(a,\"//VTK::PositionVC::Impl\",[\"vec4 vertexVC = vertexVCVSOutput;\"]).result):(i=ga.substitute(i,\"//VTK::Camera::Dec\",[\"uniform mat4 MCDCMatrix;\"]).result,i=ga.substitute(i,\"//VTK::PositionVC::Impl\",[\"  gl_Position = MCDCMatrix * vertexMC;\"]).result),e.Vertex=i,e.Geometry=o,e.Fragment=a}),e.replaceShaderTCoord=((e,r,n)=>{if(t.lastBoundBO.getCABO().getTCoordOffset()){let r=e.Vertex,n=e.Geometry,i=e.Fragment;if(t.drawingEdges)return;r=ga.substitute(r,\"//VTK::TCoord::Impl\",\"tcoordVCVSOutput = tcoordMC;\").result;const o=t.openGLActor.getActiveTextures();let a=2,s=2;if(o&&o.length>0&&(a=o[0].getComponents(),o[0].getTarget()===t.context.TEXTURE_CUBE_MAP&&(s=3)),t.renderable.getColorTextureMap()&&(a=t.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),s=2),2===s)switch(r=ga.substitute(r,\"//VTK::TCoord::Dec\",\"attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;\").result,n=ga.substitute(n,\"//VTK::TCoord::Dec\",[\"in vec2 tcoordVCVSOutput[];\",\"out vec2 tcoordVCGSOutput;\"]).result,n=ga.substitute(n,\"//VTK::TCoord::Impl\",\"tcoordVCGSOutput = tcoordVCVSOutput[i];\").result,i=ga.substitute(i,\"//VTK::TCoord::Dec\",[\"varying vec2 tcoordVCVSOutput;\",\"uniform sampler2D texture1;\"]).result,a){case 1:i=ga.substitute(i,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*\",\"  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);\"]).result;break;case 2:i=ga.substitute(i,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*\",\"  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);\"]).result;break;default:i=ga.substitute(i,\"//VTK::TCoord::Impl\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*texture2D(texture1, tcoordVCVSOutput.st);\").result}else switch(r=ga.substitute(r,\"//VTK::TCoord::Dec\",\"attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;\").result,n=ga.substitute(n,\"//VTK::TCoord::Dec\",[\"in vec3 tcoordVCVSOutput[];\",\"out vec3 tcoordVCGSOutput;\"]).result,n=ga.substitute(n,\"//VTK::TCoord::Impl\",\"tcoordVCGSOutput = tcoordVCVSOutput[i];\").result,i=ga.substitute(i,\"//VTK::TCoord::Dec\",[\"varying vec3 tcoordVCVSOutput;\",\"uniform samplerCube texture1;\"]).result,a){case 1:i=ga.substitute(i,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*\",\"  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);\"]).result;break;case 2:i=ga.substitute(i,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*\",\"  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);\"]).result;break;default:i=ga.substitute(i,\"//VTK::TCoord::Impl\",\"gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*textureCube(texture1, tcoordVCVSOutput);\").result}e.Vertex=r,e.Geometry=n,e.Fragment=i}}),e.replaceShaderClip=((e,r,n)=>{let i=e.Vertex,o=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&(l.default.vtkErrorMacro(\"OpenGL has a limit of 6 clipping planes\"),e=6),i=ga.substitute(i,\"//VTK::Clip::Dec\",[\"uniform int numClipPlanes;\",\"uniform vec4 clipPlanes[6];\",\"varying float clipDistancesVSOutput[6];\"]).result,i=ga.substitute(i,\"//VTK::Clip::Impl\",[\"for (int planeNum = 0; planeNum < 6; planeNum++)\",\"    {\",\"    if (planeNum >= numClipPlanes)\",\"        {\",\"        break;\",\"        }\",\"    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);\",\"    }\"]).result,o=ga.substitute(o,\"//VTK::Clip::Dec\",[\"uniform int numClipPlanes;\",\"varying float clipDistancesVSOutput[6];\"]).result,o=ga.substitute(o,\"//VTK::Clip::Impl\",[\"for (int planeNum = 0; planeNum < 6; planeNum++)\",\"    {\",\"    if (planeNum >= numClipPlanes)\",\"        {\",\"        break;\",\"        }\",\"    if (clipDistancesVSOutput[planeNum] < 0.0) discard;\",\"    }\"]).result}e.Vertex=i,e.Fragment=o}),e.getCoincidentParameters=((e,r)=>{let n=null;const i=r.getProperty();if(t.renderable.getResolveCoincidentTopology()||i.getEdgeVisibility()&&i.getRepresentation()===Ts.SURFACE){const e=t.lastBoundBO.getPrimitiveType();e===hs.Points||i.getRepresentation()===Ts.POINTS?n=t.renderable.getCoincidentTopologyPointOffsetParameter():e===hs.Lines||i.getRepresentation()===Ts.WIREFRAME?n=t.renderable.getCoincidentTopologyLineOffsetParameters():e!==hs.Tris&&e!==hs.TriStrips||(n=t.renderable.getCoincidentTopologyPolygonOffsetParameters()),e!==hs.TrisEdges&&e!==hs.TriStripsEdges||((n=t.renderable.getCoincidentTopologyPolygonOffsetParameters()).factor/=2,n.offset/=2)}return n}),e.replaceShaderCoincidentOffset=((r,n,i)=>{const o=e.getCoincidentParameters(n,i);if(o&&(0!==o.factor||0!==o.offset)){let e=r.Fragment;e=ga.substitute(e,\"//VTK::Coincident::Dec\",[\"uniform float cfactor;\",\"uniform float coffset;\"]).result,t.context.getExtension(\"EXT_frag_depth\")&&(0!==o.factor?(e=ga.substitute(e,\"//VTK::UniformFlow::Impl\",[\"float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));\",\"//VTK::UniformFlow::Impl\"],!1).result,e=ga.substitute(e,\"//VTK::Depth::Impl\",\"gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;\").result):e=ga.substitute(e,\"//VTK::Depth::Impl\",\"gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;\").result),r.Fragment=e}}),e.replaceShaderPicking=((e,r,n)=>{if(t.openGLRenderer.getSelector()){let r=e.Fragment;switch(t.openGLRenderer.getSelector().getCurrentPass()){case Is.ID_LOW24:break;default:r=ga.substitute(r,\"//VTK::Picking::Dec\",\"uniform vec3 mapperIndex;\").result,r=ga.substitute(r,\"//VTK::Picking::Impl\",\"  gl_FragData[0] = vec4(mapperIndex,1.0);\").result}e.Fragment=r}}),e.replaceShaderValues=((r,n,i)=>{if(e.replaceShaderColor(r,n,i),e.replaceShaderNormal(r,n,i),e.replaceShaderLight(r,n,i),e.replaceShaderTCoord(r,n,i),e.replaceShaderPicking(r,n,i),e.replaceShaderClip(r,n,i),e.replaceShaderCoincidentOffset(r,n,i),e.replaceShaderPositionVC(r,n,i),t.haveSeenDepthRequest){let e=r.Fragment;e=ga.substitute(e,\"//VTK::ZBuffer::Dec\",\"uniform int depthRequest;\").result,e=ga.substitute(e,\"//VTK::ZBuffer::Impl\",[\"if (depthRequest == 1) {\",\"float iz = floor(gl_FragCoord.z*65535.0 + 0.1);\",\"float rf = floor(iz/256.0)/255.0;\",\"float gf = mod(iz,256.0)/255.0;\",\"gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }\"]).result,r.Fragment=e}}),e.getNeedToRebuildShaders=((r,n,i)=>{let o=0,a=0;const s=r.getPrimitiveType();let u=!0;const l=t.currentInput;let c=i.getProperty().getInterpolation()!==Ds.FLAT?l.getPointData().getNormals():null;null===c&&l.getCellData().getNormals()&&(c=l.getCellData().getNormals());const d=null!==c;if(i.getProperty().getRepresentation()!==Ts.POINTS&&s!==hs.Points||(u=d),i.getProperty().getLighting()&&u){o=0;const e=n.getLightsByReference();for(let t=0;t<e.length;++t){const r=e[t];r.getSwitch()>0&&(a++,0===o&&(o=1)),1===o&&(a>1||1!==r.getIntensity()||!r.lightTypeIsHeadLight())&&(o=2),o<3&&r.getPositional()&&(o=3)}}let g=!1;const M=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\"),A=t.lastBoundBO.getReferenceByName(\"lastLightCount\");M===o&&A===a||(t.lastBoundBO.set({lastLightComplexity:o},!0),t.lastBoundBO.set({lastLightCount:a},!0),g=!0);const f=t.openGLRenderer.getSelector(),p=null===f?-1:f.getCurrentPass();return t.lastBoundBO.getReferenceByName(\"lastSelectionPass\")!==p&&(t.lastBoundBO.set({lastSelectionPass:p},!0),g=!0),!!(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===r.getProgram()||r.getShaderSourceTime().getMTime()<e.getMTime()||r.getShaderSourceTime().getMTime()<i.getMTime()||r.getShaderSourceTime().getMTime()<t.renderable.getMTime()||r.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||g)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,!0)}),e.updateShaders=((r,n,i)=>{if(t.lastBoundBO=r,e.getNeedToRebuildShaders(r,n,i)){const o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,n,i);const a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);a!==r.getProgram()&&(r.setProgram(a),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),e.setMapperShaderParameters(r,n,i),e.setPropertyShaderParameters(r,n,i),e.setCameraShaderParameters(r,n,i),e.setLightingShaderParameters(r,n,i);const o=t.renderable.getViewSpecificProperties().ShadersCallbacks;o&&o.forEach(e=>{e.callback(e.userData,r,n,i)})}),e.setMapperShaderParameters=((r,n,i)=>{if(r.getProgram().isUniformUsed(\"PrimitiveIDOffset\")&&r.getProgram().setUniformi(\"PrimitiveIDOffset\",t.primitiveIDOffset),r.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){const e=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\");r.getProgram().isAttributeUsed(\"vertexMC\")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),\"vertexMC\",r.getCABO().getVertexOffset(),r.getCABO().getStride(),t.context.FLOAT,3,!1)||xs(\"Error setting vertexMC in shader VAO.\")),r.getProgram().isAttributeUsed(\"normalMC\")&&r.getCABO().getNormalOffset()&&e>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),\"normalMC\",r.getCABO().getNormalOffset(),r.getCABO().getStride(),t.context.FLOAT,3,!1)||xs(\"Error setting normalMC in shader VAO.\"):r.getVAO().removeAttributeArray(\"normalMC\"),r.getProgram().isAttributeUsed(\"tcoordMC\")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),\"tcoordMC\",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),t.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||xs(\"Error setting tcoordMC in shader VAO.\"):r.getVAO().removeAttributeArray(\"tcoordMC\"),r.getProgram().isAttributeUsed(\"scalarColor\")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),\"scalarColor\",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,4,!0)||xs(\"Error setting scalarColor in shader VAO.\"):r.getVAO().removeAttributeArray(\"scalarColor\"),r.getAttributeUpdateTime().modified()}if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&(l.default.vtkErrorMacro(\"OpenGL has a limit of 6 clipping planes\"),e=6);const n=[];for(let r=0;r<e;r++){const e=[];t.renderable.getClippingPlaneInDataCoords(i.getMatrix(),r,e);for(let t=0;t<4;t++)n.push(e[t])}r.getProgram().setUniformi(\"numClipPlanes\",e),r.getProgram().setUniform4fv(\"clipPlanes\",6,n)}t.internalColorTexture&&r.getProgram().isUniformUsed(\"texture1\")&&r.getProgram().setUniformi(\"texture1\",t.internalColorTexture.getTextureUnit());const o=t.openGLActor.getActiveTextures();if(o)for(let e=0;e<o.length;++e){const t=o[e].getTextureUnit(),n=`texture${t+1}`;r.getProgram().isUniformUsed(n)&&r.getProgram().setUniformi(n,t)}if(t.haveSeenDepthRequest&&r.getProgram().setUniformi(\"depthRequest\",t.renderDepth?1:0),r.getProgram().isUniformUsed(\"coffset\")){const t=e.getCoincidentParameters(n,i);r.getProgram().setUniformf(\"coffset\",t.offset),r.getProgram().isUniformUsed(\"cfactor\")&&r.getProgram().setUniformf(\"cfactor\",t.factor)}const a=t.openGLRenderer.getSelector();a&&r.getProgram().isUniformUsed(\"mapperIndex\")&&a.getCurrentPass()<Is.ID_LOW24&&r.getProgram().setUniform3fArray(\"mapperIndex\",a.getPropColorValue())}),e.setLightingShaderParameters=((e,r,n)=>{const i=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\");if(i<2)return;const s=e.getProgram();let u=0;const l=r.getLightsByReference();for(let e=0;e<l.length;++e){const r=l[e];if(r.getSwitch()>0){const e=r.getColorByReference(),n=r.getIntensity();t.lightColor[0]=e[0]*n,t.lightColor[1]=e[1]*n,t.lightColor[2]=e[2]*n;const i=r.getDirection();t.lightDirection[0]=i[0],t.lightDirection[1]=i[1],t.lightDirection[2]=i[2],t.lightHalfAngle[0]=-t.lightDirection[0],t.lightHalfAngle[1]=-t.lightDirection[1],t.lightHalfAngle[2]=1-t.lightDirection[2],ge.normalize(t.lightDirection),s.setUniform3fArray(`lightColor${u}`,t.lightColor),s.setUniform3fArray(`lightDirectionVC${u}`,t.lightDirection),s.setUniform3fArray(`lightHalfAngleVC${u}`,t.lightHalfAngle),u++}}if(i<3)return;const c=r.getActiveCamera().getViewMatrix();o.transpose(c,c),u=0;for(let e=0;e<l.length;++e){const t=l[e];if(t.getSwitch()>0){const e=t.getTransformedPosition(),r=a.fromValues(e[0],e[1],e[2]);a.transformMat4(r,r,c),s.setUniform3fArray(`lightAttenuation${u}`,t.getAttenuationValuesByReference()),s.setUniformi(`lightPositional${u}`,t.getPositional()),s.setUniformf(`lightExponent${u}`,t.getExponent()),s.setUniformf(`lightConeAngle${u}`,t.getConeAngle()),s.setUniform3fArray(`lightPositionVC${u}`,[r[0],r[1],r[2]]),u++}}}),e.setCameraShaderParameters=((e,r,n)=>{const a=e.getProgram(),s=t.openGLCamera.getKeyMatrices(r),u=r.getActiveCamera(),l=t.openGLCamera.getKeyMatrixTime().getMTime();if(a.getLastCameraMTime()!==l&&(n.getIsIdentity()&&(a.setUniformMatrix(\"MCDCMatrix\",s.wcdc),a.isUniformUsed(\"MCVCMatrix\")&&a.setUniformMatrix(\"MCVCMatrix\",s.wcvc),a.isUniformUsed(\"normalMatrix\")&&a.setUniformMatrix3x3(\"normalMatrix\",s.normalMatrix)),a.isUniformUsed(\"cameraParallel\")&&a.setUniformi(\"cameraParallel\",u.getParallelProjection()),a.setLastCameraMTime(l)),!n.getIsIdentity()){const e=t.openGLActor.getKeyMatrices();if(a.isUniformUsed(\"normalMatrix\")){const t=i.create();i.multiply(t,s.normalMatrix,e.normalMatrix),a.setUniformMatrix3x3(\"normalMatrix\",t)}o.identity(t.tmpMat4),o.multiply(t.tmpMat4,s.wcdc,e.mcwc),a.setUniformMatrix(\"MCDCMatrix\",t.tmpMat4),a.isUniformUsed(\"MCVCMatrix\")&&(o.multiply(t.tmpMat4,s.wcvc,e.mcwc),a.setUniformMatrix(\"MCVCMatrix\",t.tmpMat4)),a.setLastCameraMTime(0)}}),e.setPropertyShaderParameters=((e,r,n)=>{const i=e.getProgram(),o=n.getProperty(),a=o.getOpacity();i.setUniformf(\"opacityUniform\",a);const s=t.drawingEdges?o.getEdgeColorByReference():o.getAmbientColorByReference();i.setUniform3fArray(\"ambientColorUniform\",s),i.setUniformf(\"ambient\",o.getAmbient());const u=t.drawingEdges?o.getEdgeColorByReference():o.getDiffuseColorByReference();if(i.setUniform3fArray(\"diffuseColorUniform\",u),i.setUniformf(\"diffuse\",o.getDiffuse()),t.lastBoundBO.getReferenceByName(\"lastLightComplexity\")<1)return;const l=o.getSpecularColorByReference();i.setUniform3fArray(\"specularColorUniform\",l),i.setUniformf(\"specular\",o.getSpecular()),i.setUniformf(\"specularPowerUniform\",o.getSpecularPower())}),e.renderPieceStart=((r,n)=>{t.primitiveIDOffset=0,t.openGLRenderer.getSelector()&&(t.openGLRenderer.getSelector().getCurrentPass(),t.openGLRenderer.getSelector().renderProp(n)),e.updateBufferObjects(r,n),t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),t.lastBoundBO=null}),e.renderPieceDraw=((r,n)=>{const i=n.getProperty().getRepresentation(),o=t.context,a=n.getProperty().getEdgeVisibility()&&i===Ts.SURFACE;for(let s=hs.Start;s<hs.End;s++){const u=t.primitives[s].getCABO();if(u.getElementCount()){t.drawingEdges=a&&(s===hs.TrisEdges||s===hs.TriStripsEdges),e.updateShaders(t.primitives[s],r,n);const l=e.getOpenGLMode(i,s);o.drawArrays(l,0,u.getElementCount());const c=(l===o.POINTS?1:0)||(l===o.LINES?2:3);t.primitiveIDOffset+=u.getElementCount()/c}}}),e.getOpenGLMode=((e,r)=>e===Ts.POINTS||r===hs.Points?t.context.POINTS:e===Ts.WIREFRAME||r===hs.Lines||r===hs.TrisEdges||r===hs.TriStripsEdges?t.context.LINES:t.context.TRIANGLES),e.renderPieceFinish=((e,r)=>{t.LastBoundBO&&t.LastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()}),e.renderPiece=((r,n)=>{if(e.invokeEvent(Ls),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent(ws),!t.currentInput)return void xs(\"No input!\");if(!t.currentInput.getPoints||!t.currentInput.getPoints().getNumberOfValues())return;const i=t.context,o=n.getProperty().getBackfaceCulling(),a=n.getProperty().getFrontfaceCulling();o||a?a?(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(r,n),e.renderPieceDraw(r,n),e.renderPieceFinish(r,n)}),e.computeBounds=((r,n)=>{e.getInput()?t.bounds=e.getInput().getBounds():ge.uninitializeBounds(t.bounds)}),e.updateBufferObjects=((t,r)=>{e.getNeedToRebuildBufferObjects(t,r)&&e.buildBufferObjects(t,r)}),e.getNeedToRebuildBufferObjects=((r,n)=>{const i=t.VBOBuildTime.getMTime();return i<e.getMTime()||i<t.renderable.getMTime()||i<n.getMTime()||i<t.currentInput.getMTime()}),e.buildBufferObjects=((e,r)=>{const n=t.currentInput;if(null===n)return;t.renderable.mapScalars(n,1);const i=t.renderable.getColorMapColors();t.haveCellScalars=!1;const o=t.renderable.getScalarMode();t.renderable.getScalarVisibility()&&(o!==ys.USE_CELL_DATA&&o!==ys.USE_CELL_FIELD_DATA&&o!==ys.USE_FIELD_DATA&&n.getPointData().getScalars()||o===ys.USE_POINT_FIELD_DATA||!i||(t.haveCellScalars=!0));let a=r.getProperty().getInterpolation()!==Ds.FLAT?n.getPointData().getNormals():null;null===a&&n.getCellData().getNormals()&&(t.haveCellNormals=!0,a=n.getCellData().getNormals());const s=r.getProperty().getRepresentation();let u=n.getPointData().getTCoords();if(t.openGLActor.getActiveTextures()||(u=null),t.renderable.getColorCoordinates()){u=t.renderable.getColorCoordinates(),t.internalColorTexture||(t.internalColorTexture=Oi.newInstance());const e=t.internalColorTexture;e.setMinificationFilter(Ns.NEAREST),e.setMagnificationFilter(Ns.NEAREST),e.setWrapS(Es.CLAMP_TO_EDGE),e.setWrapT(Es.CLAMP_TO_EDGE),e.setOpenGLRenderWindow(t.openGLRenderWindow);const r=t.renderable.getColorTextureMap(),n=r.getExtent(),i=r.getPointData().getScalars();e.create2DFromRaw(n[1]-n[0]+1,n[3]-n[2]+1,i.getNumberOfComponents(),i.getDataType(),i.getData()),e.activate(),e.sendParameters(),e.deactivate()}const l=`${n.getMTime()}A${s}B${n.getMTime()}`+`C${a?a.getMTime():1}D${i?i.getMTime():1}`+`E${r.getProperty().getEdgeVisibility()}`+`F${u?u.getMTime():1}`;if(t.VBOBuildString!==l){const e=n.getPoints(),o={points:e,normals:a,tcoords:u,colors:i,cellOffset:0,haveCellScalars:t.haveCellScalars,haveCellNormals:t.haveCellNormals};o.cellOffset+=t.primitives[hs.Points].getCABO().createVBO(n.getVerts(),\"verts\",s,o),o.cellOffset+=t.primitives[hs.Lines].getCABO().createVBO(n.getLines(),\"lines\",s,o),o.cellOffset+=t.primitives[hs.Tris].getCABO().createVBO(n.getPolys(),\"polys\",s,o),o.cellOffset+=t.primitives[hs.TriStrips].getCABO().createVBO(n.getStrips(),\"strips\",s,o),r.getProperty().getEdgeVisibility()&&s===Ts.SURFACE?(t.primitives[hs.TrisEdges].getCABO().createVBO(n.getPolys(),\"polys\",Ts.WIREFRAME,{points:e,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),t.primitives[hs.TriStripsEdges].getCABO().createVBO(n.getStrips(),\"strips\",Ts.WIREFRAME,{points:e,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(t.primitives[hs.TrisEdges].releaseGraphicsResources(t.openGLRenderWindow),t.primitives[hs.TriStripsEdges].releaseGraphicsResources(t.openGLRenderWindow)),t.VBOBuildTime.modified(),t.VBOBuildString=l}})}(e,t)}var Ss={newInstance:l.default.newInstance(Os,\"vtkOpenGLPolyDataMapper\"),extend:Os};const{vtkErrorMacro:bs}=l.default,{Representation:js}=Jo,{ObjectType:vs}=so,{PassTypes:zs}=Go,Rs={type:\"StartEvent\"},Ps={type:\"EndEvent\"};const ks={normalMatrix:null,mcdcMatrix:null,mcwcMatrix:null};function Bs(e,t,r={}){Object.assign(t,ks,r),Ss.extend(e,t,r),t.tmpMat3=i.create(),t.normalMatrix=i.create(),t.mcdcMatrix=o.create(),t.mcvcMatrix=o.create(),t.tmpColor=[],t.glyphBOBuildTime={},l.default.obj(t.glyphBOBuildTime,{mtime:0}),function(e,t){t.classHierarchy.push(\"vtkOpenGLGlyph3DMapper\");const r=Object.assign({},e);e.renderPiece=((r,n)=>{if(e.invokeEvent(Rs),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(1),e.invokeEvent(Ps),!t.currentInput)return void bs(\"No input!\");if(!t.currentInput.getPoints||!t.currentInput.getPoints().getNumberOfValues())return;const i=t.context;t.openGLRenderWindow.getWebgl2()?(t.hardwareSupport=!0,t.extension=null):t.extension||(t.extension=t.context.getExtension(\"ANGLE_instanced_arrays\"),t.hardwareSupport=!!t.extension);const o=n.getProperty().getBackfaceCulling(),a=n.getProperty().getFrontfaceCulling();o||a?a?(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(t.openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(r,n),e.renderPieceDraw(r,n),e.renderPieceFinish(r,n)}),e.multiply4x4WithOffset=((e,t,r,n)=>{const i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=t[5],c=t[6],d=t[7],g=t[8],M=t[9],A=t[10],f=t[11],p=t[12],m=t[13],h=t[14],T=t[15];let D=r[n],y=r[n+1],N=r[n+2],E=r[n+3];e[0]=D*i+y*u+N*g+E*p,e[1]=D*o+y*l+N*M+E*m,e[2]=D*a+y*c+N*A+E*h,e[3]=D*s+y*d+N*f+E*T,D=r[n+4],y=r[n+5],N=r[n+6],E=r[n+7],e[4]=D*i+y*u+N*g+E*p,e[5]=D*o+y*l+N*M+E*m,e[6]=D*a+y*c+N*A+E*h,e[7]=D*s+y*d+N*f+E*T,D=r[n+8],y=r[n+9],N=r[n+10],E=r[n+11],e[8]=D*i+y*u+N*g+E*p,e[9]=D*o+y*l+N*M+E*m,e[10]=D*a+y*c+N*A+E*h,e[11]=D*s+y*d+N*f+E*T,D=r[n+12],y=r[n+13],N=r[n+14],E=r[n+15],e[12]=D*i+y*u+N*g+E*p,e[13]=D*o+y*l+N*M+E*m,e[14]=D*a+y*c+N*A+E*h,e[15]=D*s+y*d+N*f+E*T}),e.replaceShaderNormal=((e,n,i)=>{if(t.hardwareSupport&&t.lastBoundBO.getReferenceByName(\"lastLightComplexity\")>0){let r=e.Vertex;t.lastBoundBO.getCABO().getNormalOffset()&&(r=ga.substitute(r,\"//VTK::Normal::Dec\",[\"attribute vec3 normalMC;\",\"attribute mat3 gNormal;\",\"uniform mat3 normalMatrix;\",\"varying vec3 normalVCVSOutput;\"]).result,r=ga.substitute(r,\"//VTK::Normal::Impl\",[\"normalVCVSOutput = normalMatrix * gNormal * normalMC;\"]).result),e.Vertex=r}r.replaceShaderNormal(e,n,i)}),e.replaceShaderColor=((e,n,i)=>{if(t.hardwareSupport&&t.renderable.getColorArray()){let r=e.Vertex,n=e.Geometry,i=e.Fragment;const o=t.lastBoundBO.getReferenceByName(\"lastLightComplexity\");let a=[\"uniform float ambient;\",\"uniform float diffuse;\",\"uniform float specular;\",\"uniform float opacityUniform; // the fragment opacity\"];o&&(a=a.concat([\"uniform vec3 specularColorUniform;\",\"uniform float specularPowerUniform;\"]));let s=[\"vec3 ambientColor;\",\"  vec3 diffuseColor;\",\"  float opacity;\"];o&&(s=s.concat([\"  vec3 specularColor;\",\"  float specularPower;\"])),s=s.concat([\"  opacity = opacityUniform;\"]),o&&(s=s.concat([\"  specularColor = specularColorUniform;\",\"  specularPower = specularPowerUniform;\"])),t.drawingEdges||(a=a.concat([\"varying vec4 vertexColorVSOutput;\"]),r=ga.substitute(r,\"//VTK::Color::Dec\",[\"attribute vec4 gColor;\",\"varying vec4 vertexColorVSOutput;\"]).result,r=ga.substitute(r,\"//VTK::Color::Impl\",[\"vertexColorVSOutput = gColor;\"]).result,n=ga.substitute(n,\"//VTK::Color::Dec\",[\"in vec4 vertexColorVSOutput[];\",\"out vec4 vertexColorGSOutput;\"]).result,n=ga.substitute(n,\"//VTK::Color::Impl\",[\"vertexColorGSOutput = vertexColorVSOutput[i];\"]).result,s=s.concat([\"  diffuseColor = vertexColorVSOutput.rgb;\",\"  ambientColor = vertexColorVSOutput.rgb;\",\"  opacity = opacity*vertexColorVSOutput.a;\"])),i=ga.substitute(i,\"//VTK::Color::Impl\",s).result,i=ga.substitute(i,\"//VTK::Color::Dec\",a).result,e.Vertex=r,e.Geometry=n,e.Fragment=i}r.replaceShaderColor(e,n,i)}),e.replaceShaderPositionVC=((e,n,i)=>{if(t.hardwareSupport){let r=e.Vertex;t.lastBoundBO.getReferenceByName(\"lastLightComplexity\")>0?(r=ga.substitute(r,\"//VTK::PositionVC::Impl\",[\"vec4 gVertexMC = gMatrix * vertexMC;\",\"vertexVCVSOutput = MCVCMatrix * gVertexMC;\",\"  gl_Position = MCDCMatrix * gVertexMC;\"]).result,r=ga.substitute(r,\"//VTK::Camera::Dec\",[\"attribute mat4 gMatrix;\",\"uniform mat4 MCDCMatrix;\",\"uniform mat4 MCVCMatrix;\"]).result):(r=ga.substitute(r,\"//VTK::Camera::Dec\",[\"attribute mat4 gMatrix;\",\"uniform mat4 MCDCMatrix;\"]).result,r=ga.substitute(r,\"//VTK::PositionVC::Impl\",[\"vec4 gVertexMC = gMatrix * vertexMC;\",\"  gl_Position = MCDCMatrix * gVertexMC;\"]).result),e.Vertex=r}r.replaceShaderPositionVC(e,n,i)}),e.replaceShaderPicking=((e,r,n)=>{if(t.openGLRenderer.getSelector()){let r=e.Fragment;switch(t.openGLRenderer.getSelector().getCurrentPass()){case zs.ID_LOW24:break;case zs.COMPOSITE_INDEX_PASS:if(t.hardwareSupport){let t=e.Vertex;t=ga.substitute(t,\"//VTK::Picking::Dec\",[\"attribute vec3 mapperIndexVS;\",\"varying vec3 mapperIndexVSOutput;\"]).result,t=ga.substitute(t,\"//VTK::Picking::Impl\",\"  mapperIndexVSOutput = mapperIndexVS;\").result,e.Vertex=t,r=ga.substitute(r,\"//VTK::Picking::Dec\",\"varying vec3 mapperIndexVSOutput;\").result,r=ga.substitute(r,\"//VTK::Picking::Impl\",\"  gl_FragData[0] = vec4(mapperIndexVSOutput,1.0);\").result}else r=ga.substitute(r,\"//VTK::Picking::Dec\",\"uniform vec3 mapperIndex;\").result,r=ga.substitute(r,\"//VTK::Picking::Impl\",\"  gl_FragData[0] = vec4(mapperIndex,1.0);\").result;break;default:r=ga.substitute(r,\"//VTK::Picking::Dec\",\"uniform vec3 mapperIndex;\").result,r=ga.substitute(r,\"//VTK::Picking::Impl\",\"  gl_FragData[0] = vec4(mapperIndex,1.0);\").result}e.Fragment=r}}),e.updateGlyphShaderParameters=((r,n,i,o,a,s,u,l)=>{const c=i.getProgram();if(r){const e=t.normalMatrix,r=s,n=9*u,i=t.tmpMat3,o=e[0],a=e[1],l=e[2],d=e[3],g=e[4],M=e[5],A=e[6],f=e[7],p=e[8],m=r[n],h=r[n+1],T=r[n+2],D=r[n+3],y=r[n+4],N=r[n+5],E=r[n+6],I=r[n+7],x=r[n+8];i[0]=m*o+h*d+T*A,i[1]=m*a+h*g+T*f,i[2]=m*l+h*M+T*p,i[3]=D*o+y*d+N*A,i[4]=D*a+y*g+N*f,i[5]=D*l+y*M+N*p,i[6]=E*o+I*d+x*A,i[7]=E*a+I*g+x*f,i[8]=E*l+I*M+x*p,c.setUniformMatrix3x3(\"normalMatrix\",t.tmpMat3)}if(e.multiply4x4WithOffset(t.tmpMat4,t.mcdcMatrix,a,16*u),c.setUniformMatrix(\"MCDCMatrix\",t.tmpMat4),n&&(e.multiply4x4WithOffset(t.tmpMat4,t.mcvcMatrix,a,16*u),c.setUniformMatrix(\"MCVCMatrix\",t.tmpMat4)),o){const e=o.getData();t.tmpColor[0]=e[4*u]/255,t.tmpColor[1]=e[4*u+1]/255,t.tmpColor[2]=e[4*u+2]/255,c.setUniform3fArray(\"ambientColorUniform\",t.tmpColor),c.setUniform3fArray(\"diffuseColorUniform\",t.tmpColor)}l&&c.setUniform3fArray(\"mapperIndex\",l.getPropColorValue())}),e.renderPieceDraw=((r,n)=>{const a=n.getProperty().getRepresentation(),s=t.context,u=n.getProperty().getEdgeVisibility()&&a===js.SURFACE,l=t.openGLCamera.getKeyMatrices(r),c=t.openGLActor.getKeyMatrices();i.multiply(t.normalMatrix,l.normalMatrix,c.normalMatrix),o.multiply(t.mcdcMatrix,l.wcdc,c.mcwc),o.multiply(t.mcvcMatrix,l.wcvc,c.mcwc);const d=t.renderable.getMatrixArray(),g=t.renderable.getNormalArray(),M=t.renderable.getColorArray(),A=d.length/16;let f=!1;t.openGLRenderer.getSelector()&&t.openGLRenderer.getSelector().getCurrentPass()===zs.COMPOSITE_INDEX_PASS&&(f=!0);for(let i=t.primTypes.Start;i<t.primTypes.End;i++){const o=t.primitives[i].getCABO();if(o.getElementCount()){t.drawingEdges=u&&(i===t.primTypes.TrisEdges||i===t.primTypes.TriStripsEdges),e.updateShaders(t.primitives[i],r,n);const l=t.primitives[i].getProgram(),c=e.getOpenGLMode(a,i),p=l.isUniformUsed(\"normalMatrix\"),m=l.isUniformUsed(\"MCVCMatrix\");if(t.hardwareSupport)t.extension?t.extension.drawArraysInstancedANGLE(c,0,o.getElementCount(),A):s.drawArraysInstanced(c,0,o.getElementCount(),A);else for(let r=0;r<A;++r)f&&t.openGLRenderer.getSelector().renderCompositeIndex(r),e.updateGlyphShaderParameters(p,m,t.primitives[i],M,d,g,r,f?t.openGLRenderer.getSelector():null),s.drawArrays(c,0,o.getElementCount())}}}),e.setMapperShaderParameters=((e,n,i)=>{if(e.getCABO().getElementCount()&&(t.glyphBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime()))return e.getProgram().isAttributeUsed(\"gMatrix\")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.matrixBuffer,\"gMatrix\",0,64,t.context.FLOAT,4,!1,1)||bs(\"Error setting gMatrix in shader VAO.\"):e.getVAO().removeAttributeArray(\"gMatrix\"),e.getProgram().isAttributeUsed(\"gNormal\")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.normalBuffer,\"gNormal\",0,36,t.context.FLOAT,3,!1,1)||bs(\"Error setting gNormal in shader VAO.\"):e.getVAO().removeAttributeArray(\"gNormal\"),e.getProgram().isAttributeUsed(\"gColor\")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.colorBuffer,\"gColor\",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||bs(\"Error setting gColor in shader VAO.\"):e.getVAO().removeAttributeArray(\"gColor\"),e.getProgram().isAttributeUsed(\"mapperIndexVS\")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.pickBuffer,\"mapperIndexVS\",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||bs(\"Error setting mapperIndexVS in shader VAO.\"):e.getVAO().removeAttributeArray(\"mapperIndexVS\"),r.setMapperShaderParameters(e,n,i),void e.getAttributeUpdateTime().modified();r.setMapperShaderParameters(e,n,i)}),e.getNeedToRebuildBufferObjects=((e,n)=>(t.renderable.buildArrays(),t.VBOBuildTime.getMTime()<t.renderable.getBuildTime().getMTime()||r.getNeedToRebuildBufferObjects(e,n))),e.buildBufferObjects=((e,n)=>{if(t.hardwareSupport){const e=t.renderable.getMatrixArray(),r=t.renderable.getNormalArray(),n=t.renderable.getColorArray();if(t.matrixBuffer||(t.matrixBuffer=so.newInstance(),t.matrixBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.normalBuffer=so.newInstance(),t.normalBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorBuffer=so.newInstance(),t.colorBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.pickBuffer=so.newInstance(),t.pickBuffer.setOpenGLRenderWindow(t.openGLRenderWindow)),t.renderable.getBuildTime().getMTime()>t.glyphBOBuildTime.getMTime()){t.matrixBuffer.upload(e,vs.ARRAY_BUFFER),t.normalBuffer.upload(r,vs.ARRAY_BUFFER),n?t.colorBuffer.upload(n.getData(),vs.ARRAY_BUFFER):t.colorBuffer.releaseGraphicsResources();const i=e.length/16,o=new Uint8Array(4*i);for(let e=0;e<i;++e){let t=e+1;const r=4*e;o[r]=t%256,t-=o[r],t/=256,o[r+1]=t%256,t-=o[r+1],t/=256,o[r+2]=t%256,o[r+3]=255}t.pickBuffer.upload(o,vs.ARRAY_BUFFER),t.glyphBOBuildTime.modified()}}return r.buildBufferObjects(e,n)})}(e,t)}var Us={newInstance:l.default.newInstance(Bs,\"vtkOpenGLGlyph3DMapper\"),extend:Bs};var Fs={SlicingMode:{NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5}};const Vs={NEAREST:0,LINEAR:1};const{vtkErrorMacro:_s}=l.default,{SlicingMode:Gs}=Fs;const Qs={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,colorTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function Ys(e,t,r={}){Object.assign(t,Qs,r),Le.extend(e,t,r),t.tris=ha.newInstance(),t.openGLTexture=Oi.newInstance(),t.colorTexture=Oi.newInstance(),t.imagemat=o.create(),l.default.setGet(e,t,[]),t.VBOBuildTime={},l.default.obj(t.VBOBuildTime),function(e,t){t.classHierarchy.push(\"vtkOpenGLImageMapper\"),e.buildPass=(r=>{if(r){t.openGLImageSlice=e.getFirstAncestorOfType(\"vtkOpenGLImageSlice\"),t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow);const r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera()),t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(r.getActiveCamera())}}),e.translucentPass=(t=>{t&&e.render()}),e.opaqueZBufferPass=(r=>{r&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)}),e.opaquePass=(t=>{t&&e.render()}),e.render=(()=>{const r=t.openGLImageSlice.getRenderable(),n=t.openGLRenderer.getRenderable();e.renderPiece(n,r)}),e.buildShaders=((t,r,n)=>{e.getShaderTemplate(t,r,n),e.replaceShaderValues(t,r,n)}),e.getShaderTemplate=((e,t,r)=>{e.Vertex=fs.a,e.Fragment=ms.a,e.Geometry=\"\"}),e.replaceShaderValues=((e,r,n)=>{let i=e.Vertex,o=e.Fragment;i=ga.substitute(i,\"//VTK::Camera::Dec\",[\"uniform mat4 MCDCMatrix;\"]).result,i=ga.substitute(i,\"//VTK::PositionVC::Impl\",[\"  gl_Position = MCDCMatrix * vertexMC;\"]).result,i=ga.substitute(i,\"//VTK::TCoord::Impl\",\"tcoordVCVSOutput = tcoordMC;\").result;const a=t.openGLTexture.getComponents();switch(i=ga.substitute(i,\"//VTK::TCoord::Dec\",\"attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;\").result,o=ga.substitute(o,\"//VTK::TCoord::Dec\",[\"varying vec2 tcoordVCVSOutput;\",\"uniform float shift;\",\"uniform float scale;\",\"uniform sampler2D texture1;\",\"uniform sampler2D colorTexture1;\"]).result,a){case 1:o=ga.substitute(o,\"//VTK::TCoord::Impl\",[\"float intensity = texture2D(texture1, tcoordVCVSOutput).r*scale + shift;\",\"gl_FragData[0] = texture2D(colorTexture1, vec2(intensity, 0.5));\"]).result;break;case 2:o=ga.substitute(o,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);\",\"float intensity = tcolor.r*scale + shift;\",\"gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)), scale*tcolor.g + shift);\"]).result;break;default:o=ga.substitute(o,\"//VTK::TCoord::Impl\",[\"vec4 tcolor = scale*texture2D(texture1, tcoordVCVSOutput.st) + shift;\",\"gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,\",\"  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,\",\"  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);\"]).result}t.haveSeenDepthRequest&&(o=ga.substitute(o,\"//VTK::ZBuffer::Dec\",\"uniform int depthRequest;\").result,o=ga.substitute(o,\"//VTK::ZBuffer::Impl\",[\"if (depthRequest == 1) {\",\"float iz = floor(gl_FragCoord.z*65535.0 + 0.1);\",\"float rf = floor(iz/256.0)/255.0;\",\"float gf = mod(iz,256.0)/255.0;\",\"gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }\"]).result),e.Vertex=i,e.Fragment=o}),e.getNeedToRebuildShaders=((e,r,n)=>{const i=t.openGLTexture.getComponents();return(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===e.getProgram()||t.lastTextureComponents!==i)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=i,!0)}),e.updateShaders=((r,n,i)=>{if(t.lastBoundBO=r,e.getNeedToRebuildShaders(r,n,i)){const o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,n,i);const a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);a!==r.getProgram()&&(r.setProgram(a),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),e.setMapperShaderParameters(r,n,i),e.setCameraShaderParameters(r,n,i),e.setPropertyShaderParameters(r,n,i)}),e.setMapperShaderParameters=((e,r,n)=>{e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getProgram().isAttributeUsed(\"vertexMC\")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"vertexMC\",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||_s(\"Error setting vertexMC in shader VAO.\")),e.getProgram().isAttributeUsed(\"tcoordMC\")&&e.getCABO().getTCoordOffset()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"tcoordMC\",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),t.context.FALSE)||_s(\"Error setting tcoordMC in shader VAO.\")),e.getAttributeUpdateTime().modified());const i=t.openGLTexture.getTextureUnit();e.getProgram().setUniformi(\"texture1\",i);let o=n.getProperty().getColorWindow(),a=n.getProperty().getColorLevel();const s=n.getProperty().getRGBTransferFunction();if(s){const e=s.getRange();o=e[1]-e[0],a=.5*(e[1]+e[0])}const u=t.openGLTexture.getShiftAndScale(),l=u.scale/o,c=(u.shift-a)/o+.5;t.haveSeenDepthRequest&&e.getProgram().setUniformi(\"depthRequest\",t.renderDepth?1:0),e.getProgram().setUniformf(\"shift\",c),e.getProgram().setUniformf(\"scale\",l);const d=t.colorTexture.getTextureUnit();e.getProgram().setUniformi(\"colorTexture1\",d)}),e.setCameraShaderParameters=((e,r,n)=>{const i=e.getProgram(),a=t.openGLImageSlice.getKeyMatrices(),s=t.currentInput.getIndexToWorld();o.multiply(t.imagemat,a.mcwc,s);const u=t.openGLCamera.getKeyMatrices(r);o.multiply(t.imagemat,u.wcdc,t.imagemat),i.setUniformMatrix(\"MCDCMatrix\",t.imagemat)}),e.setPropertyShaderParameters=((e,t,r)=>{const n=e.getProgram(),i=r.getProperty().getOpacity();n.setUniformf(\"opacityUniform\",i)}),e.renderPieceStart=((r,n)=>{e.updateBufferObjects(r,n),t.lastBoundBO=null}),e.renderPieceDraw=((r,n)=>{const i=t.context;t.openGLTexture.activate(),t.colorTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,r,n),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.openGLTexture.deactivate(),t.colorTexture.deactivate()}),e.renderPieceFinish=((e,t)=>{}),e.renderPiece=((r,n)=>{e.invokeEvent({type:\"StartEvent\"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:\"EndEvent\"}),t.currentInput?(e.renderPieceStart(r,n),e.renderPieceDraw(r,n),e.renderPieceFinish(r,n)):_s(\"No input!\")}),e.computeBounds=((r,n)=>{e.getInput()?t.bounds=e.getInput().getBounds():ge.uninitializeBounds(t.bounds)}),e.updateBufferObjects=((t,r)=>{e.getNeedToRebuildBufferObjects(t,r)&&e.buildBufferObjects(t,r)}),e.getNeedToRebuildBufferObjects=((r,n)=>t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<n.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<n.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()),e.buildBufferObjects=((r,n)=>{const i=t.currentInput;if(null===i)return;const o=n.getProperty().getInterpolationType();o===Vs.NEAREST?(t.colorTexture.setMinificationFilter(M.NEAREST),t.colorTexture.setMagnificationFilter(M.NEAREST)):(t.colorTexture.setMinificationFilter(M.LINEAR),t.colorTexture.setMagnificationFilter(M.LINEAR));const a=new Uint8Array(3072),s=n.getProperty().getRGBTransferFunction();if(s){const e=`${s.getMTime()}`;if(t.colorTextureString!==e){const r=s.getRange(),n=new Float32Array(3072);s.getTable(r[0],r[1],1024,n,1);for(let e=0;e<3072;++e)a[e]=255*n[e];t.colorTextureString=e,t.colorTexture.create2DFromRaw(1024,1,3,f.UNSIGNED_CHAR,a)}}else{const e=\"0\";if(t.colorTextureString!==e){for(let e=0;e<3072;++e)a[e]=255*e/3069,a[e+1]=255*e/3069,a[e+2]=255*e/3069;t.colorTextureString=e,t.colorTexture.create2DFromRaw(1024,1,3,f.UNSIGNED_CHAR,a)}}const{ijkMode:u}=t.renderable.getClosestIJKAxis();let l=t.renderable.getSlice();u!==t.renderable.getSlicingMode()&&(l=t.renderable.getSliceAtPosition(l));const c=i.getExtent();let d;u===Gs.I&&(d=l-c[0]),u===Gs.J&&(d=l-c[2]),u!==Gs.K&&u!==Gs.NONE||(d=l-c[4]);const A=`${l}A${i.getMTime()}A${i.getPointData().getScalars().getMTime()}B${e.getMTime()}C${t.renderable.getSlicingMode()}D${n.getProperty().getMTime()}`;if(t.VBOBuildString!==A){const e=i.getDimensions(),r=i.getPointData().getScalars().getNumberOfComponents();o===Vs.NEAREST?(4===r?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(M.NEAREST)):t.openGLTexture.setMinificationFilter(M.NEAREST),t.openGLTexture.setMagnificationFilter(M.NEAREST)):(4===r?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(M.LINEAR_MIPMAP_LINEAR)):t.openGLTexture.setMinificationFilter(M.LINEAR),t.openGLTexture.setMagnificationFilter(M.LINEAR)),t.openGLTexture.setWrapS(g.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(g.CLAMP_TO_EDGE);const n=i.getPointData().getScalars().getNumberOfComponents(),a=e[0]*e[1]*n,s=new Float32Array(12),f=new Float32Array(8);for(let e=0;e<4;e++)f[2*e]=e%2?1:0,f[2*e+1]=e>1?1:0;const p=i.getPointData().getScalars().getData();let m=null;if(u===Gs.I){m=new p.constructor(e[2]*e[1]);let t=0;for(let r=0;r<e[2];r++)for(let n=0;n<e[1];n++)m[t=r*e[1]+n]=p[d+n*e[0]+r*e[0]*e[1]];e[0]=e[1],e[1]=e[2],s[0]=l,s[1]=c[2],s[2]=c[4],s[3]=l,s[4]=c[3],s[5]=c[4],s[6]=l,s[7]=c[2],s[8]=c[5],s[9]=l,s[10]=c[3],s[11]=c[5]}else if(u===Gs.J){m=new p.constructor(e[2]*e[0]);let t=0;for(let r=0;r<e[2];r++)for(let n=0;n<e[0];n++)m[t=r*e[0]+n]=p[n+d*e[0]+r*e[0]*e[1]];e[1]=e[2],s[0]=c[0],s[1]=l,s[2]=c[4],s[3]=c[1],s[4]=l,s[5]=c[4],s[6]=c[0],s[7]=l,s[8]=c[5],s[9]=c[1],s[10]=l,s[11]=c[5]}else u===Gs.K||u===Gs.NONE?(m=p.subarray(d*a,(d+1)*a),s[0]=c[0],s[1]=c[2],s[2]=l,s[3]=c[1],s[4]=c[2],s[5]=l,s[6]=c[0],s[7]=c[3],s[8]=l,s[9]=c[1],s[10]=c[3],s[11]=l):_s(\"Reformat slicing not yet supported.\");t.openGLTexture.create2DFromRaw(e[0],e[1],n,i.getPointData().getScalars().getDataType(),m),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();const h=Ne.newInstance({numberOfComponents:3,values:s});h.setName(\"points\");const T=Ne.newInstance({numberOfComponents:2,values:f});T.setName(\"tcoords\");const D=new Uint16Array(8);D[0]=3,D[1]=0,D[2]=1,D[3]=3,D[4]=3,D[5]=0,D[6]=3,D[7]=2;const y=Ne.newInstance({numberOfComponents:1,values:D});t.tris.getCABO().createVBO(y,\"polys\",Yo.SURFACE,{points:h,tcoords:T,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=A}})}(e,t)}var Ws={newInstance:l.default.newInstance(Ys,\"vtkOpenGLImageMapper\"),extend:Ys};const Hs={context:null,keyMatrixTime:null,keyMatrices:null};function Xs(e,t,r={}){Object.assign(t,Hs,r),Le.extend(e,t,r),t.keyMatrixTime={},l.default.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:o.create()},l.default.setGet(e,t,[\"context\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLImageSlice\"),e.buildPass=(r=>{if(t.renderable&&t.renderable.getVisibility()&&r){if(!t.renderable)return;e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}}),e.traverseOpaqueZBufferPass=(t=>{e.traverseOpaquePass(t)}),e.traverseOpaquePass=(r=>{t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(e.apply(r,!0),t.children.forEach(e=>{e.traverse(r)}),e.apply(r,!1))}),e.traverseTranslucentPass=(r=>{t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&(e.apply(r,!0),t.children.forEach(e=>{e.traverse(r)}),e.apply(r,!1))}),e.queryPass=((e,r)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}}),e.opaqueZBufferPass=((t,r)=>e.opaquePass(t,r)),e.opaquePass=((r,n)=>{r&&(t.context=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\").getContext(),t.context.depthMask(!0))}),e.translucentPass=((r,n)=>{r?(t.context=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\").getContext(),t.context.depthMask(!1)):t.context.depthMask(!0)}),e.getKeyMatrices=(()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(o.copy(t.keyMatrices.mcwc,t.renderable.getMatrix()),o.transpose(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.keyMatrixTime.modified()),t.keyMatrices))}(e,t)}var Ks={newInstance:l.default.newInstance(Xs,\"vtkOpenGLImageSlice\"),extend:Xs};const{vtkDebugMacro:Zs}=l.default;const qs={};function $s(e,t,r={}){Object.assign(t,qs,r),Le.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkOpenGLPixelSpaceCallbackMapper\"),e.opaquePass=((r,n)=>{t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent();const i=t.openGLRenderer.getAspectRatio(),o=t.openGLRenderer?t.openGLRenderer.getRenderable().getActiveCamera():null,a=t.openGLRenderer.getTiledSizeAndOrigin();let s=null;if(t.renderable.getUseZValues()){const e=n.getZBufferTexture(),r=Math.floor(e.getWidth()),i=Math.floor(e.getHeight()),o=t.openGLRenderWindow.getContext();e.bind();const a=n.getFramebuffer();a?a.saveCurrentBindingsAndBuffers():Zs(\"No framebuffer to save/restore\");const u=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,u),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e.getHandle(),0),o.checkFramebufferStatus(o.FRAMEBUFFER)===o.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(r*i*4),o.viewport(0,0,r,i),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s)),a&&a.restorePreviousBindingsAndBuffers(),o.deleteFramebuffer(u)}t.renderable.invokeCallback(t.renderable.getInputData(),o,i,a,s)}),e.queryPass=((e,r)=>{e&&(t.renderable.getUseZValues(),r.setDepthRequested(!0))})}(e,t)}var Js={newInstance:l.default.newInstance($s,\"vtkOpenGLPixelSpaceCallbackMapper\"),extend:$s};const{vtkDebugMacro:eu}=l.default;const tu={context:null,openGLRenderWindow:null,selector:null};function ru(e,t,r={}){Object.assign(t,tu,r),Le.extend(e,t,r),l.default.get(e,t,[\"shaderCache\"]),l.default.setGet(e,t,[\"selector\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLRenderer\"),e.buildPass=(r=>{if(r){if(!t.renderable)return;t.renderable.isActiveCameraCreated()||t.renderable.resetCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes()}}),e.updateLights=(()=>{let e=0;const r=t.renderable.getLightsByReference();for(let t=0;t<r.length;++t)r[t].getSwitch()>0&&e++;return e||(eu(\"No lights are on, creating one.\"),t.renderable.createLight()),e}),e.opaqueZBufferPass=(r=>{if(r){let r=0;const n=t.context;t.renderable.getTransparent()||(t.context.clearColor(1,0,0,1),r|=n.COLOR_BUFFER_BIT),t.renderable.getPreserveDepthBuffer()||(n.clearDepth(1),r|=n.DEPTH_BUFFER_BIT,n.depthMask(!0));const i=e.getTiledSizeAndOrigin();n.enable(n.SCISSOR_TEST),n.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.colorMask(!0,!0,!0,!0),n.clear(r),n.enable(n.DEPTH_TEST)}}),e.cameraPass=(t=>{t&&e.clear()}),e.getAspectRatio=(()=>{const e=t.parent.getSizeByReference(),r=t.renderable.getViewportByReference();return e[0]*(r[2]-r[0])/((r[3]-r[1])*e[1])}),e.getTiledSizeAndOrigin=(()=>{const e=t.renderable.getViewportByReference(),r=[0,0,1,1],n=ge.clampValue(e[0]-r[0],0,1),i=ge.clampValue(e[1]-r[1],0,1),o=t.parent.normalizedDisplayToDisplay(n,i),a=Math.round(o[0]),s=Math.round(o[1]);let u=ge.clampValue(e[2]-r[0],0,1),l=ge.clampValue(e[3]-r[1],0,1);u>r[2]-r[0]&&(u=r[2]-r[0]),l>r[3]-r[1]&&(l=r[3]-r[1]);const c=t.parent.normalizedDisplayToDisplay(u,l);let d=Math.round(c[0])-a,g=Math.round(c[1])-s;return d<0&&(d=0),g<0&&(g=0),{usize:d,vsize:g,lowerLeftU:a,lowerLeftV:s}}),e.clear=(()=>{let r=0;const n=t.context;if(!t.renderable.getTransparent()){const e=t.renderable.getBackgroundByReference();t.context.clearColor(e[0],e[1],e[2],e[3]),r|=n.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(n.clearDepth(1),r|=n.DEPTH_BUFFER_BIT,n.depthMask(!0)),n.colorMask(!0,!0,!0,!0);const i=e.getTiledSizeAndOrigin();n.enable(n.SCISSOR_TEST),n.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.clear(r),n.enable(n.DEPTH_TEST)}),e.releaseGraphicsResources=(()=>{null!==t.selector&&t.selector.releaseGraphicsResources()}),e.setOpenGLRenderWindow=(r=>{t.openGLRenderWindow!==r&&(e.releaseGraphicsResources(),t.openGLRenderWindow=r,t.context=null,r&&(t.context=t.openGLRenderWindow.getContext()))})}(e,t)}var nu={newInstance:l.default.newInstance(ru,\"vtkOpenGLRenderer\"),extend:ru};const{vtkErrorMacro:iu}=l.default;const ou={context:null};function au(e,t,r={}){Object.assign(t,ou,r),Le.extend(e,t,r),t.openGLTexture=Oi.newInstance(),t.tris=ha.newInstance(),t.keyMatrixTime={},l.default.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:i.create(),mcwc:o.create()},l.default.setGet(e,t,[\"context\"]),l.default.get(e,t,[\"activeTextures\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLSkybox\"),e.buildPass=(r=>{if(r){t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow);const r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera())}}),e.queryPass=((e,r)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;r.incrementOpaqueActorCount()}}),e.opaquePass=((r,n)=>{if(r){e.updateBufferObjects(),t.openGLRenderWindow.enableDepthMask(),t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.tris.getProgram()),t.openGLTexture.render(t.openGLRenderWindow);const r=t.openGLTexture.getTextureUnit();t.tris.getProgram().setUniformi(\"sbtexture\",r);const n=t.openGLRenderer.getRenderable(),i=t.openGLCamera.getKeyMatrices(n),a=o.create();o.invert(a,i.wcdc),t.tris.getProgram().setUniformMatrix(\"IMCDCMatrix\",a);const s=n.getActiveCamera().getPosition();t.tris.getProgram().setUniform3f(\"camPos\",s[0],s[1],s[2]),t.tris.getVAO().bind(),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.openGLTexture.deactivate()}}),e.updateBufferObjects=(()=>{if(!t.tris.getCABO().getElementCount()){const e=new Float32Array(12);for(let t=0;t<4;t++)e[3*t]=t%2*2-1,e[3*t+1]=t>1?1:-1,e[3*t+2]=1;const r=Ne.newInstance({numberOfComponents:3,values:e});r.setName(\"points\");const n=new Uint16Array(8);n[0]=3,n[1]=0,n[2]=1,n[3]=3,n[4]=3,n[5]=0,n[6]=3,n[7]=2;const i=Ne.newInstance({numberOfComponents:1,values:n});t.tris.getCABO().createVBO(i,\"polys\",Yo.SURFACE,{points:r,cellOffset:0}),t.tris.setProgram(t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(\"//VTK::System::Dec\\n           attribute vec3 vertexMC;\\n           uniform mat4 IMCDCMatrix;\\n           varying vec3 TexCoords;\\n           void main () {\\n            gl_Position = vec4(vertexMC.xyz, 1.0);\\n            vec4 wpos = IMCDCMatrix * gl_Position;\\n            TexCoords = wpos.xyz/wpos.w;\\n           }\",\"//VTK::System::Dec\\n           //VTK::Output::Dec\\n           varying vec3 TexCoords;\\n           uniform samplerCube sbtexture;\\n           uniform vec3 camPos;\\n           void main () {\\n             // skybox looks from inside out\\n             // which means we have to adjust\\n             // our tcoords. Otherwise text would\\n             // be flipped\\n             vec3 tc = normalize(TexCoords - camPos);\\n             if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))\\n             {\\n               tc = vec3(1.0, 1.0, -1.0) * tc;\\n             }\\n             else\\n             {\\n               tc = vec3(-1.0, 1.0, 1.0) * tc;\\n             }\\n             gl_FragData[0] = textureCube(sbtexture, tc);\\n           }\",\"\")),t.tris.getShaderSourceTime().modified(),t.tris.getVAO().bind(),t.tris.getVAO().addAttributeArray(t.tris.getProgram(),t.tris.getCABO(),\"vertexMC\",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||iu(\"Error setting vertexMC in shader VAO.\")}const e=t.renderable.getTextures();e.length||iu(\"vtkSkybox requires a texture map\"),t.openGLTexture.getRenderable()!==e[0]&&(t.openGLTexture.releaseGraphicsResources(t.openGLRenderWindow),t.openGLTexture.setRenderable(e[0]))})}(e,t)}var su={newInstance:l.default.newInstance(au),extend:au},uu=r(17),lu=r.n(uu);const{vtkErrorMacro:cu}=l.default;const du={};function gu(e,t,r={}){Object.assign(t,du,r),Ss.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkOpenGLSphereMapper\");const r=Object.assign({},e);e.getShaderTemplate=((e,t,r)=>{e.Vertex=lu.a,e.Fragment=ms.a,e.Geometry=\"\"}),e.replaceShaderValues=((e,n,i)=>{let o=e.Vertex,a=e.Fragment;o=ga.substitute(o,\"//VTK::Camera::Dec\",[\"uniform mat4 VCDCMatrix;\\n\",\"uniform mat4 MCVCMatrix;\"]).result,a=ga.substitute(a,\"//VTK::PositionVC::Dec\",[\"varying vec4 vertexVCVSOutput;\"]).result,a=ga.substitute(a,\"//VTK::PositionVC::Impl\",[\"vec4 vertexVC = vertexVCVSOutput;\\n\"]).result,a=ga.substitute(a,\"//VTK::Normal::Dec\",[\"uniform float invertedDepth;\\n\",\"uniform int cameraParallel;\\n\",\"varying float radiusVCVSOutput;\\n\",\"varying vec3 centerVCVSOutput;\\n\",\"uniform mat4 VCDCMatrix;\\n\"]).result;let s=\"\";t.context.getExtension(\"EXT_frag_depth\")&&(s=\"gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\\n\"),a=ga.substitute(a,\"//VTK::Depth::Impl\",[\"  vec3 EyePos;\\n\",\"  vec3 EyeDir;\\n\",\"  if (cameraParallel != 0) {\\n\",\"    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\\n\",\"    EyeDir = vec3(0.0,0.0,-1.0); }\\n\",\"  else {\\n\",\"    EyeDir = vertexVC.xyz;\\n\",\"    EyePos = vec3(0.0,0.0,0.0);\\n\",\"    float lengthED = length(EyeDir);\\n\",\"    EyeDir = normalize(EyeDir);\\n\",\"    if (lengthED > radiusVCVSOutput*3.0) {\\n\",\"      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\\n\",\"    }\\n\",\"  EyePos = EyePos - centerVCVSOutput;\\n\",\"  EyePos = EyePos/radiusVCVSOutput;\\n\",\"  float b = 2.0*dot(EyePos,EyeDir);\\n\",\"  float c = dot(EyePos,EyePos) - 1.0;\\n\",\"  float d = b*b - 4.0*c;\\n\",\"  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\\n\",\"  if (d < 0.0) { discard; }\\n\",\"  else {\\n\",\"    float t = (-b - invertedDepth*sqrt(d))*0.5;\\n\",\"    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);\\n\",\"    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;\\n\",\"    }\\n\",\"  vec4 pos = VCDCMatrix * vertexVC;\\n\",s]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",\"\").result,t.haveSeenDepthRequest&&(a=ga.substitute(a,\"//VTK::ZBuffer::Impl\",[\"if (depthRequest == 1) {\",\"float computedZ = (pos.z / pos.w + 1.0) / 2.0;\",\"float iz = floor(computedZ * 65535.0 + 0.1);\",\"float rf = floor(iz/256.0)/255.0;\",\"float gf = mod(iz,256.0)/255.0;\",\"gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }\"]).result),e.Vertex=o,e.Fragment=a,r.replaceShaderValues(e,n,i)}),e.setMapperShaderParameters=((e,n,i)=>{e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&e.getProgram().isAttributeUsed(\"offsetMC\")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"offsetMC\",12,e.getCABO().getStride(),t.context.FLOAT,2,!1)||cu(\"Error setting 'offsetMC' in shader VAO.\")),e.getProgram().isUniformUsed(\"invertedDepth\")&&e.getProgram().setUniformf(\"invertedDepth\",t.invert?-1:1),r.setMapperShaderParameters(e,n,i)}),e.setCameraShaderParameters=((e,r,n)=>{const i=e.getProgram(),a=r.getActiveCamera(),s=t.openGLCamera.getKeyMatrices(r);if(i.isUniformUsed(\"VCDCMatrix\")&&i.setUniformMatrix(\"VCDCMatrix\",s.vcdc),i.isUniformUsed(\"MCVCMatrix\"))if(n.getIsIdentity())i.setUniformMatrix(\"MCVCMatrix\",s.wcvc);else{const e=t.openGLActor.getKeyMatrices(),r=o.create();o.multiply(r,s.wcvc,e.mcwc),i.setUniformMatrix(\"MCVCMatrix\",r)}i.isUniformUsed(\"cameraParallel\")&&e.getProgram().setUniformi(\"cameraParallel\",a.getParallelProjection())}),e.getOpenGLMode=((e,r)=>t.context.TRIANGLES),e.buildBufferObjects=((e,r)=>{const n=t.currentInput;if(null===n)return;t.renderable.mapScalars(n,1);const i=t.renderable.getColorMapColors(),o=t.primitives[t.primTypes.Tris].getCABO(),a=n.getPointData(),s=n.getPoints(),u=s.getNumberOfPoints(),l=s.getData();let c=null;null!=t.renderable.getScaleArray()&&a.hasArray(t.renderable.getScaleArray())&&(c=a.getArray(t.renderable.getScaleArray()).getData());let d=null,g=0,M=null;i?(g=i.getNumberOfComponents(),o.setColorOffset(0),o.setColorBOStride(4),d=i.getData(),M=new Uint8Array(3*u*4),o.getColorBO()||o.setColorBO(so.newInstance()),o.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow)):o.getColorBO()&&o.setColorBO(null),o.setColorComponents(g);const A=new Float32Array(5*u*3);o.setStride(20);const f=Math.cos(ge.radiansFromDegrees(30));let p=0,m=0,h=0,T=0;for(let e=0;e<u;++e){let r=t.renderable.getRadius();c&&(r=c[e]),p=3*e,A[h++]=l[p++],A[h++]=l[p++],A[h++]=l[p++],A[h++]=-2*r*f,A[h++]=-r,d&&(m=e*g,M[T++]=d[m],M[T++]=d[m+1],M[T++]=d[m+2],M[T++]=d[m+3]),p=3*e,A[h++]=l[p++],A[h++]=l[p++],A[h++]=l[p++],A[h++]=2*r*f,A[h++]=-r,d&&(M[T++]=d[m],M[T++]=d[m+1],M[T++]=d[m+2],M[T++]=d[m+3]),p=3*e,A[h++]=l[p++],A[h++]=l[p++],A[h++]=l[p++],A[h++]=0,A[h++]=2*r,d&&(M[T++]=d[m],M[T++]=d[m+1],M[T++]=d[m+2],M[T++]=d[m+3])}o.setElementCount(h/5),o.upload(A,to.ARRAY_BUFFER),i&&o.getColorBO().upload(M,to.ARRAY_BUFFER),t.VBOBuildTime.modified()})}(e,t)}var Mu={newInstance:l.default.newInstance(gu,\"vtkOpenGLSphereMapper\"),extend:gu},Au=r(16),fu=r.n(Au);const{vtkErrorMacro:pu}=l;const mu={};function hu(e,t,r={}){Object.assign(t,mu,r),Ss.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkOpenGLStickMapper\");const r=Object.assign({},e);e.getShaderTemplate=((e,t,r)=>{e.Vertex=fu.a,e.Fragment=ms.a,e.Geometry=\"\"}),e.replaceShaderValues=((e,n,i)=>{let o=e.Vertex,a=e.Fragment;o=ga.substitute(o,\"//VTK::Camera::Dec\",[\"uniform mat4 VCDCMatrix;\\n\",\"uniform mat4 MCVCMatrix;\"]).result,a=ga.substitute(a,\"//VTK::PositionVC::Dec\",\"varying vec4 vertexVCVSOutput;\").result,a=ga.substitute(a,\"//VTK::PositionVC::Impl\",\"  vec4 vertexVC = vertexVCVSOutput;\\n\").result,a=ga.substitute(a,\"//VTK::Normal::Dec\",[\"uniform int cameraParallel;\\n\",\"varying float radiusVCVSOutput;\\n\",\"varying vec3 orientVCVSOutput;\\n\",\"varying float lengthVCVSOutput;\\n\",\"varying vec3 centerVCVSOutput;\\n\",\"uniform mat4 VCDCMatrix;\\n\"]).result;let s=\"\";t.context.getExtension(\"EXT_frag_depth\")&&(s=\"  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\\n\"),a=ga.substitute(a,\"//VTK::Depth::Impl\",[\"  vec3 EyePos;\\n\",\"  vec3 EyeDir;\\n\",\"  if (cameraParallel != 0) {\\n\",\"    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\\n\",\"    EyeDir = vec3(0.0,0.0,-1.0); }\\n\",\"  else {\\n\",\"    EyeDir = vertexVC.xyz;\\n\",\"    EyePos = vec3(0.0,0.0,0.0);\\n\",\"    float lengthED = length(EyeDir);\\n\",\"    EyeDir = normalize(EyeDir);\\n\",\"    if (lengthED > radiusVCVSOutput*3.0) {\\n\",\"      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\\n\",\"    }\\n\",\"  EyePos = EyePos - centerVCVSOutput;\\n\",\"  vec3 base1;\\n\",\"  if (abs(orientVCVSOutput.z) < 0.99) {\\n\",\"    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }\\n\",\"  else {\\n\",\"    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }\\n\",\"  vec3 base2 = cross(orientVCVSOutput,base1);\\n\",\"  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));\\n\",\"  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));\\n\",\"  EyePos = EyePos/radiusVCVSOutput;\\n\",\"  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;\\n\",\"  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);\\n\",\"  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;\\n\",\"  float d = b*b - 4.0*a*c;\\n\",\"  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\\n\",\"  if (d < 0.0) { discard; }\\n\",\"  else {\\n\",\"    float t =  (-b - sqrt(d))/(2.0*a);\\n\",\"    float tz = EyePos.z + t*EyeDir.z;\\n\",\"    vec3 iPoint = EyePos + t*EyeDir;\\n\",\"    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {\\n\",\"      float t2 = (-b + sqrt(d))/(2.0*a);\\n\",\"      float tz2 = EyePos.z + t2*EyeDir.z;\\n\",\"      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }\\n\",\"      else {\\n\",\"        normalVCVSOutput = orientVCVSOutput;\\n\",\"        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;\\n\",\"        iPoint = EyePos + t3*EyeDir;\\n\",\"        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\\n\",\"        }\\n\",\"      }\\n\",\"    else {\\n\",\"      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;\\n\",\"      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\\n\",\"      }\\n\",\"    }\\n\",\"  vec4 pos = VCDCMatrix * vertexVC;\\n\",s]).result,a=ga.substitute(a,\"//VTK::Normal::Impl\",\"\").result,n.getSelector(),s=\"\",t.haveSeenDepthRequest&&(a=ga.substitute(a,\"//VTK::ZBuffer::Impl\",[\"if (depthRequest == 1) {\",\"float computedZ = (pos.z / pos.w + 1.0) / 2.0;\",\"float iz = floor(computedZ * 65535.0 + 0.1);\",\"float rf = floor(iz/256.0)/255.0;\",\"float gf = mod(iz,256.0)/255.0;\",\"gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }\"]).result),e.Vertex=o,e.Fragment=a,r.replaceShaderValues(e,n,i)}),e.setMapperShaderParameters=((e,n,i)=>{if(e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())){const r=n.getSelector(),i=!1;e.getProgram().isAttributeUsed(\"orientMC\")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"orientMC\",12,e.getCABO().getStride(),t.context.FLOAT,3,!1)||pu(\"Error setting 'orientMC' in shader VAO.\")),e.getProgram().isAttributeUsed(\"offsetMC\")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO().getColorBO(),\"offsetMC\",0,e.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,3,!0)||pu(\"Error setting 'offsetMC' in shader VAO.\")),e.getProgram().isAttributeUsed(\"radiusMC\")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"radiusMC\",24,e.getCABO().getStride(),t.context.FLOAT,1,!1)||pu(\"Error setting 'radiusMC' in shader VAO.\")),i&&!r&&e.getProgram().isAttributeUsed(\"selectionId\")?e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),\"selectionId\",e.getCABO().getColorOffset(),e.getCABO().getColorBOStride(),t.context.UNSIGNED_CHAR,4,!0)||pu(\"Error setting 'selectionId' in shader VAO.\"):e.getVAO().removeAttributeArray(\"selectionId\")}r.setMapperShaderParameters(e,n,i)}),e.setCameraShaderParameters=((e,r,n)=>{const a=e.getProgram(),s=r.getActiveCamera(),u=t.openGLCamera.getKeyMatrices(r);if(a.isUniformUsed(\"VCDCMatrix\")&&a.setUniformMatrix(\"VCDCMatrix\",u.vcdc),n.getIsIdentity())a.isUniformUsed(\"MCVCMatrix\")&&a.setUniformMatrix(\"MCVCMatrix\",u.wcvc),a.isUniformUsed(\"normalMatrix\")&&a.setUniformMatrix3x3(\"normalMatrix\",u.normalMatrix);else{const e=t.openGLActor.getKeyMatrices(),r=o.create();if(a.isUniformUsed(\"MCVCMatrix\")&&(o.multiply(r,u.wcvc,e.mcwc),a.setUniformMatrix(\"MCVCMatrix\",r)),a.isUniformUsed(\"normalMatrix\")){const t=i.create();i.multiply(t,u.normalMatrix,e.normalMatrix),a.setUniformMatrix3x3(\"normalMatrix\",t)}}a.isUniformUsed(\"cameraParallel\")&&e.getProgram().setUniformi(\"cameraParallel\",s.getParallelProjection())}),e.getOpenGLMode=((e,r)=>t.context.TRIANGLES),e.buildBufferObjects=((e,r)=>{const n=t.currentInput;if(null===n)return;t.renderable.mapScalars(n,1);const i=t.renderable.getColorMapColors(),o=t.primitives[t.primTypes.Tris].getCABO(),a=n.getPointData(),s=n.getPoints(),u=s.getNumberOfPoints(),l=s.getData();let c=3;c+=4;let d=null,g=0;o.setColorBOStride(4),o.getColorBO()||o.setColorBO(so.newInstance()),o.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow),i&&(g=i.getNumberOfComponents(),o.setColorOffset(4),d=i.getData(),o.setColorBOStride(8)),o.setColorComponents(g),o.setStride(4*c);const M=new Float32Array(c*u*12),A=new Uint8Array(12*u*(d?8:4));let f=null,p=null;null!=t.renderable.getScaleArray()&&a.hasArray(t.renderable.getScaleArray())&&(f=a.getArray(t.renderable.getScaleArray()).getData()),null!=t.renderable.getOrientationArray()&&a.hasArray(t.renderable.getOrientationArray())?p=a.getArray(t.renderable.getOrientationArray()).getData():pu([\"Error setting orientationArray.\\n\",\"You have to specify the stick orientation\"]);const m=[0,1,3,0,3,2,2,3,5,2,5,4];let h=0,T=0,D=0,y=0;for(let e=0;e<u;++e){let r=t.renderable.getLength(),n=t.renderable.getRadius();f&&(r=f[2*e],n=f[2*e+1]);for(let t=0;t<m.length;++t)h=3*e,M[D++]=l[h++],M[D++]=l[h++],M[D++]=l[h++],h=3*e,M[D++]=p[h++]*r,M[D++]=p[h++]*r,M[D++]=p[h++]*r,M[D++]=n,A[y++]=m[t]%2*255,A[y++]=m[t]>=4?255:0,A[y++]=m[t]>=2?255:0,A[y++]=255,T=e*g,d&&(A[y++]=d[T],A[y++]=d[T+1],A[y++]=d[T+2],A[y++]=d[T+3])}o.setElementCount(D/c),o.upload(M,to.ARRAY_BUFFER),o.getColorBO().upload(A,to.ARRAY_BUFFER),t.VBOBuildTime.modified()})}(e,t)}var Tu={newInstance:l.newInstance(hu,\"vtkOpenGLStickMapper\"),extend:hu};const Du={};function yu(e,t,r={}){Object.assign(t,Du,r),Le.extend(e,t,r),t.keyMatrixTime={},l.default.obj(t.keyMatrixTime),t.normalMatrix=i.create(),t.MCWCMatrix=o.create(),l.default.setGet(e,t,[\"context\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLVolume\"),e.buildPass=(r=>{t.renderable&&t.renderable.getVisibility()&&r&&(e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())}),e.queryPass=((e,r)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;r.incrementVolumeCount()}}),e.traverseVolumePass=(r=>{t.renderable&&t.renderable.getVisibility()&&(e.apply(r,!0),t.children[0].traverse(r),e.apply(r,!1))}),e.volumePass=(r=>{t.renderable&&t.renderable.getVisibility()&&(r?(t.context=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\").getContext(),t.context.depthMask(!1)):t.context.depthMask(!0))}),e.getKeyMatrices=(()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),o.copy(t.MCWCMatrix,t.renderable.getMatrix()),o.transpose(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?i.identity(t.normalMatrix):(i.fromMat4(t.normalMatrix,t.MCWCMatrix),i.invert(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}))}(e,t)}var Nu={newInstance:l.default.newInstance(yu,\"vtkOpenGLVolume\"),extend:yu};const Eu={NEAREST:0,LINEAR:1,FAST_LINEAR:2};var Iu=r(15),xu=r.n(Iu),Lu=r(14),wu=r.n(Lu),Cu=r(13),Ou=r.n(Cu);const{vtkWarningMacro:Su,vtkErrorMacro:bu}=l.default;const ju={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colortextureString:null,lightingTexture:null,lightingTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,avgWindowArea:0,avgFrameTime:0};function vu(e,t,r={}){Object.assign(t,ju,r),Le.extend(e,t,r),t.VBOBuildTime={},l.default.obj(t.VBOBuildTime,{mtime:0}),t.tris=ha.newInstance(),t.scalarTexture=Oi.newInstance(),t.opacityTexture=Oi.newInstance(),t.colorTexture=Oi.newInstance(),t.lightingTexture=Oi.newInstance(),t.jitterTexture=Oi.newInstance(),t.jitterTexture.setWrapS(g.REPEAT),t.jitterTexture.setWrapT(g.REPEAT),t.framebuffer=vi.newInstance(),t.idxToView=o.create(),t.idxNormalMatrix=i.create(),l.default.setGet(e,t,[\"context\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLVolumeMapper\"),e.buildPass=(()=>{t.zBufferTexture=null}),e.opaqueZBufferPass=((e,r)=>{if(e){const e=r.getZBufferTexture();e!==t.zBufferTexture&&(t.zBufferTexture=e)}}),e.volumePass=((r,n)=>{if(r){t.openGLRenderWindow=e.getFirstAncestorOfType(\"vtkOpenGLRenderWindow\"),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.scalarTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.opacityTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.lightingTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.jitterTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLVolume=e.getFirstAncestorOfType(\"vtkOpenGLVolume\");const r=t.openGLVolume.getRenderable();t.openGLRenderer=e.getFirstAncestorOfType(\"vtkOpenGLRenderer\");const n=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(n.getActiveCamera()),e.renderPiece(n,r)}}),e.buildShaders=((t,r,n)=>{e.getShaderTemplate(t,r,n),e.replaceShaderValues(t,r,n)}),e.getShaderTemplate=((e,r,n)=>{e.Vertex=xu.a,t.openGLRenderWindow.getWebgl2()?e.Fragment=Ou.a:e.Fragment=wu.a,e.Geometry=\"\"}),e.replaceShaderValues=((r,n,i)=>{let o=r.Fragment;const s=i.getProperty().getInterpolationType(),u=i.getProperty().getUseGradientOpacity(0)&&t.lightingTexture.getComputedGradients(),l=t.scalarTexture.getVolumeInfo();if(t.openGLRenderWindow.getWebgl2()){(u||t.lastLightComplexity>0)&&(o=ga.substitute(o,\"//VTK::Normal::Dec\",[\"uniform highp sampler3D normalTexture;\"]).result,o=ga.substitute(o,\"//VTK::Normal::Impl\",[\"vec4 normal = texture(normalTexture, ijk);\"]).result);const e=t.currentInput.getExtent(),r=t.currentInput.getSpacing(),n=a.create();a.set(n,(e[1]-e[0])*r[0],(e[3]-e[2])*r[1],(e[5]-e[4])*r[2]);const i=a.length(n)/t.renderable.getSampleDistance();o=ga.substitute(o,\"//VTK::MaximumSamplesValue\",`${Math.ceil(i)}`).result}else{o=s===Eu.LINEAR?ga.substitute(o,\"//VTK::ComputeTCoords\",[\"vec2 tpos = getTextureCoord(ijk, 0.0);\",\"vec2 tpos2 = getTextureCoord(ijk, 1.0);\",\"float zmix = ijk.z - floor(ijk.z);\"]).result:ga.substitute(o,\"//VTK::ComputeTCoords\",[\"vec2 tpos = getTextureCoord(ijk, 0.5);\"]).result,o=s===Eu.LINEAR?ga.substitute(o,\"//VTK::ScalarFunction\",[\"scalar = getScalarValue(tpos);\",\"float scalar2 = getScalarValue(tpos2);\",\"scalar = mix(scalar, scalar2, zmix);\"]).result:ga.substitute(o,\"//VTK::ScalarFunction\",[\"scalar = getScalarValue(tpos);\"]).result,(u||t.lastLightComplexity>0)&&(o=ga.substitute(o,\"//VTK::Normal::Dec\",[\"uniform sampler2D normalTexture;\"]).result,o=s===Eu.LINEAR?ga.substitute(o,\"//VTK::Normal::Impl\",[\"vec4 normal = texture2D(normalTexture, tpos);\",\"vec4 normal2 = texture2D(normalTexture, tpos2);\",\"normal = mix(normal, normal2, zmix);\"]).result:ga.substitute(o,\"//VTK::Normal::Impl\",[\"vec4 normal = texture2D(normalTexture,tpos);\"]).result),o=l.encodedScalars?ga.substitute(o,\"//VTK::ScalarValueFunction::Impl\",[\"vec4 scalarComps = texture2D(texture1, tpos);\",\"return scalarComps.r + scalarComps.g/255.0 + scalarComps.b/65025.0;\"]).result:ga.substitute(o,\"//VTK::ScalarValueFunction::Impl\",\"return texture2D(texture1, tpos).r;\").result;const e=t.currentInput.getExtent(),r=t.currentInput.getSpacing(),n=a.create();a.set(n,(e[1]-e[0])*r[0],(e[3]-e[2])*r[1],(e[5]-e[4])*r[2]);const i=a.length(n)/t.renderable.getSampleDistance();o=ga.substitute(o,\"//VTK::MaximumSamplesValue\",`${Math.ceil(i)}`).result}u&&(o=ga.substitute(o,\"//VTK::GradientOpacity::Dec\",[\"uniform float goscale;\",\"uniform float goshift;\",\"uniform float gomin;\",\"uniform float gomax;\"]).result,o=ga.substitute(o,\"//VTK::GradientOpacity::Impl\",[\"tcolor.a = tcolor.a*clamp(normal.a*normal.a*goscale + goshift, gomin, gomax);\"]).result),null!==t.zBufferTexture&&(o=ga.substitute(o,\"//VTK::ZBuffer::Dec\",[\"uniform sampler2D zBufferTexture;\",\"uniform float vpWidth;\",\"uniform float vpHeight;\"]).result,o=ga.substitute(o,\"//VTK::ZBuffer::Impl\",[\"vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));\",\"float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;\",\"zdepth = zdepth * 2.0 - 1.0;\",\"zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;\",\"zdepth = -zdepth/rayDir.z;\",\"tbounds.y = min(zdepth,tbounds.y);\"]).result),r.Fragment=o,e.replaceShaderLight(r,n,i)}),e.replaceShaderLight=((e,r,n)=>{let i=e.Fragment;switch(t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:{i=ga.substitute(i,\"//VTK::Light::Dec\",[\"uniform float vSpecularPower;\",\"uniform float vAmbient;\",\"uniform float vDiffuse;\",\"uniform float vSpecular;\",\"//VTK::Light::Dec\"],!1).result,i=ga.substitute(i,\"//VTK::Light::Impl\",[\"  normal.rgb = 2.0*(normal.rgb - 0.5);\",\"  vec3 diffuse = vec3(0.0, 0.0, 0.0);\",\"  vec3 specular = vec3(0.0, 0.0, 0.0);\",\"  //VTK::Light::Impl\",\"  tcolor.rgb = tcolor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;\"],!1).result;let e=0;r.getLights().forEach(t=>{t.getSwitch()>0&&(i=ga.substitute(i,\"//VTK::Light::Dec\",[`uniform vec3 lightColor${e};`,`uniform vec3 lightDirectionWC${e}; // normalized`,`uniform vec3 lightHalfAngleWC${e}; // normalized`,\"//VTK::Light::Dec\"],!1).result,i=ga.substitute(i,\"//VTK::Light::Impl\",[`  float df = abs(dot(normal.rgb, -lightDirectionWC${e}));`,`  diffuse += ((df) * lightColor${e});`,`    float sf = pow( abs(dot(lightHalfAngleWC${e},normal.rgb)), vSpecularPower);`,`    specular += ((sf) * lightColor${e});`,\"  //VTK::Light::Impl\"],!1).result,e++)})}}e.Fragment=i}),e.getNeedToRebuildShaders=((r,n,i)=>{let o=0;i.getProperty().getShade()&&(o=0,t.numberOfLights=0,n.getLights().forEach(e=>{e.getSwitch()>0&&(t.numberOfLights++,0===o&&(o=1)),1===o&&(t.numberOfLights>1||1!==e.getIntensity()||!e.lightTypeIsHeadLight())&&(o=2),o<3&&e.getPositional()&&(o=3)}));let a=!1;return t.lastLightComplexity!==o&&(t.lastLightComplexity=o,a=!0),!!(0===r.getProgram()||a||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||!!t.lastZBufferTexture!=!!t.zBufferTexture||r.getShaderSourceTime().getMTime()<e.getMTime()||r.getShaderSourceTime().getMTime()<i.getMTime()||r.getShaderSourceTime().getMTime()<t.renderable.getMTime()||r.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||r.getShaderSourceTime().getMTime()<t.lightingTexture.getGradientsBuildTime().getMTime())&&(t.lastZBufferTexture=t.zBufferTexture,!0)}),e.updateShaders=((r,n,i)=>{if(t.lastBoundBO=r,e.getNeedToRebuildShaders(r,n,i)){const o={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(o,n,i);const a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);a!==r.getProgram()&&(r.setProgram(a),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),e.setMapperShaderParameters(r,n,i),e.setCameraShaderParameters(r,n,i),e.setPropertyShaderParameters(r,n,i)}),e.setMapperShaderParameters=((r,n,i)=>{const o=r.getProgram();if(r.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(o.isAttributeUsed(\"vertexDC\")&&(r.getVAO().addAttributeArray(o,r.getCABO(),\"vertexDC\",r.getCABO().getVertexOffset(),r.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||bu(\"Error setting vertexDC in shader VAO.\")),r.getAttributeUpdateTime().modified()),o.setUniformi(\"texture1\",t.scalarTexture.getTextureUnit()),o.setUniformf(\"sampleDistance\",t.renderable.getSampleDistance()),null!==t.zBufferTexture){o.setUniformi(\"zBufferTexture\",t.zBufferTexture.getTextureUnit());const r=e.getRenderTargetSize();o.setUniformf(\"vpWidth\",r[0]),o.setUniformf(\"vpHeight\",r[1])}}),e.setCameraShaderParameters=((e,r,n)=>{const s=t.openGLCamera.getKeyMatrices(r),u=e.getProgram(),l=t.openGLCamera.getRenderable(),c=l.getClippingRange();u.setUniformf(\"camThick\",c[1]-c[0]),u.setUniformf(\"camNear\",c[0]),u.setUniformf(\"camFar\",c[1]);const d=t.currentInput.getBounds(),g=t.currentInput.getDimensions(),M=a.create(),A=a.create();let f=1,p=-1,m=1,h=-1;for(let e=0;e<8;++e){a.set(M,d[e%2],d[2+Math.floor(e/2)%2],d[4+Math.floor(e/4)]),a.transformMat4(M,M,s.wcvc),a.normalize(A,M);const t=-c[0]/M[2];a.scale(M,A,t),a.transformMat4(M,M,s.vcdc),f=Math.min(M[0],f),p=Math.max(M[0],p),m=Math.min(M[1],m),h=Math.max(M[1],h)}u.setUniformf(\"dcxmin\",f),u.setUniformf(\"dcxmax\",p),u.setUniformf(\"dcymin\",m),u.setUniformf(\"dcymax\",h);const T=t.currentInput.getExtent(),D=t.currentInput.getSpacing(),y=a.create();a.set(y,(T[1]-T[0])*D[0],(T[3]-T[2])*D[1],(T[5]-T[4])*D[2]),u.setUniform3f(\"vSize\",y[0],y[1],y[2]),a.set(M,T[0],T[2],T[4]),t.currentInput.indexToWorldVec3(M,M),a.transformMat4(M,M,s.wcvc),u.setUniform3f(\"vOriginVC\",M[0],M[1],M[2]);const N=t.currentInput.getIndexToWorld();o.multiply(t.idxToView,s.wcvc,N),i.copy(t.idxNormalMatrix,t.currentInput.getDirection()),i.multiply(t.idxNormalMatrix,s.normalMatrix,t.idxNormalMatrix);const E=a.length(y)/t.renderable.getSampleDistance();E>t.renderable.getMaximumSamplesPerRay()&&Su(`The number of steps required ${Math.ceil(E)} is larger than the\\n        specified maximum number of steps ${t.renderable.getMaximumSamplesPerRay()}.\\n        Please either change the\\n        volumeMapper sampleDistance or its maximum number of samples.`);const I=a.create();if(t.openGLRenderWindow.getWebgl2()?a.set(I,1,1,1):a.set(I,g[0]-1,g[1]-1,g[2]-1),a.divide(I,I,y),u.setUniform3f(\"vVCToIJK\",I[0],I[1],I[2]),!t.openGLRenderWindow.getWebgl2()){const e=t.scalarTexture.getVolumeInfo();u.setUniformf(\"texWidth\",t.scalarTexture.getWidth()),u.setUniformf(\"texHeight\",t.scalarTexture.getHeight()),u.setUniformi(\"xreps\",e.xreps),u.setUniformf(\"xstride\",e.xstride),u.setUniformf(\"ystride\",e.ystride),u.setUniformi(\"repWidth\",e.width),u.setUniformi(\"repHeight\",e.height),u.setUniformi(\"repDepth\",g[2])}const x=a.create(),L=a.create();for(let e=0;e<6;++e){switch(e){default:case 0:a.set(x,1,0,0),a.set(L,T[1],T[3],T[5]);break;case 1:a.set(x,-1,0,0),a.set(L,T[0],T[2],T[4]);break;case 2:a.set(x,0,1,0),a.set(L,T[1],T[3],T[5]);break;case 3:a.set(x,0,-1,0),a.set(L,T[0],T[2],T[4]);break;case 4:a.set(x,0,0,1),a.set(L,T[1],T[3],T[5]);break;case 5:a.set(x,0,0,-1),a.set(L,T[0],T[2],T[4])}a.transformMat3(x,x,t.idxNormalMatrix),a.transformMat4(L,L,t.idxToView);const r=-1*a.dot(L,x);u.setUniform3f(`vPlaneNormal${e}`,x[0],x[1],x[2]),u.setUniformf(`vPlaneDistance${e}`,r)}const w=o.create();switch(o.invert(w,s.vcdc),u.setUniformMatrix(\"DCVCMatrix\",w),t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:{let e=0;const t=l.getDirectionOfProjection(),n=[];r.getLights().forEach(r=>{if(r.getSwitch()>0){const i=r.getColor(),o=r.getIntensity();n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,u.setUniform3fArray(`lightColor${e}`,n);const a=r.getDirection();u.setUniform3fArray(`lightDirectionWC${e}`,a);const s=[-.5*(a[0]+t[0]),-.5*(a[1]+t[1]),-.5*(a[2]+t[2])];u.setUniform3fArray(`lightHalfAngleWC${e}`,s),e++}})}}}),e.setPropertyShaderParameters=((e,r,n)=>{const i=e.getProgram();i.setUniformi(\"ctexture\",t.colorTexture.getTextureUnit()),i.setUniformi(\"otexture\",t.opacityTexture.getTextureUnit()),i.setUniformi(\"jtexture\",t.jitterTexture.getTextureUnit());const o=t.scalarTexture.getVolumeInfo(),a=o.max-o.min,s=n.getProperty(),u=s.getScalarOpacity(0).getRange();i.setUniformf(\"oshift\",(o.min-u[0])/(u[1]-u[0])),i.setUniformf(\"oscale\",a/(u[1]-u[0]));const l=s.getRGBTransferFunction(0).getRange();i.setUniformf(\"cshift\",(o.min-l[0])/(l[1]-l[0])),i.setUniformf(\"cscale\",a/(l[1]-l[0]));const c=t.lightingTexture.getComputedGradients();if(s.getUseGradientOpacity(0)&&c){const e=t.lightingTexture.getVolumeInfo(),r=s.getGradientOpacityMinimumOpacity(0),n=s.getGradientOpacityMaximumOpacity(0);i.setUniformf(\"gomin\",r),i.setUniformf(\"gomax\",n);const o=[s.getGradientOpacityMinimumValue(0),s.getGradientOpacityMaximumValue(0)];i.setUniformf(\"goscale\",e.max*(n-r)/(o[1]-o[0])),i.setUniformf(\"goshift\",-o[0]*(n-r)/(o[1]-o[0])+r)}(t.lastLightComplexity>0||s.getUseGradientOpacity(0))&&c&&i.setUniformi(\"normalTexture\",t.lightingTexture.getTextureUnit()),t.lastLightComplexity>0&&(i.setUniformf(\"vAmbient\",s.getAmbient()),i.setUniformf(\"vDiffuse\",s.getDiffuse()),i.setUniformf(\"vSpecular\",s.getSpecular()),i.setUniformf(\"vSpecularPower\",s.getSpecularPower()))}),e.getRenderTargetSize=(()=>{if(t.lastXYF>1.43){const e=t.framebuffer.getSize();return[t.fvp[0]*e[0],t.fvp[1]*e[1]]}return t.openGLRenderWindow.getFramebufferSize()}),e.renderPieceStart=((r,n)=>{if(t.renderable.getAutoAdjustSampleDistances()){const e=r.getVTKWindow().getInteractor(),n=e.getLastFrameTime();if(t.avgFrameTime=.97*t.avgFrameTime+.03*n,t.avgWindowArea=.97*t.avgWindowArea+.03/(t.lastXYF*t.lastXYF),r.getVTKWindow().getInteractor().isAnimating()){let r=Math.sqrt(t.avgFrameTime*e.getDesiredUpdateRate()/t.avgWindowArea);r>10&&(r=10),t.targetXYF=r}else t.targetXYF=Math.sqrt(t.avgFrameTime*e.getStillUpdateRate()/t.avgWindowArea);t.targetXYF<1.53&&t.targetXYF>1.33&&(t.targetXYF=t.lastXYF),Math.abs(1-t.targetXYF/t.lastXYF)<.1&&(t.targetXYF=t.lastXYF),t.lastXYF=t.targetXYF}else t.lastXYF=t.renderable.getImageSampleDistance();t.lastXYF<=1.43&&(t.lastXYF=1);const i=t.lastXYF,o=t.openGLRenderWindow.getFramebufferSize();if(i>1.43){if(t.framebuffer.saveCurrentBindingsAndBuffers(),null===t.framebuffer.getGLFramebuffer())t.framebuffer.create(Math.floor(.7*o[0]),Math.floor(.7*o[1])),t.framebuffer.populateFramebuffer();else{const e=t.framebuffer.getSize();e[0]===Math.floor(.7*o[0])&&e[1]===Math.floor(.7*o[1])||(console.log(\"resizing\"),t.framebuffer.create(Math.floor(.7*o[0]),Math.floor(.7*o[1])),t.framebuffer.populateFramebuffer())}t.framebuffer.bind();const e=t.context;e.clearColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clear(e.COLOR_BUFFER_BIT),e.viewport(0,0,o[0]/i,o[1]/i),t.fvp=[Math.floor(o[0]/i)/Math.floor(.7*o[0]),Math.floor(o[1]/i)/Math.floor(.7*o[1])]}t.context.disable(t.context.DEPTH_TEST),e.updateBufferObjects(r,n),n.getProperty().getInterpolationType()===Eu.NEAREST?(t.scalarTexture.setMinificationFilter(M.NEAREST),t.scalarTexture.setMagnificationFilter(M.NEAREST),t.lightingTexture.setMinificationFilter(M.NEAREST),t.lightingTexture.setMagnificationFilter(M.NEAREST)):(t.scalarTexture.setMinificationFilter(M.LINEAR),t.scalarTexture.setMagnificationFilter(M.LINEAR),t.lightingTexture.setMinificationFilter(M.LINEAR),t.lightingTexture.setMagnificationFilter(M.LINEAR)),t.lastBoundBO=null,null!==t.zBufferTexture&&t.zBufferTexture.activate()});let r=null,n=!1;e.renderPieceDraw=((i,o)=>{const a=t.context;t.scalarTexture.activate(),t.opacityTexture.activate(),t.colorTexture.activate(),t.jitterTexture.activate(),(o.getProperty().getShade()||o.getProperty().getUseGradientOpacity(0))&&(t.lightingTexture.getComputedGradients()?(t.lightingTexture.activate(),n||(n=!0,t.renderable.invokeLightingActivated())):(null!==r&&clearTimeout(r),r=setTimeout(()=>{t.openGLRenderWindow.modified()},20),n=!1)),e.updateShaders(t.tris,i,o),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.scalarTexture.deactivate(),t.colorTexture.deactivate(),t.opacityTexture.deactivate(),t.jitterTexture.deactivate(),(o.getProperty().getShade()||o.getProperty().getUseGradientOpacity(0))&&t.lightingTexture.deactivate()}),e.renderPieceFinish=((e,r)=>{if(null!==t.zBufferTexture&&t.zBufferTexture.deactivate(),t.lastXYF>1.43){if(t.framebuffer.restorePreviousBindingsAndBuffers(),null===t.copyShader){t.copyShader=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray([\"//VTK::System::Dec\",\"attribute vec4 vertexDC;\",\"uniform vec2 tfactor;\",\"varying vec2 tcoord;\",\"void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }\"].join(\"\\n\"),[\"//VTK::System::Dec\",\"//VTK::Output::Dec\",\"uniform sampler2D texture1;\",\"varying vec2 tcoord;\",\"void main() { gl_FragData[0] = texture2D(texture1,tcoord); }\"].join(\"\\n\"),\"\");const e=t.copyShader;t.copyVAO=fa.newInstance(),t.copyVAO.setOpenGLRenderWindow(t.openGLRenderWindow),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(e,t.tris.getCABO(),\"vertexDC\",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||bu(\"Error setting vertexDC in copy shader VAO.\")}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.copyShader);const e=t.openGLRenderWindow.getFramebufferSize();t.context.viewport(0,0,e[0],e[1]);const r=t.framebuffer.getColorTexture();r.activate(),t.copyShader.setUniformi(\"texture\",r.getTextureUnit()),t.copyShader.setUniform2f(\"tfactor\",t.fvp[0],t.fvp[1]);const n=t.context;n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),r.deactivate(),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)}}),e.renderPiece=((r,n)=>{e.invokeEvent({type:\"StartEvent\"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:\"EndEvent\"}),t.currentInput?(e.renderPieceStart(r,n),e.renderPieceDraw(r,n),e.renderPieceFinish(r,n)):bu(\"No input!\")}),e.computeBounds=((r,n)=>{e.getInput()?t.bounnds=e.getInput().getBounds():ge.uninitializeBounds(t.Bounds)}),e.updateBufferObjects=((t,r)=>{e.getNeedToRebuildBufferObjects(t,r)&&e.buildBufferObjects(t,r)}),e.getNeedToRebuildBufferObjects=((r,n)=>t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<n.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<n.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()),e.buildBufferObjects=((e,r)=>{const n=t.currentInput;if(null===n)return;const i=r.getProperty();if(!t.jitterTexture.getHandle()){const e=new Uint8Array(1024);for(let t=0;t<1024;++t)e[t]=255*Math.random();t.jitterTexture.setMinificationFilter(M.LINEAR),t.jitterTexture.setMagnificationFilter(M.LINEAR),t.jitterTexture.create2DFromRaw(32,32,1,f.UNSIGNED_CHAR,e)}const o=i.getScalarOpacity(0),a=t.renderable.getSampleDistance()/i.getScalarOpacityUnitDistance(0);let s=`${o.getMTime()}A${a}`;if(t.opacityTextureString!==s){const e=o.getRange(),r=1024,n=new Float32Array(r);o.getTable(e[0],e[1],r,n,1);const i=new Uint8Array(r);for(let e=0;e<r;++e)i[e]=255*(1-(1-n[e])**a);t.opacityTexture.setMinificationFilter(M.LINEAR),t.opacityTexture.setMagnificationFilter(M.LINEAR),t.opacityTexture.create2DFromRaw(r,1,1,f.UNSIGNED_CHAR,i),t.opacityTextureString=s}const u=i.getRGBTransferFunction(0);if(s=`${u.getMTime()}`,t.colorTextureString!==s){const e=u.getRange(),r=1024,n=new Float32Array(3*r);u.getTable(e[0],e[1],r,n,1);const i=new Uint8Array(3*r);for(let e=0;e<3*r;++e)i[e]=255*n[e];t.colorTexture.setMinificationFilter(M.LINEAR),t.colorTexture.setMagnificationFilter(M.LINEAR),t.colorTexture.create2DFromRaw(r,1,3,f.UNSIGNED_CHAR,i),t.colorTextureString=s}if(s=`${n.getMTime()}`,t.scalarTextureString!==s){const e=n.getDimensions();t.scalarTexture.resetFormatAndType(),t.scalarTexture.create3DOneComponentFromRaw(e[0],e[1],e[2],n.getPointData().getScalars().getDataType(),n.getPointData().getScalars().getData()),t.scalarTextureString=s}const l=i.getShade(),c=i.getUseGradientOpacity(0);if(s=`${n.getMTime()}`,(l||c)&&t.lightingTextureString!==s&&(t.lightingTexture.resetFormatAndType(),t.lightingTexture.create3DLighting(t.scalarTexture,n.getPointData().getScalars().getData(),n.getSpacing()),t.lightingTextureString=s),!t.tris.getCABO().getElementCount()){const e=new Float32Array(12);for(let t=0;t<4;t++)e[3*t]=t%2*2-1,e[3*t+1]=t>1?1:-1,e[3*t+2]=-1;const r=new Uint16Array(8);r[0]=3,r[1]=0,r[2]=1,r[3]=3,r[4]=3,r[5]=0,r[6]=3,r[7]=2;const n=Ne.newInstance({numberOfComponents:3,values:e});n.setName(\"points\");const i=Ne.newInstance({numberOfComponents:1,values:r});t.tris.getCABO().createVBO(i,\"polys\",Yo.SURFACE,{points:n,cellOffset:0})}t.VBOBuildTime.modified()})}(e,t)}var zu={newInstance:l.default.newInstance(vu,\"vtkOpenGLVolumeMapper\"),extend:vu};const Ru={};function Pu(e,t,r={}){Object.assign(t,Ru,r),Yi.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkOpenGLViewNodeFactory\")}(0,t),e.registerOverride(\"vtkActor\",Xi.newInstance),e.registerOverride(\"vtkActor2D\",qi.newInstance),e.registerOverride(\"vtkCamera\",eo.newInstance),e.registerOverride(\"vtkGlyph3DMapper\",Us.newInstance),e.registerOverride(\"vtkImageMapper\",Ws.newInstance),e.registerOverride(\"vtkImageSlice\",Ks.newInstance),e.registerOverride(\"vtkMapper\",Ss.newInstance),e.registerOverride(\"vtkPixelSpaceCallbackMapper\",Js.newInstance),e.registerOverride(\"vtkRenderWindow\",tl.newInstance),e.registerOverride(\"vtkRenderer\",nu.newInstance),e.registerOverride(\"vtkSkybox\",su.newInstance),e.registerOverride(\"vtkSphereMapper\",Mu.newInstance),e.registerOverride(\"vtkStickMapper\",Tu.newInstance),e.registerOverride(\"vtkTexture\",Oi.newInstance),e.registerOverride(\"vtkVolume\",Nu.newInstance),e.registerOverride(\"vtkVolumeMapper\",zu.newInstance),e.registerOverride(\"vtkWidgetRepresentation\",_i.newInstance)}var ku={newInstance:l.default.newInstance(Pu,\"vtkOpenGLViewNodeFactory\"),extend:Pu},Bu=r(12),Uu=r.n(Bu);const Fu=[\"lastShaderBound\",\"context\",\"openGLRenderWindow\"];const Vu={lastShaderBound:null,shaderPrograms:null,context:null,openGLRenderWindow:null};function _u(e,t,r={}){return Object.assign(t,Vu,r),t.shaderPrograms={},l.default.obj(e,t),l.default.setGet(e,t,Fu),function(e,t){t.classHierarchy.push(\"vtkShaderCache\"),e.replaceShaderValues=((e,r,n)=>{let i=r;n.length>0&&(i=ga.substitute(i,\"VSOut\",\"GSOut\").result);const o=t.openGLRenderWindow.getWebgl2();let a=\"\\n\",s=\"#version 100\\n\";o?s=\"#version 300 es\\n#define attribute in\\n#define textureCube texture\\n#define texture2D texture\\n\":(t.context.getExtension(\"OES_standard_derivatives\"),t.context.getExtension(\"EXT_frag_depth\")&&(a=\"#extension GL_EXT_frag_depth : enable\\n\")),i=ga.substitute(i,\"//VTK::System::Dec\",[`${s}\\n`,o?\"\":\"#extension GL_OES_standard_derivatives : enable\\n\",a,\"#ifdef GL_FRAGMENT_PRECISION_HIGH\",\"precision highp float;\",\"precision highp int;\",\"#else\",\"precision mediump float;\",\"precision mediump int;\",\"#endif\"]).result;let u=ga.substitute(e,\"//VTK::System::Dec\",[`${s}\\n`,\"#ifdef GL_FRAGMENT_PRECISION_HIGH\",\"precision highp float;\",\"precision highp int;\",\"#else\",\"precision mediump float;\",\"precision mediump int;\",\"#endif\"]).result;return o&&(u=ga.substitute(u,\"varying\",\"out\").result,i=ga.substitute(i,\"varying\",\"in\").result,i=ga.substitute(i,\"gl_FragData\\\\[0\\\\]\",\"fragOutput0\").result,i=ga.substitute(i,\"//VTK::Output::Dec\",\"layout(location = 0) out vec4 fragOutput0;\").result),{VSSource:u,FSSource:i,GSSource:ga.substitute(n,\"//VTK::System::Dec\",s).result}}),e.readyShaderProgramArray=((t,r,n)=>{const i=e.replaceShaderValues(t,r,n),o=e.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return e.readyShaderProgram(o)}),e.readyShaderProgram=(t=>t&&(t.getCompiled()||t.compileShader())&&e.bindShader(t)?t:null),e.getShaderProgram=((e,r,n)=>{const i=`${e}${r}${n}`,o=Uu()(i);if(-1===Object.keys(t.shaderPrograms).indexOf(o)){const i=ga.newInstance();return i.setContext(t.context),i.getVertexShader().setSource(e),i.getFragmentShader().setSource(r),n&&i.getGeometryShader().setSource(n),i.setMd5Hash(o),t.shaderPrograms[o]=i,i}return t.shaderPrograms[o]}),e.releaseGraphicsResources=(r=>{e.releaseCurrentShader(),Object.keys(t.shaderPrograms).map(e=>t.shaderPrograms[e]).forEach(e=>e.releaseGraphicsResources(r))}),e.releaseGraphicsResources=(()=>{t.astShaderBound&&(t.lastShaderBound.release(),t.lastShaderBound=null)}),e.bindShader=(e=>t.lastShaderBound===e?1:(t.lastShaderBound&&t.lastShaderBound.release(),e.bind(),t.lastShaderBound=e,1))}(e,t),Object.freeze(e)}var Gu={newInstance:l.default.newInstance(_u,\"vtkShaderCache\"),extend:_u};const{vtkErrorMacro:Qu}=l.default;const Yu={context:null,numberOfTextureUnits:0,textureUnits:0};function Wu(e,t,r={}){Object.assign(t,Yu,r),l.default.obj(e,t),t.textureUnits=[],l.default.get(e,t,[\"numberOfTextureUnits\"]),l.default.setGet(e,t,[\"context\"]),function(e,t){t.classHierarchy.push(\"vtkOpenGLTextureUnitManager\"),e.deleteTable=(()=>{for(let e=0;e<t.numberOfTextureUnits;++e)!0===t.textureUnits[e]&&Qu(\"some texture units  were not properly released\");t.textureUnits=[],t.numberOfTextureUnits=0}),e.setContext=(r=>{if(t.context!==r){if(0!==t.context&&e.deleteTable(),t.context=r,t.context){t.numberOfTextureUnits=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);for(let e=0;e<t.numberOfTextureUnits;++e)t.textureUnits[e]=!1}e.modified()}}),e.allocate=(()=>{for(let r=0;r<t.numberOfTextureUnits;r++)if(!e.isAllocated(r))return t.textureUnits[r]=!0,r;return-1}),e.allocateUnit=(r=>e.isAllocated(r)?-1:(t.textureUnits[r]=!0,r)),e.isAllocated=(e=>t.textureUnits[e]),e.free=(e=>{t.textureUnits[e]=!1})}(e,t)}var Hu={newInstance:l.default.newInstance(Wu,\"vtkOpenGLTextureUnitManager\"),extend:Wu},Xu=r(11),Ku=r.n(Xu);const{vtkDebugMacro:Zu,vtkErrorMacro:qu}=l.default;function $u(e,t,r){const n=e.createFramebuffer(),i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,t,2,2,0,t,r,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER);return e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),o===e.FRAMEBUFFER_COMPLETE}const Ju={cullFaceEnabled:!1,depthMaskEnabled:!0,shaderCache:null,initialized:!1,context:null,canvas:null,size:[300,300],cursorVisibility:!0,cursor:\"pointer\",textureUnitManager:null,textureResourceIds:null,renderPasses:[],notifyImageReady:!1,webgl2:!1,defaultToWebgl2:!0,vrResolution:[2160,1200],queryVRSize:!1,activeFramebuffer:null,vrDisplay:null};function el(e,t,r={}){Object.assign(t,Ju,r),t.canvas=document.createElement(\"canvas\"),t.canvas.style.width=\"100%\",t.textureResourceIds=new Map,Le.extend(e,t,r),t.myFactory=ku.newInstance(),t.shaderCache=Gu.newInstance(),t.shaderCache.setOpenGLRenderWindow(e),t.renderPasses[0]=Ui.newInstance(),l.default.event(e,t,\"imageReady\"),l.default.event(e,t,\"haveVRDisplay\"),l.default.get(e,t,[\"shaderCache\",\"textureUnitManager\",\"webgl2\",\"vrDisplay\"]),l.default.setGet(e,t,[\"initialized\",\"context\",\"canvas\",\"renderPasses\",\"notifyImageReady\",\"defaultToWebgl2\",\"cursor\",\"queryVRSize\",\"activeFramebuffer\"]),l.default.setGetArray(e,t,[\"size\",\"vrResolution\"],2),function(e,t){function r(e=\"image/png\"){return t.canvas.toDataURL(e)}t.classHierarchy.push(\"vtkOpenGLRenderWindow\"),e.onModified(function(){t.renderable&&(t.canvas.setAttribute(\"width\",t.size[0]),t.canvas.setAttribute(\"height\",t.size[1])),t.canvas.style.display=t.useOffScreen?\"none\":\"block\",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:\"none\")}),e.buildPass=(r=>{if(r){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize(),t.children.forEach(t=>{t.setOpenGLRenderWindow(e)})}}),e.initialize=(()=>{if(!t.initialized){t.context=e.get3DContext(),t.textureUnitManager=Hu.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);const r=t.context;r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA),r.depthFunc(r.LEQUAL),r.enable(r.BLEND),t.initialized=!0}}),e.makeCurrent=(()=>{t.context.makeCurrent()}),e.setContainer=(r=>{t.el&&t.el!==r&&(t.canvas.parentNode===t.el?t.el.removeChild(t.canvas):qu(\"Error: canvas parent node does not match container\")),t.el!==r&&(t.el=r,t.el&&t.el.appendChild(t.canvas),e.modified())}),e.getFramebufferSize=(()=>t.activeFramebuffer?t.activeFramebuffer.getSize():t.size),e.isInViewport=((t,r,n)=>{const i=n.getViewportByReference(),o=e.getFramebufferSize();return i[0]*o[0]<=t&&i[2]*o[0]>=t&&i[1]*o[1]<=r&&i[3]*o[1]>=r}),e.getViewportSize=(t=>{const r=t.getViewportByReference(),n=e.getFramebufferSize();return[(r[2]-r[0])*n[0],(r[3]-r[1])*n[1]]}),e.getViewportCenter=(t=>{const r=e.getViewportSize(t);return[.5*r[0],.5*r[1]]}),e.displayToNormalizedDisplay=((t,r,n)=>{const i=e.getFramebufferSize();return[t/i[0],r/i[1],n]}),e.normalizedDisplayToDisplay=((t,r,n)=>{const i=e.getFramebufferSize();return[t*i[0],r*i[1],n]}),e.worldToView=((t,r,n,i)=>{const o=e.getViewportSize(i);return i.worldToView(t,r,n,o[0]/o[1])}),e.viewToWorld=((t,r,n,i)=>{const o=e.getViewportSize(i);return i.viewToWorld(t,r,n,o[0]/o[1])}),e.worldToDisplay=((t,r,n,i)=>{const o=e.worldToView(t,r,n,i),a=i.viewToNormalizedDisplay(o[0],o[1],o[2]);return e.normalizedDisplayToDisplay(a[0],a[1],a[2])}),e.displayToWorld=((t,r,n,i)=>{const o=e.displayToNormalizedDisplay(t,r,n),a=i.normalizedDisplayToView(o[0],o[1],o[2]);return e.viewToWorld(a[0],a[1],a[2],i)}),e.normalizedDisplayToViewport=((t,r,n,i)=>{let o=i.getViewportByReference();o=e.normalizedDisplayToDisplay(o[0],o[1],0);const a=e.normalizedDisplayToDisplay(t,r,n);return[a[0]-o[0]-.5,a[1]-o[1]-.5,n]}),e.viewportToNormalizedViewport=((t,r,n,i)=>{const o=e.getViewportSize(i);return o&&0!==o[0]&&0!==o[1]?[t/(o[0]-1),r/(o[1]-1),n]:[t,r,n]}),e.normalizedViewportToViewport=((t,r,n)=>{const i=e.getFramebufferSize();return[t*(i[0]-1),r*(i[1]-1),n]}),e.displayToLocalDisplay=((t,r,n)=>[t,e.getFramebufferSize()[1]-r-1,n]),e.viewportToNormalizedDisplay=((t,r,n,i)=>{let o=i.getViewportByReference();const a=t+(o=e.normalizedDisplayToDisplay(o[0],o[1],0))[0]+.5,s=r+o[1]+.5;return e.displayToNormalizedDisplay(a,s,n)}),e.getPixelData=((e,r,n,i)=>{const o=new Uint8Array((n-e+1)*(i-r+1)*4);return t.context.readPixels(e,r,n-e+1,i-r+1,t.context.RGBA,t.context.UNSIGNED_BYTE,o),o}),e.get2DContext=(()=>t.canvas.getContext(\"2d\")),e.get3DContext=((r={preserveDrawingBuffer:!1,depth:!0,alpha:!0})=>{let n=null;const i=\"undefined\"!=typeof WebGL2RenderingContext;return t.webgl2=!1,t.defaultToWebgl2&&i&&(n=t.canvas.getContext(\"webgl2\"))&&(t.webgl2=!0,Zu(\"using webgl2\")),n||(Zu(\"using webgl1\"),n=t.canvas.getContext(\"webgl\",r)||t.canvas.getContext(\"experimental-webgl\",r)),new Ku.a({PROVIDE_MOBILE_VRDISPLAY:!0,DIRTY_SUBMIT_FRAME_BINDINGS:!1,BUFFER_SCALE:.75}),navigator.getVRDisplays&&navigator.getVRDisplays().then(r=>{r.length>0&&(t.vrDisplay=r[0],t.vrDisplay.depthNear=.01,t.vrDisplay.depthFar=100,e.invokeHaveVRDisplay())}),t.canvas.addEventListener(\"webglcontextlost\",e=>{e.preventDefault()},!1),t.canvas.addEventListener(\"webglcontextrestored\",e.restoreContext,!1),n}),e.startVR=(()=>{t.vrDisplay.capabilities.canPresent?t.vrDisplay.requestPresent([{source:t.canvas}]).then(()=>{if(t.oldCanvasSize=t.size.slice(),t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&(t.el.style.display=\"none\"),t.queryVRSize){const r=t.vrDisplay.getEyeParameters(\"left\"),n=t.vrDisplay.getEyeParameters(\"right\"),i=Math.floor(r.renderWidth+n.renderWidth),o=Math.floor(Math.max(r.renderHeight,n.renderHeight));e.setSize(i,o)}else e.setSize(t.vrResolution);t.renderable.getRenderers()[0].resetCamera(),t.vrFrameData=new VRFrameData,t.renderable.getInteractor().switchToVRAnimation(),e.vrRender()}).catch(()=>{console.log(\"failed to requestPresent\")}):qu(\"vrDisplay is not connected\")}),e.stopVR=(()=>{t.renderable.getInteractor().returnFromVRAnimation(),t.vrDisplay.exitPresent(),t.vrDisplay.cancelAnimationFrame(t.vrSceneFrame),e.setSize(...t.oldCanvasSize),t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&(t.el.style.display=\"block\");const r=t.renderable.getRenderers()[0];r.getActiveCamera().setProjectionMatrix(null),r.setViewport(0,0,1,1),e.traverseAllPasses()}),e.vrRender=(()=>{t.renderable.getInteractor().updateGamepads(t.vrDisplay.displayId),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender),t.vrDisplay.getFrameData(t.vrFrameData);const r=t.renderable.getRenderers()[0];r.setViewport(0,0,.5,1),r.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.leftViewMatrix),r.getActiveCamera().setProjectionMatrix(t.vrFrameData.leftProjectionMatrix),e.traverseAllPasses(),r.setViewport(.5,0,1,1),r.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.rightViewMatrix),r.getActiveCamera().setProjectionMatrix(t.vrFrameData.rightProjectionMatrix),e.traverseAllPasses(),t.vrDisplay.submitFrame()}),e.restoreContext=(()=>{const t=Pi.newInstance();t.setCurrentOperation(\"Release\"),t.traverse(e,null)}),e.activateTexture=(r=>{const n=t.textureResourceIds.get(r);if(void 0!==n)return void t.context.activeTexture(t.context.TEXTURE0+n);const i=e.getTextureUnitManager().allocate();i<0?qu(\"Hardware does not support the number of textures defined.\"):(t.textureResourceIds.set(r,i),t.context.activeTexture(t.context.TEXTURE0+i))}),e.deactivateTexture=(r=>{const n=t.textureResourceIds.get(r);void 0!==n&&(e.getTextureUnitManager().free(n),t.textureResourceIds.delete(r))}),e.getTextureUnitForTexture=(e=>{const r=t.textureResourceIds.get(e);return void 0!==r?r:-1}),e.getDefaultTextureInternalFormat=((e,r,n)=>{if(t.webgl2)switch(e){case f.UNSIGNED_CHAR:switch(r){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;case 4:default:return t.context.RGBA8}default:case f.FLOAT:switch(r){case 1:return t.context.R16F;case 2:return t.context.RG16F;case 3:return t.context.RGB16F;case 4:default:return t.context.RGBA16F}}switch(r){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}}),e.captureImage=((n=\"image/png\")=>t.deleted?null:(e.traverseAllPasses(),r(n))),e.getGLInformations=(()=>{const r=e.get3DContext(),n=r.getExtension(\"OES_texture_float\"),i=r.getExtension(\"OES_texture_half_float\"),o=r.getExtension(\"WEBGL_debug_renderer_info\"),a=r.getExtension(\"WEBGL_draw_buffers\"),s=r.getExtension(\"EXT_texture_filter_anisotropic\")||r.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),u=[[\"Max Vertex Attributes\",\"MAX_VERTEX_ATTRIBS\",r.getParameter(r.MAX_VERTEX_ATTRIBS)],[\"Max Varying Vectors\",\"MAX_VARYING_VECTORS\",r.getParameter(r.MAX_VARYING_VECTORS)],[\"Max Vertex Uniform Vectors\",\"MAX_VERTEX_UNIFORM_VECTORS\",r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS)],[\"Max Fragment Uniform Vectors\",\"MAX_FRAGMENT_UNIFORM_VECTORS\",r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS)],[\"Max Fragment Texture Image Units\",\"MAX_TEXTURE_IMAGE_UNITS\",r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)],[\"Max Vertex Texture Image Units\",\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\",r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],[\"Max Combined Texture Image Units\",\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\",r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],[\"Max 2D Texture Size\",\"MAX_TEXTURE_SIZE\",r.getParameter(r.MAX_TEXTURE_SIZE)],[\"Max Cube Texture Size\",\"MAX_CUBE_MAP_TEXTURE_SIZE\",r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE)],[\"Max Texture Anisotropy\",\"MAX_TEXTURE_MAX_ANISOTROPY_EXT\",s&&r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],[\"Point Size Range\",\"ALIASED_POINT_SIZE_RANGE\",r.getParameter(r.ALIASED_POINT_SIZE_RANGE).join(\" - \")],[\"Line Width Range\",\"ALIASED_LINE_WIDTH_RANGE\",r.getParameter(r.ALIASED_LINE_WIDTH_RANGE).join(\" - \")],[\"Max Viewport Dimensions\",\"MAX_VIEWPORT_DIMS\",r.getParameter(r.MAX_VIEWPORT_DIMS).join(\" - \")],[\"Max Renderbuffer Size\",\"MAX_RENDERBUFFER_SIZE\",r.getParameter(r.MAX_RENDERBUFFER_SIZE)],[\"Framebuffer Red Bits\",\"RED_BITS\",r.getParameter(r.RED_BITS)],[\"Framebuffer Green Bits\",\"GREEN_BITS\",r.getParameter(r.GREEN_BITS)],[\"Framebuffer Blue Bits\",\"BLUE_BITS\",r.getParameter(r.BLUE_BITS)],[\"Framebuffer Alpha Bits\",\"ALPHA_BITS\",r.getParameter(r.ALPHA_BITS)],[\"Framebuffer Depth Bits\",\"DEPTH_BITS\",r.getParameter(r.DEPTH_BITS)],[\"Framebuffer Stencil Bits\",\"STENCIL_BITS\",r.getParameter(r.STENCIL_BITS)],[\"Framebuffer Subpixel Bits\",\"SUBPIXEL_BITS\",r.getParameter(r.SUBPIXEL_BITS)],[\"MSAA Samples\",\"SAMPLES\",r.getParameter(r.SAMPLES)],[\"MSAA Sample Buffers\",\"SAMPLE_BUFFERS\",r.getParameter(r.SAMPLE_BUFFERS)],[\"Supported Formats for UByte Render Targets     \",\"UNSIGNED_BYTE RENDER TARGET FORMATS\",[n&&$u(r,r.RGBA,r.UNSIGNED_BYTE)?\"RGBA\":\"\",n&&$u(r,r.RGB,r.UNSIGNED_BYTE)?\"RGB\":\"\",n&&$u(r,r.LUMINANCE,r.UNSIGNED_BYTE)?\"LUMINANCE\":\"\",n&&$u(r,r.ALPHA,r.UNSIGNED_BYTE)?\"ALPHA\":\"\",n&&$u(r,r.LUMINANCE_ALPHA,r.UNSIGNED_BYTE)?\"LUMINANCE_ALPHA\":\"\"].join(\" \")],[\"Supported Formats for Half Float Render Targets\",\"HALF FLOAT RENDER TARGET FORMATS\",[i&&$u(r,r.RGBA,i.HALF_FLOAT_OES)?\"RGBA\":\"\",i&&$u(r,r.RGB,i.HALF_FLOAT_OES)?\"RGB\":\"\",i&&$u(r,r.LUMINANCE,i.HALF_FLOAT_OES)?\"LUMINANCE\":\"\",i&&$u(r,r.ALPHA,i.HALF_FLOAT_OES)?\"ALPHA\":\"\",i&&$u(r,r.LUMINANCE_ALPHA,i.HALF_FLOAT_OES)?\"LUMINANCE_ALPHA\":\"\"].join(\" \")],[\"Supported Formats for Full Float Render Targets\",\"FLOAT RENDER TARGET FORMATS\",[n&&$u(r,r.RGBA,r.FLOAT)?\"RGBA\":\"\",n&&$u(r,r.RGB,r.FLOAT)?\"RGB\":\"\",n&&$u(r,r.LUMINANCE,r.FLOAT)?\"LUMINANCE\":\"\",n&&$u(r,r.ALPHA,r.FLOAT)?\"ALPHA\":\"\",n&&$u(r,r.LUMINANCE_ALPHA,r.FLOAT)?\"LUMINANCE_ALPHA\":\"\"].join(\" \")],[\"Max Multiple Render Targets Buffers\",\"MAX_DRAW_BUFFERS_WEBGL\",a?r.getParameter(a.MAX_DRAW_BUFFERS_WEBGL):0],[\"High Float Precision in Vertex Shader\",\"HIGH_FLOAT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"Medium Float Precision in Vertex Shader\",\"MEDIUM_FLOAT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"Low Float Precision in Vertex Shader\",\"LOW_FLOAT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"High Float Precision in Fragment Shader\",\"HIGH_FLOAT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"Medium Float Precision in Fragment Shader\",\"MEDIUM_FLOAT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"Low Float Precision in Fragment Shader\",\"LOW_FLOAT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_FLOAT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_FLOAT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_FLOAT).rangeMax,\"</sup>)\"].join(\"\")],[\"High Int Precision in Vertex Shader\",\"HIGH_INT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"Medium Int Precision in Vertex Shader\",\"MEDIUM_INT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"Low Int Precision in Vertex Shader\",\"LOW_INT VERTEX_SHADER\",[r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.LOW_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"High Int Precision in Fragment Shader\",\"HIGH_INT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"Medium Int Precision in Fragment Shader\",\"MEDIUM_INT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"Low Int Precision in Fragment Shader\",\"LOW_INT FRAGMENT_SHADER\",[r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_INT).precision,\" (-2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_INT).rangeMin,\"</sup> - 2<sup>\",r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.LOW_INT).rangeMax,\"</sup>)\"].join(\"\")],[\"Supported Extensions\",\"EXTENSIONS\",r.getSupportedExtensions().join(\"<br/>\\t\\t\\t\\t\\t    \")],[\"WebGL Renderer\",\"RENDERER\",r.getParameter(r.RENDERER)],[\"WebGL Vendor\",\"VENDOR\",r.getParameter(r.VENDOR)],[\"WebGL Version\",\"VERSION\",r.getParameter(r.VERSION)],[\"Shading Language Version\",\"SHADING_LANGUAGE_VERSION\",r.getParameter(r.SHADING_LANGUAGE_VERSION)],[\"Unmasked Renderer\",\"UNMASKED_RENDERER\",o&&r.getParameter(o.UNMASKED_RENDERER_WEBGL)],[\"Unmasked Vendor\",\"UNMASKED_VENDOR\",o&&r.getParameter(o.UNMASKED_VENDOR_WEBGL)],[\"WebGL Version\",\"WEBGL_VERSION\",t.webgl2?2:1]],l={};for(;u.length;){const[e,t,r]=u.pop();t&&(l[t]={label:e,value:r})}return l}),e.traverseAllPasses=(()=>{if(t.renderPasses)for(let r=0;r<t.renderPasses.length;++r)t.renderPasses[r].traverse(e,null);t.notifyImageReady&&e.invokeImageReady(r())}),e.disableDepthMask=(()=>{t.depthMaskEnabled&&(t.context.depthMask(!1),t.depthMaskEnabled=!1)}),e.enableDepthMask=(()=>{t.depthMaskEnabled||(t.context.depthMask(!0),t.depthMaskEnabled=!0)}),e.disableCullFace=(()=>{t.cullFaceEnabled&&(t.context.disable(t.context.CULL_FACE),t.cullFaceEnabled=!1)}),e.enableCullFace=(()=>{t.cullFaceEnabled||(t.context.enable(t.context.CULL_FACE),t.cullFaceEnabled=!0)})}(e,t)}var tl={newInstance:l.default.newInstance(el,\"vtkOpenGLRenderWindow\"),extend:el};const{vtkDebugMacro:rl}=l.default;const nl={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],thickness:1e3,windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,useScissor:!1,projectionMatrix:null,physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function il(e,t,r={}){Object.assign(t,nl,r),l.default.obj(e,t),t.viewMatrix=l.default.get(e,t,[\"distance\",\"thickness\"]),l.default.setGet(e,t,[\"parallelProjection\",\"useHorizontalViewAngle\",\"viewAngle\",\"parallelScale\",\"useOffAxisProjection\",\"freezeFocalPoint\",\"useScissor\",\"physicalScale\"]),l.default.getArray(e,t,[\"directionOfProjection\",\"viewPlaneNormal\",\"position\",\"focalPoint\"]),l.default.setGetArray(e,t,[\"clippingRange\",\"windowCenter\"],2),l.default.setGetArray(e,t,[\"viewUp\",\"screenBottomLeft\",\"screenBottomRight\",\"screenTopRight\",\"physicalTranslation\",\"physicalViewUp\",\"physicalViewNorth\"],3),function(e,t){t.classHierarchy.push(\"vtkCamera\");const r=o.create(),n=o.create(),i=o.create(),l=a.create(),c=a.fromValues(0,0,-1),d=a.fromValues(0,1,0),g=a.create(),M=a.create(),A=a.create(),f=o.create(),p=o.create(),m=a.create(),h=a.create();e.orthogonalizeViewUp=(()=>{const r=e.getViewMatrix();t.viewUp[0]=r[4],t.viewUp[1]=r[5],t.viewUp[2]=r[6],e.modified()}),e.setPosition=((r,n,i)=>{r===t.position[0]&&n===t.position[1]&&i===t.position[2]||(t.position[0]=r,t.position[1]=n,t.position[2]=i,e.computeDistance(),e.modified())}),e.setFocalPoint=((r,n,i)=>{r===t.focalPoint[0]&&n===t.focalPoint[1]&&i===t.focalPoint[2]||(t.focalPoint[0]=r,t.focalPoint[1]=n,t.focalPoint[2]=i,e.computeDistance(),e.modified())}),e.setDistance=(r=>{if(t.distance===r)return;t.distance=r,t.distance<1e-20&&(t.distance=1e-20,rl(\"Distance is set to minimum.\"));const n=t.directionOfProjection;t.focalPoint[0]=t.position[0]+n[0]*t.distance,t.focalPoint[1]=t.position[1]+n[1]*t.distance,t.focalPoint[2]=t.position[2]+n[2]*t.distance,e.modified()}),e.computeDistance=(()=>{const r=t.focalPoint[0]-t.position[0],n=t.focalPoint[1]-t.position[1],i=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(r*r+n*n+i*i),t.distance<1e-20){t.distance=1e-20,rl(\"Distance is set to minimum.\");const e=t.directionOfProjection;t.focalPoint[0]=t.position[0]+e[0]*t.distance,t.focalPoint[1]=t.position[1]+e[1]*t.distance,t.focalPoint[2]=t.position[2]+e[2]*t.distance}t.directionOfProjection[0]=r/t.distance,t.directionOfProjection[1]=n/t.distance,t.directionOfProjection[2]=i/t.distance,e.computeViewPlaneNormal()}),e.computeViewPlaneNormal=(()=>{t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]}),e.dolly=(r=>{if(r<=0)return;const n=t.distance/r;e.setPosition(t.focalPoint[0]-n*t.directionOfProjection[0],t.focalPoint[1]-n*t.directionOfProjection[1],t.focalPoint[2]-n*t.directionOfProjection[2])}),e.setRoll=(e=>{}),e.getRoll=(()=>{}),e.roll=(r=>{const n=t.position,i=t.focalPoint,u=t.viewUp,l=s.fromValues(u[0],u[1],u[2],0);o.identity(f);const c=a.fromValues(i[0]-n[0],i[1]-n[1],i[2]-n[2]);o.rotate(f,f,ge.radiansFromDegrees(r),c),s.transformMat4(l,l,f),t.viewUp[0]=l[0],t.viewUp[1]=l[1],t.viewUp[2]=l[2],e.modified()}),e.azimuth=(r=>{const n=t.focalPoint;o.identity(p),o.translate(p,p,a.fromValues(n[0],n[1],n[2])),o.rotate(p,p,ge.radiansFromDegrees(r),a.fromValues(t.viewUp[0],t.viewUp[1],t.viewUp[2])),o.translate(p,p,a.fromValues(-n[0],-n[1],-n[2])),a.transformMat4(m,a.fromValues(t.position[0],t.position[1],t.position[2]),p),e.setPosition(m[0],m[1],m[2])}),e.yaw=(r=>{const n=t.position;o.identity(p),o.translate(p,p,a.fromValues(n[0],n[1],n[2])),o.rotate(p,p,ge.radiansFromDegrees(r),a.fromValues(t.viewUp[0],t.viewUp[1],t.viewUp[2])),o.translate(p,p,a.fromValues(-n[0],-n[1],-n[2])),a.transformMat4(h,a.fromValues(t.focalPoint[0],t.focalPoint[1],t.focalPoint[2]),p),e.setFocalPoint(h[0],h[1],h[2])}),e.elevation=(r=>{const n=t.focalPoint,i=e.getViewMatrix(),s=[-i[0],-i[1],-i[2]];o.identity(p),o.translate(p,p,a.fromValues(n[0],n[1],n[2])),o.rotate(p,p,ge.radiansFromDegrees(r),a.fromValues(s[0],s[1],s[2])),o.translate(p,p,a.fromValues(-n[0],-n[1],-n[2])),a.transformMat4(m,a.fromValues(t.position[0],t.position[1],t.position[2]),p),e.setPosition(m[0],m[1],m[2])}),e.pitch=(r=>{const n=t.position,i=e.getViewMatrix(),s=[i[0],i[1],i[2]];o.identity(p),o.translate(p,p,a.fromValues(n[0],n[1],n[2])),o.rotate(p,p,ge.radiansFromDegrees(r),a.fromValues(s[0],s[1],s[2])),o.translate(p,p,a.fromValues(-n[0],-n[1],-n[2])),a.transformMat4(h,a.fromValues(t.focalPoint[0],t.focalPoint[1],t.focalPoint[2]),p),e.setFocalPoint(h[0],h[1],h[2])}),e.zoom=(r=>{r<=0||(t.parallelProjection?t.parallelScale/=r:t.viewAngle/=r,e.modified())}),e.setThickness=(e=>{}),e.setObliqueAngles=((e,t)=>{}),e.physicalOrientationToWorldDirection=(t=>{e.getPhysicalToWorldMatrix(i);const r=u.fromValues(t[0],t[1],t[2],t[3]),n=u.create(),o=u.fromValues(0,0,1,0);return u.conjugate(n,r),u.multiply(o,r,o),u.multiply(o,o,n),[o[0],o[1],o[2]]}),e.getPhysicalToWorldMatrix=(t=>{e.getWorldToPhysicalMatrix(t),o.invert(t,t)}),e.getWorldToPhysicalMatrix=(e=>{o.identity(i),a.set(g,t.physicalScale,t.physicalScale,t.physicalScale),o.scale(i,i,g),o.translate(i,i,t.physicalTranslation);const r=[3];ge.cross(t.physicalViewNorth,t.physicalViewUp,r);const n=o.create();n[0]=r[0],n[1]=r[1],n[2]=r[2],n[4]=t.physicalViewUp[0],n[5]=t.physicalViewUp[1],n[6]=t.physicalViewUp[2],n[8]=-t.physicalViewNorth[0],n[9]=-t.physicalViewNorth[1],n[10]=-t.physicalViewNorth[2],o.transpose(n,n),o.multiply(e,i,n)}),e.computeViewParametersFromPhysicalMatrix=(n=>{e.getWorldToPhysicalMatrix(i),o.multiply(r,n,i),o.invert(r,r),a.transformMat4(g,l,r),e.computeDistance();const s=t.distance;e.setPosition(g[0],g[1],g[2]),a.transformMat4(M,c,r),a.subtract(M,M,g),a.normalize(M,M),e.setDirectionOfProjection(M[0],M[1],M[2]),a.transformMat4(A,d,r),a.subtract(A,A,g),e.setViewUp(A[0],A[1],A[2]),e.setDistance(s)}),e.getViewMatrix=(()=>{const e=t.position,n=t.focalPoint,i=t.viewUp,s=o.create();return o.lookAt(r,a.fromValues(e[0],e[1],e[2]),a.fromValues(n[0],n[1],n[2]),a.fromValues(i[0],i[1],i[2])),o.transpose(r,r),o.copy(s,r),s}),e.setProjectionMatrix=(e=>{t.projectionMatrix=e}),e.getProjectionMatrix=((e,r,i)=>{const s=o.create();if(t.projectionMatrix)return a.set(g,t.physicalScale,t.physicalScale,t.physicalScale),o.copy(s,t.projectionMatrix),o.scale(s,s,g),o.transpose(s,s),s;o.identity(n);const u=t.clippingRange[1]-t.clippingRange[0],l=[t.clippingRange[0]+(r+1)*u/2,t.clippingRange[0]+(i+1)*u/2];if(t.parallelProjection){const r=t.parallelScale*e,i=t.parallelScale,a=(t.windowCenter[0]-1)*r,s=(t.windowCenter[0]+1)*r,u=(t.windowCenter[1]-1)*i,c=(t.windowCenter[1]+1)*i;o.ortho(n,a,s,u,c,l[0],l[1]),o.transpose(n,n)}else{if(t.useOffAxisProjection)throw new Error(\"Off-Axis projection is not supported at this time\");{const r=Math.tan(ge.radiansFromDegrees(t.viewAngle)/2);let i,o;!0===t.useHorizontalViewAngle?(i=t.clippingRange[0]*r,o=t.clippingRange[0]*r/e):(i=t.clippingRange[0]*r*e,o=t.clippingRange[0]*r);const a=(t.windowCenter[0]-1)*i,s=(t.windowCenter[0]+1)*i,u=(t.windowCenter[1]-1)*o,c=(t.windowCenter[1]+1)*o,d=l[0],g=l[1];n[0]=2*d/(s-a),n[5]=2*d/(c-u),n[2]=(a+s)/(s-a),n[6]=(u+c)/(c-u),n[10]=-(d+g)/(g-d),n[14]=-1,n[11]=-2*d*g/(g-d),n[15]=0}}return o.copy(s,n),s}),e.getCompositeProjectionMatrix=((t,r,n)=>{const i=e.getViewMatrix(),a=e.getProjectionMatrix(t,r,n),s=o.create();return o.multiply(s,i,a),s}),e.getFrustumPlanes=(e=>{}),e.getOrientation=(()=>{}),e.getOrientationWXYZ=(()=>{}),e.setDirectionOfProjection=((r,n,i)=>{if(t.directionOfProjection[0]===r&&t.directionOfProjection[1]===n&&t.directionOfProjection[2]===i)return;t.directionOfProjection[0]=r,t.directionOfProjection[1]=n,t.directionOfProjection[2]=i;const o=t.directionOfProjection;t.focalPoint[0]=t.position[0]+o[0]*t.distance,t.focalPoint[1]=t.position[1]+o[1]*t.distance,t.focalPoint[2]=t.position[2]+o[2]*t.distance,e.computeViewPlaneNormal()}),e.setDeviceAngles=((r,n,i,s)=>{const u=[3];ge.cross(t.physicalViewNorth,t.physicalViewUp,u);const l=o.create();o.rotate(l,l,ge.radiansFromDegrees(r),t.physicalViewUp),o.rotate(l,l,ge.radiansFromDegrees(n),u),o.rotate(l,l,ge.radiansFromDegrees(i),t.physicalViewNorth),o.rotate(l,l,ge.radiansFromDegrees(-s),t.physicalViewUp);const c=a.fromValues(-t.physicalViewUp[0],-t.physicalViewUp[1],-t.physicalViewUp[2]),d=a.fromValues(t.physicalViewNorth[0],t.physicalViewNorth[1],t.physicalViewNorth[2]);a.transformMat4(c,c,l),a.transformMat4(d,d,l),e.setDirectionOfProjection(c[0],c[1],c[2]),e.setViewUp(d[0],d[1],d[2]),e.modified()}),e.setOrientationWXYZ=((t,r,n,i)=>{const s=o.create();if(0!==t&&(0!==r||0!==n||0!==i)){const e=ge.radiansFromDegrees(t),o=u.create();u.setAxisAngle(o,[r,n,i],e),u.toMat4(o,s)}const l=a.fromValues(0,0,-1),c=a.create();a.transformMat4(c,l,s);const d=a.fromValues(0,1,0),g=a.create();a.transformMat4(g,d,s),e.setDirectionOfProjection(c[0],c[1],c[2]),e.setViewUp(g[0],g[1],g[2]),e.modified()}),e.computeClippingRange=(e=>{let r=null,n=null;r=t.viewPlaneNormal,n=t.position;const i=-r[0],o=-r[1],a=-r[2],s=-(i*n[0]+o*n[1]+a*n[2]),u=[i*e[0]+o*e[2]+a*e[4]+s,1e-18];for(let t=0;t<2;t++)for(let r=0;r<2;r++)for(let n=0;n<2;n++){const l=i*e[n]+o*e[2+r]+a*e[4+t]+s;u[0]=l<u[0]?l:u[0],u[1]=l>u[1]?l:u[1]}return u})}(e,t)}var ol={newInstance:l.default.newInstance(il,\"vtkCamera\"),extend:il};const al={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:\"SceneLight\",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function sl(e,t,r={}){Object.assign(t,al,r),l.default.obj(e,t),l.default.setGet(e,t,[\"intensity\",\"switch\",\"positional\",\"exponent\",\"coneAngle\",\"transformMatrix\",\"lightType\",\"shadowAttenuation\"]),l.default.setGetArray(e,t,[\"color\",\"position\",\"focalPoint\",\"attenuationValues\"],3),function(e,t){t.classHierarchy.push(\"vtkLight\"),e.getTransformedPosition=(()=>t.transformMatrix?[]:[].concat(t.position)),e.getTransformedFocalPoint=(()=>t.transformMatrix?[]:[].concat(t.focalPoint)),e.getDirection=(()=>(t.directionMTime<t.mtime&&(t.direction[0]=t.focalPoint[0]-t.position[0],t.direction[1]=t.focalPoint[1]-t.position[1],t.direction[2]=t.focalPoint[2]-t.position[2],ge.normalize(t.direction),t.directionMTime=t.mtime),t.direction)),e.setDirectionAngle=((t,r)=>{const n=ge.radiansFromDegrees(t),i=ge.radiansFromDegrees(r);e.setPosition(Math.cos(n)*Math.sin(i),Math.sin(n),Math.cos(n)*Math.cos(i)),e.setFocalPoint(0,0,0),e.setPositional(0)}),e.setLightTypeToHeadLight=(()=>{e.setLightType(\"HeadLight\")}),e.setLightTypeToCameraLight=(()=>{e.setLightType(\"CameraLight\")}),e.setLightTypeToSceneLight=(()=>{e.setTransformMatrix(null),e.setLightType(\"SceneLight\")}),e.lightTypeIsHeadLight=(()=>\"HeadLight\"===t.lightType),e.lightTypeIsSceneLight=(()=>\"SceneLight\"===t.lightType),e.lightTypeIsCameraLight=(()=>\"CameraLight\"===t.lightType)}(e,t)}var ul={newInstance:l.default.newInstance(sl,\"vtkLight\"),extend:sl,LIGHT_TYPES:[\"HeadLight\",\"CameraLight\",\"SceneLight\"]};const{vtkErrorMacro:ll}=l.default;function cl(e,t){var r;t.classHierarchy.push(\"vtkViewport\"),e.getViewProps=(()=>t.props),e.hasViewProp=(e=>!!t.props.filter(t=>t===e).length),e.addViewProp=(r=>{r&&!e.hasViewProp(r)&&(t.props=t.props.concat(r))}),e.removeViewProp=(e=>{const r=t.props.filter(t=>t!==e);t.props.length!==r.length&&(t.props=r)}),e.removeAllViewProps=(()=>{t.props=[]}),e.getViewPropsWithNestedProps=(()=>{t.allprops=t.props;for(let e=0;e<t.props.length;++e){const r=t.props[e];r.getNestedProps()&&(t.allprops=t.allprops.concat(r.getNestedProps()))}return t.allprops}),e.addActor2D=e.addViewProp,e.removeActor2D=(t=>{e.removeViewProp(t)}),e.getActors2D=(()=>(t.actors2D=[],t.props.forEach(e=>{t.actors2D=t.actors2D.concat(e.getActors2D())}),t.actors2D)),e.displayToView=(()=>ll(\"call displayToView on your view instead\")),e.viewToDisplay=(()=>ll(\"callviewtodisplay on your view instead\")),e.getSize=(()=>ll(\"call getSize on your View instead\")),e.normalizedDisplayToView=((t,r,n)=>{const i=e.normalizedDisplayToNormalizedViewport(t,r,n);return e.normalizedViewportToView(i[0],i[1],i[2])}),e.normalizedDisplayToNormalizedViewport=((e,r,n)=>{const i=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/i[0],(r-t.viewport[1])/i[1],n]}),e.normalizedViewportToView=((e,t,r)=>[2*e-1,2*t-1,2*r-1]),e.viewToNormalizedDisplay=((t,r,n)=>{const i=e.viewToNormalizedViewport(t,r,n);return e.normalizedViewportToNormalizedDisplay(i[0],i[1],i[2])}),e.normalizedViewportToNormalizedDisplay=((e,r,n)=>{const i=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[e*i[0]+t.viewport[0],r*i[1]+t.viewport[1],n]}),e.viewToNormalizedViewport=((e,t,r)=>[.5*(e+1),.5*(t+1),.5*(r+1)]),e.PickPropFrom=(r=\"PickPropFrom\",()=>ll(`vtkViewport::${r} - NOT IMPLEMENTED`))}const dl={vtkWindow:null,background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function gl(e,t,r={}){Object.assign(t,dl,r),l.default.obj(e,t),l.default.event(e,t,\"event\"),l.default.setGetArray(e,t,[\"viewport\"],4),l.default.setGetArray(e,t,[\"background\",\"background2\"],3),cl(e,t)}var Ml={newInstance:l.default.newInstance(gl,\"vtkViewport\"),extend:gl};const Al=1e-6;function fl(e,t,r){const n=r[0]*(e[0]-t[0])+r[1]*(e[1]-t[1])+r[2]*(e[2]-t[2]);return Math.abs(n)}function pl(e,t,r,n){const i=[];ge.subtract(e,t,i);const o=ge.dot(r,i);n[0]=e[0]-o*r[0],n[1]=e[1]-o*r[1],n[2]=e[2]-o*r[2]}function ml(e,t,r){const n=ge.dot(e,t);let i=ge.dot(t,t);0===i&&(i=1),r[0]=e[0]-n*t[0]/i,r[1]=e[1]-n*t[1]/i,r[2]=e[2]-n*t[2]/i}function hl(e,t,r,n){const i=[];ge.subtract(e,t,i);const o=ge.dot(r,i),a=ge.dot(r,r);0!==a?(n[0]=e[0]-o*r[0]/a,n[1]=e[1]-o*r[1]/a,n[2]=e[2]-o*r[2]/a):(n[0]=e[0],n[1]=e[1],n[2]=e[2])}function Tl(e,t,r,n){const i={intersection:!1,t:Number.MAX_VALUE,x:[]},o=[];ge.subtract(t,e,o);const a=ge.dot(n,r)-ge.dot(n,e),s=ge.dot(n,o);let u,l;return(u=s<0?-s:s)<=(l=a<0?-a*Al:a*Al)?i:(i.t=a/s,i.x[0]=e[0]+i.t*o[0],i.x[1]=e[1]+i.t*o[1],i.x[2]=e[2]+i.t*o[2],i.intersection=i.t>=0&&i.t<=1,i)}const Dl={evaluate:function(e,t,r){return e[0]*(r[0]-t[0])+e[1]*(r[1]-t[1])+e[2]*(r[2]-t[2])},distanceToPlane:fl,projectPoint:pl,projectVector:ml,generalizedProjectPoint:hl,intersectWithLine:Tl};const yl={normal:[0,0,1],origin:[0,0,0]};function Nl(e,t,r={}){Object.assign(t,yl,r),l.default.obj(e,t),l.default.setGetArray(e,t,[\"normal\",\"origin\"],3),function(e,t){t.classHierarchy.push(\"vtkPlane\"),e.distanceToPlane=(e=>fl(e,t.origin,t.normal)),e.projectPoint=((e,r)=>{pl(e,t.origin,t.normal,r)}),e.projectVector=((e,r)=>{ml(e,t.normal,r)}),e.push=(e=>{if(0!==e)for(let r=0;r<3;r++)t.origin[r]+=e*t.normal[r]}),e.generalizedProjectPoint=((e,r)=>{hl(e,t.origin,t.normal,r)}),e.evaluateFunction=((e,r,n)=>Array.isArray(e)?t.normal[0]*(e[0]-t.origin[0])+t.normal[1]*(e[1]-t.origin[1])+t.normal[2]*(e[2]-t.origin[2]):t.normal[0]*(e-t.origin[0])+t.normal[1]*(r-t.origin[1])+t.normal[2]*(n-t.origin[2])),e.evaluateGradient=(e=>[t.normal[0],t.normal[1],t.normal[2]]),e.intersectWithLine=((e,r)=>Tl(e,r,t.origin,t.normal))}(e,t)}const El=l.default.newInstance(Nl,\"vtkPlane\");var Il=Object.assign({newInstance:El,extend:Nl},Dl);const xl=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Ll(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function wl(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function Cl(e,t){return e[2*t+1]-e[2*t]}function Ol(e){return[Cl(e,0),Cl(e,1),Cl(e,2)]}function Sl(e){const t=Ol(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function bl(e){if(Ll(e)){const t=Ol(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function jl(e,t){return e<=0&&t>=0||e>=0&&t<=0}function vl(e,t){let r=0;for(let n=0;n<2;n++)for(let i=2;i<4;i++)for(let o=4;o<6;o++)t[r]=[e[n],e[i],e[o]],r++}const zl={isValid:Ll,getCenter:wl,getLength:Cl,getLengths:Ol,getMaxLength:Sl,getDiagonalLength:bl,getXRange:function(e){return e.slice(0,2)},getYRange:function(e){return e.slice(2,4)},getZRange:function(e){return e.slice(4,6)},getCorners:vl,INIT_BOUNDS:xl};const Rl={type:\"vtkBoundingBox\",bounds:[].concat(xl),corners:[]};function Pl(e,t,r={}){Object.assign(t,Rl,r),l.default.obj(e,t),l.default.setGet(e,t,[\"bounds\"]),function(e,t){t.classHierarchy.push(\"vtkBoundingBox\"),e.clone=(()=>{const e=[].concat(t.bounds);return kl({bounds:e})}),e.equals=(e=>{const r=t.bounds,n=e.getBounds();return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]}),e.setMinPoint=((e,r,n)=>{const[i,o,a,s,u,l]=t.bounds;return t.bounds=[e,e>o?e:o,r,r>s?r:s,n,n>l?n:l],i!==e||a!==r||u!==n}),e.setMaxPoint=((e,r,n)=>{const[i,o,a,s,u,l]=t.bounds;return t.bounds=[e<i?e:i,e,r<a?r:a,r,n<u?n:u,n],o!==e||s!==r||l!==n}),e.addPoint=((...e)=>{t.bounds=t.bounds.map((t,r)=>{if(r%2==0){const n=r/2;return t<e[n]?t:e[n]}const n=(r-1)/2;return t>e[n]?t:e[n]})}),e.addBounds=((e,r,n,i,o,a)=>{const[s,u,l,c,d,g]=t.bounds;t.bounds=[Math.min(e,s),Math.max(r,u),Math.min(n,l),Math.max(i,c),Math.min(o,d),Math.max(a,g)]}),e.addBox=(t=>{e.addBounds(...t.getBounds())}),e.isValid=(()=>Ll(t.bounds)),e.intersect=(r=>{if(!e.isValid()||!r.isValid())return!1;const n=[0,0,0,0,0,0],i=r.getBounds();let o;for(let e=0;e<3;e++)if(o=!1,i[2*e]>=t.bounds[2*e]&&i[2*e]<=t.bounds[2*e+1]?(o=!0,n[2*e]=i[2*e]):t.bounds[2*e]>=i[2*e]&&t.bounds[2*e]<=i[2*e+1]&&(o=!0,n[2*e]=t.bounds[2*e]),i[2*e+1]>=t.bounds[2*e]&&i[2*e+1]<=t.bounds[2*e+1]?(o=!0,n[2*e+1]=r.MaxPnt[e]):t.bounds[2*e+1]>=r.MinPnt[2*e]&&t.bounds[2*e+1]<=r.MaxPnt[2*e+1]&&(o=!0,n[2*e+1]=t.bounds[2*e+1]),!o)return!1;return t.bounds=n,!0}),e.intersects=(r=>{if(!e.isValid()||!r.isValid())return!1;const n=r.getBounds();for(let e=0;e<3;e++)if(!(n[2*e]>=t.bounds[2*e]&&n[2*e]<=t.bounds[2*e+1]||t.bounds[2*e]>=n[2*e]&&t.bounds[2*e]<=n[2*e+1]||n[2*e+1]>=t.bounds[2*e]&&n[2*e+1]<=t.bounds[2*e+1]||t.bounds[2*e+1]>=r.MinPnt[2*e]&&t.bounds[2*e+1]<=r.MaxPnt[2*e+1]))return!1;return!0}),e.intersectPlane=((e,r)=>{const n=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],i=[0,0,0,0,0,0,0,0];let o=0;for(let n=0;n<2;n++)for(let a=2;a<4;a++)for(let s=4;s<6;s++){const u=[t.bounds[n],t.bounds[a],t.bounds[s]];i[o++]=Il.evaluate(r,e,u)}let a=2;for(;a--&&!(jl(i[n[a][0]],i[n[a][4]])&&jl(i[n[a][1]],i[n[a][5]])&&jl(i[n[a][2]],i[n[a][6]])&&jl(i[n[a][3]],i[n[a][7]])););if(a<0)return!1;const s=Math.sign(r[a]),u=Math.abs((t.bounds[2*a+1]-t.bounds[2*a])*r[a]);let l=s>0?1:0;for(let e=0;e<4;e++){if(0===u)continue;const t=Math.abs(i[n[a][e]])/u;s>0&&t<l&&(l=t),s<0&&t>l&&(l=t)}const c=(1-l)*t.bounds[2*a]+l*t.bounds[2*a+1];return s>0?t.bounds[2*a]=c:t.bounds[2*a+1]=c,!0}),e.containsPoint=((e,r,n)=>!(e<t.bounds[0]||e>t.bounds[1]||r<t.bounds[2]||r>t.bounds[3]||n<t.bounds[4]||n>t.bounds[5])),e.getMinPoint=(()=>[t.bounds[0],t.bounds[2],t.bounds[4]]),e.getMaxPoint=(()=>[t.bounds[1],t.bounds[3],t.bounds[5]]),e.getBound=(e=>t.bound[e]),e.contains=(t=>!!e.intersects(t)&&!!e.containsPoint(...t.getMinPoint())&&(!!e.containsPoint(...t.getMaxPoint())||0)),e.getCenter=(()=>wl(t.bounds)),e.getLength=(e=>Cl(t.bounds,e)),e.getLengths=(()=>Ol(t.bounds)),e.getMaxLength=(()=>Sl(t.bounds)),e.getDiagonalLength=(()=>bl(t.bounds)),e.reset=(()=>e.setBounds([].concat(xl))),e.inflate=(e=>{t.bounds=t.bounds.map((t,r)=>r%2==0?t-e:t+e)}),e.getCorners=(()=>(vl(t.bounds,t.corners),t.corners)),e.scale=((r,n,i)=>{if(e.isValid()){const e=[].concat(t.bounds);return r>=0?(e[0]*=r,e[1]*=r):(e[0]=r*t.bounds[1],e[1]=r*t.bounds[0]),n>=0?(e[2]*=n,e[3]*=n):(e[2]=n*t.bounds[3],e[3]=n*t.bounds[2]),i>=0?(e[4]*=i,e[5]*=i):(e[4]=i*t.bounds[5],e[5]=i*t.bounds[4]),t.bounds=e,!0}return!1})}(e,t)}const kl=l.default.newInstance(Pl,\"vtkBoundingBox\");var Bl=Object.assign({newInstance:kl,extend:Pl},zl);const{vtkDebugMacro:Ul,vtkErrorMacro:Fl,vtkWarningMacro:Vl}=l.default;function _l(e){return()=>Fl(`vtkRenderer::${e} - NOT IMPLEMENTED`)}const Gl={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,createdLight:null,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:1,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:ge.createUninitializedBounds(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function Ql(e,t,r={}){Object.assign(t,Gl,r),Ml.extend(e,t,r),l.default.get(e,t,[\"renderWindow\",\"allocatedRenderTime\",\"timeFactor\",\"lastRenderTimeInSeconds\",\"numberOfPropsRendered\",\"lastRenderingUsedDepthPeeling\",\"selector\"]),l.default.setGet(e,t,[\"twoSidedLighting\",\"lightFollowCamera\",\"automaticLightCreation\",\"erase\",\"draw\",\"nearClippingPlaneTolerance\",\"clippingRangeExpansion\",\"backingStore\",\"interactive\",\"layer\",\"preserveColorBuffer\",\"preserveDepthBuffer\",\"useDepthPeeling\",\"occlusionRatio\",\"maximumNumberOfPeels\",\"delegate\",\"backgroundTexture\",\"texturedBackground\",\"useShadows\",\"pass\"]),l.default.getArray(e,t,[\"actors\",\"volumes\",\"lights\"]),l.default.setGetArray(e,t,[\"background\"],4,1),function(e,t){for(t.classHierarchy.push(\"vtkRenderer\"),t.background||(t.background=[0,0,0,1]);t.background.length<3;)t.background.push(0);3===t.background.length&&t.background.push(1);const r={type:\"ComputeVisiblePropBoundsEvent\",renderer:e},n={type:\"ResetCameraClippingRangeEvent\",renderer:e},i={type:\"ResetCameraEvent\",renderer:e};e.updateCamera=(()=>(t.activeCamera||(Ul(\"No cameras are on, creating one.\"),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0)),e.updateLightsGeometryToFollowCamera=(()=>{const r=e.getActiveCameraAndResetIfCreated();t.lights.forEach(e=>{e.lightTypeIsSceneLight()||(e.lightTypeIsHeadLight()?(e.setPositionFrom(r.getPositionByReference()),e.setFocalPointFrom(r.getFocalPointByReference()),e.modified(r.getMTime())):e.lightTypeIsCameraLight()?Fl(\"camera lights not supported yet\",e):Fl(\"light has unknown light type\",e))})}),e.updateLightGeometry=(()=>!t.lightFollowCamera||e.updateLightsGeometryToFollowCamera()),e.allocateTime=_l(\"allocateTime\"),e.updateGeometry=_l(\"updateGeometry\"),e.getVTKWindow=(()=>t.renderWindow),e.setLayer=(r=>{Ul(e.getClassName(),e,\"setting Layer to \",r),t.layer!==r&&(t.layer=r,e.modified()),e.setPreserveColorBuffer(!!r)}),e.setActiveCamera=(r=>t.activeCamera!==r&&(t.activeCamera=r,e.modified(),e.invokeEvent({type:\"ActiveCameraEvent\",camera:r}),!0)),e.makeCamera=(()=>{const t=ol.newInstance();return e.invokeEvent({type:\"CreateCameraEvent\",camera:t}),t}),e.getActiveCamera=(()=>(t.activeCamera||(t.activeCamera=e.makeCamera()),t.activeCamera)),e.getActiveCameraAndResetIfCreated=(()=>(t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera)),e.addActor=e.addViewProp,e.addVolume=e.addViewProp,e.removeActor=(r=>{t.actors=t.actors.filter(e=>e!==r),e.removeViewProp(r)}),e.removeVolume=(r=>{t.volumes=t.volumes.filter(e=>e!==r),e.removeViewProp(r)}),e.addLight=(r=>{t.lights=[].concat(t.lights,r),e.modified()}),e.getActors=(()=>(t.actors=[],t.props.forEach(e=>{t.actors=t.actors.concat(e.getActors())}),t.actors)),e.getVolumes=(()=>(t.volumes=[],t.props.forEach(e=>{t.volumes=t.volumes.concat(e.getVolumes())}),t.volumes)),e.removeLight=(r=>{t.lights=t.lights.filter(e=>e!==r),e.modified()}),e.removeAllLights=(()=>{t.lights=[]}),e.setLightCollection=(r=>{t.lights=r,e.modified()}),e.makeLight=ul.newInstance,e.createLight=(()=>{t.automaticLightCreation&&(t.createdLight&&(e.removeLight(t.createdLight),t.createdLight.delete(),t.createdLight=null),t.createdLight=e.makeLight(),e.addLight(t.createdLight),t.createdLight.setLightTypeToHeadLight(),t.createdLight.setPosition(e.getActiveCamera().getPosition()),t.createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))}),e.normalizedDisplayToWorld=((t,r,n,i)=>{const o=e.normalizedDisplayToView(t,r,n);return e.viewToWorld(o[0],o[1],o[2],i)}),e.worldToNormalizedDisplay=((t,r,n,i)=>{const o=e.worldToView(t,r,n);return e.viewToNormalizedDisplay(o[0],o[1],o[2],i)}),e.viewToWorld=((e,r,n,i)=>{if(null===t.activeCamera)return Fl(\"ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0\"),[0,0,0];const s=t.activeCamera.getCompositeProjectionMatrix(i,-1,1);o.invert(s,s),o.transpose(s,s);const u=a.fromValues(e,r,n);return a.transformMat4(u,u,s),[u[0],u[1],u[2]]}),e.worldToView=((e,r,n,i)=>{if(null===t.activeCamera)return Fl(\"ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0\"),[0,0,0];const s=t.activeCamera.getCompositeProjectionMatrix(i,-1,1);o.transpose(s,s);const u=a.fromValues(e,r,n);return a.transformMat4(u,u,s),[u[0],u[1],u[2]]}),e.computeVisiblePropBounds=(()=>{t.allBounds[0]=Bl.INIT_BOUNDS[0],t.allBounds[1]=Bl.INIT_BOUNDS[1],t.allBounds[2]=Bl.INIT_BOUNDS[2],t.allBounds[3]=Bl.INIT_BOUNDS[3],t.allBounds[4]=Bl.INIT_BOUNDS[4],t.allBounds[5]=Bl.INIT_BOUNDS[5];let n=!0;e.invokeEvent(r);for(let e=0;e<t.props.length;++e){const r=t.props[e];if(r.getVisibility()&&r.getUseBounds()){const e=r.getBounds();e&&ge.areBoundsInitialized(e)&&(n=!1,e[0]<t.allBounds[0]&&(t.allBounds[0]=e[0]),e[1]>t.allBounds[1]&&(t.allBounds[1]=e[1]),e[2]<t.allBounds[2]&&(t.allBounds[2]=e[2]),e[3]>t.allBounds[3]&&(t.allBounds[3]=e[3]),e[4]<t.allBounds[4]&&(t.allBounds[4]=e[4]),e[5]>t.allBounds[5]&&(t.allBounds[5]=e[5]))}}return n&&(ge.uninitializeBounds(t.allBounds),Ul(\"Can't compute bounds, no 3D props are visible\")),t.allBounds}),e.resetCamera=((r=null)=>{const n=r||e.computeVisiblePropBounds(),o=[0,0,0];if(!ge.areBoundsInitialized(n))return Ul(\"Cannot reset camera!\"),!1;let a=null;if(!e.getActiveCamera())return Fl(\"Trying to reset non-existant camera\"),!1;a=t.activeCamera.getViewPlaneNormal(),t.activeCamera.setViewAngle(30),o[0]=(n[0]+n[1])/2,o[1]=(n[2]+n[3])/2,o[2]=(n[4]+n[5])/2;let s=n[1]-n[0],u=n[3]-n[2],l=n[5]-n[4],c=(s*=s)+(u*=u)+(l*=l);c=0===c?1:c,c=.5*Math.sqrt(c);const d=ge.radiansFromDegrees(t.activeCamera.getViewAngle()),g=c,M=c/Math.sin(.5*d),A=t.activeCamera.getViewUp();return Math.abs(ge.dot(A,a))>.999&&(Vl(\"Resetting view-up since view plane normal is parallel\"),t.activeCamera.setViewUp(-A[2],A[0],A[1])),t.activeCamera.setFocalPoint(o[0],o[1],o[2]),t.activeCamera.setPosition(o[0]+M*a[0],o[1]+M*a[1],o[2]+M*a[2]),e.resetCameraClippingRange(n),t.activeCamera.setParallelScale(g),t.activeCamera.setPhysicalScale(1/c),t.activeCamera.setPhysicalTranslation(-o[0],-o[1],-o[2]),e.invokeEvent(i),!0}),e.resetCameraClippingRange=((r=null)=>{const i=r||e.computeVisiblePropBounds();if(!ge.areBoundsInitialized(i))return Ul(\"Cannot reset camera clipping range!\"),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return Fl(\"Trying to reset clipping range of non-existant camera\"),!1;const o=t.activeCamera.computeClippingRange(i);let a=0;if(t.activeCamera.getParallelProjection())a=.1*t.activeCamera.getParallelScale();else{const e=ge.radiansFromDegrees(t.activeCamera.getViewAngle());a=.2*Math.tan(e/2)*o[1]}return o[1]-o[0]<a&&(a=a-o[1]+o[0],o[1]+=a/2,o[0]-=a/2),o[0]<0&&(o[0]=0),o[0]=.99*o[0]-(o[1]-o[0])*t.clippingRangeExpansion,o[1]=1.01*o[1]+(o[1]-o[0])*t.clippingRangeExpansion,o[0]=o[0]>=o[1]?.01*o[1]:o[0],t.nearClippingPlaneTolerance||(t.nearClippingPlaneTolerance=.01),o[0]<t.nearClippingPlaneTolerance*o[1]&&(o[0]=t.nearClippingPlaneTolerance*o[1]),t.activeCamera.setClippingRange(o[0],o[1]),e.invokeEvent(n),!1}),e.setRenderWindow=(e=>{e!==t.renderWindow&&(t.vtkWindow=e,t.renderWindow=e)}),e.visibleActorCount=(()=>t.props.filter(e=>e.getVisibility()).length),e.visibleVolumeCount=e.visibleActorCount,e.getMTime=(()=>{let e=t.mtime;const r=t.activeCamera?t.activeCamera.getMTime():0;r>e&&(e=r);const n=t.createdLight?t.createdLight.getMTime():0;return n>e&&(e=n),e}),e.getTransparent=(()=>!!t.preserveColorBuffer),e.isActiveCameraCreated=(()=>!!t.activeCamera)}(e,t)}var Yl={newInstance:l.default.newInstance(Ql,\"vtkRenderer\"),extend:Ql};const Wl={renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function Hl(e,t,r={}){Object.assign(t,Wl,r),l.default.obj(e,t),l.default.setGet(e,t,[\"interactor\",\"numberOfLayers\",\"views\"]),l.default.get(e,t,[\"neverRendered\"]),l.default.getArray(e,t,[\"renderers\"]),l.default.event(e,t,\"completion\"),function(e,t){t.classHierarchy.push(\"vtkRenderWindow\"),e.addRenderer=(r=>{e.hasRenderer(r)||(r.setRenderWindow(e),t.renderers.push(r),e.modified())}),e.removeRenderer=(r=>{t.renderers=t.renderers.filter(e=>e!==r),e.modified()}),e.hasRenderer=(e=>-1!==t.renderers.indexOf(e)),e.addView=(r=>{e.hasView(r)||(r.setRenderable(e),t.views.push(r),e.modified())}),e.removeView=(r=>{t.views=t.views.filter(e=>e!==r),e.modified()}),e.hasView=(e=>-1!==t.views.indexOf(e)),e.render=(()=>{t.interactor?t.interactor.render():t.views.forEach(e=>e.traverseAllPasses())}),e.getStatistics=(()=>{const e={propCount:0,invisiblePropCount:0};return t.renderers.forEach(t=>{t.getViewProps().forEach(t=>{if(t.getVisibility()){e.propCount+=1;const r=t.getMapper();if(r&&r.getPrimitiveCount){const t=r.getPrimitiveCount();Object.keys(t).forEach(r=>{e[r]||(e[r]=0),e[r]+=t[r]})}}else e.invisiblePropCount+=1})}),e.str=Object.keys(e).map(t=>`${t}: ${e[t]}`).join(\"\\n\"),e}),e.captureImages=((r=\"image/png\")=>(e.render(),t.views.map(e=>e.captureImage?e.captureImage(r):void 0).filter(e=>!!e)))}(e,t)}var Xl={newInstance:l.default.newInstance(Hl,\"vtkRenderWindow\"),extend:Hl};const{vtkErrorMacro:Kl}=l.default;const Zl={computeWorldToDisplay:function(e,t,r,n){return e.getRenderWindow().getViews()[0].worldToDisplay(t,r,n,e)},computeDisplayToWorld:function(e,t,r,n){return e.getRenderWindow().getViews()[0].displayToWorld(t,r,n,e)}};const ql={enabled:!0,interactor:null,priority:0,subscribedEvents:[]};function $l(e,t,r={}){Object.assign(t,ql,r),l.default.obj(e,t),l.default.event(e,t,\"InteractionEvent\"),l.default.event(e,t,\"StartInteractionEvent\"),l.default.event(e,t,\"EndInteractionEvent\"),l.default.get(e,t,[\"interactor\",\"enabled\"]),l.default.setGet(e,t,[\"priority\"]),function(e,t){function r(){for(;t.subscribedEvents.length;)t.subscribedEvents.pop().unsubscribe()}function n(){wc.handledEvents.forEach(r=>{e[`handle${r}`]&&t.subscribedEvents.push(t.interactor[`on${r}`](e[`handle${r}`],t.priority))})}t.classHierarchy.push(\"vtkInteractorObserver\"),e.setInteractor=(i=>{i!==t.interactor&&(r(),t.interactor=i,i&&t.enabled&&n(),e.modified())}),e.setEnabled=(i=>{i!==t.enabled&&(r(),i&&(t.interactor?n():Kl(\"\\n          The interactor must be set before subscribing to events\\n        \")),t.enabled=i,e.modified())}),e.computeDisplayToWorld=((e,r,n,i)=>e?t.interactor.getView().displayToWorld(r,n,i,e):null),e.computeWorldToDisplay=((e,r,n,i)=>e?t.interactor.getView().worldToDisplay(r,n,i,e):null)}(e,t)}const Jl=l.default.newInstance($l,\"vtkInteractorObserver\");var ec=Object.assign({newInstance:Jl,extend:$l},Zl);var tc={States:{IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025}};const{States:rc}=tc,nc={Rotate:rc.IS_ROTATE,Pan:rc.IS_PAN,Spin:rc.IS_SPIN,Dolly:rc.IS_DOLLY,CameraPose:rc.IS_CAMERA_POSE,WindowLevel:rc.IS_WINDOW_LEVEL,Slice:rc.IS_SLICE};const ic={state:rc.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function oc(e,t,r={}){Object.assign(t,ic,r),ec.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkInteractorStyle\"),Object.keys(nc).forEach(r=>{l.default.event(e,t,`Start${r}Event`),e[`start${r}`]=(()=>{t.state===rc.IS_NONE&&(t.state=nc[r],t.interactor.requestAnimation(e),e.invokeStartInteractionEvent({type:\"StartInteractionEvent\"}),e[`invokeStart${r}Event`]({type:`Start${r}Event`}))}),l.default.event(e,t,`End${r}Event`),e[`end${r}`]=(()=>{t.state===nc[r]&&(t.state=rc.IS_NONE,t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent({type:\"EndInteractionEvent\"}),e[`invokeEnd${r}Event`]({type:`End${r}Event`}),t.interactor.render())})}),e.handleKeyPress=(e=>{const r=t.interactor;let n=null;switch(e.key){case\"r\":case\"R\":e.pokedRenderer.resetCamera(),r.render();break;case\"w\":case\"W\":(n=e.pokedRenderer.getActors()).forEach(e=>{e.getProperty().setRepresentationToWireframe()}),r.render();break;case\"s\":case\"S\":(n=e.pokedRenderer.getActors()).forEach(e=>{e.getProperty().setRepresentationToSurface()}),r.render();break;case\"v\":case\"V\":(n=e.pokedRenderer.getActors()).forEach(e=>{e.getProperty().setRepresentationToPoints()}),r.render()}})}(e,t)}const ac=l.default.newInstance(oc,\"vtkInteractorStyle\");var sc=Object.assign({newInstance:ac,extend:oc},tc);const uc={Unknown:0,LeftController:1,RightController:2},lc={Unknown:0,Trigger:1,TrackPad:2,Grip:3,ApplicationMenu:4};var cc={Device:uc,Input:lc};const{States:dc}=tc;const gc={motionFactor:10};function Mc(e,t,r={}){Object.assign(t,gc,r),sc.extend(e,t,r),l.default.setGet(e,t,[\"motionFactor\"]),function(e,t){t.classHierarchy.push(\"vtkInteractorStyleTrackballCamera\"),e.handleMouseMove=(r=>{const n=r.position,i=r.pokedRenderer;switch(t.state){case dc.IS_ROTATE:e.handleMouseRotate(i,n),e.invokeInteractionEvent({type:\"InteractionEvent\"});break;case dc.IS_PAN:e.handleMousePan(i,n),e.invokeInteractionEvent({type:\"InteractionEvent\"});break;case dc.IS_DOLLY:e.handleMouseDolly(i,n),e.invokeInteractionEvent({type:\"InteractionEvent\"});break;case dc.IS_SPIN:e.handleMouseSpin(i,n),e.invokeInteractionEvent({type:\"InteractionEvent\"})}t.previousPosition=n}),e.handleButton3D=(r=>{r&&r.pressed&&r.device===uc.RightController&&r.input===lc.TrackPad?e.startCameraPose():r&&!r.pressed&&r.device===uc.RightController&&r.input===lc.TrackPad&&t.state===dc.IS_CAMERA_POSE&&e.endCameraPose()}),e.handleMove3D=(r=>{switch(t.state){case dc.IS_CAMERA_POSE:e.updateCameraPose(r)}}),e.updateCameraPose=(e=>{const t=e.pokedRenderer.getActiveCamera(),r=t.getPhysicalTranslation(),n=.05*e.gamepad.axes[1]/t.getPhysicalScale(),i=t.physicalOrientationToWorldDirection(e.orientation);t.setPhysicalTranslation(r[0]+i[0]*n,r[1]+i[1]*n,r[2]+i[2]*n)}),e.handleLeftButtonPress=(r=>{const n=r.position;t.previousPosition=n,r.shiftKey?r.controlKey||r.altKey?e.startDolly():e.startPan():r.controlKey||r.altKey?e.startSpin():e.startRotate()}),e.handleLeftButtonRelease=(()=>{switch(t.state){case dc.IS_DOLLY:e.endDolly();break;case dc.IS_PAN:e.endPan();break;case dc.IS_SPIN:e.endSpin();break;case dc.IS_ROTATE:e.endRotate()}}),e.handleStartMouseWheel=(t=>{e.startDolly(),e.handleMouseWheel(t)}),e.handleEndMouseWheel=(()=>{e.endDolly()}),e.handleStartPinch=(r=>{t.previousScale=r.scale,e.startDolly()}),e.handleEndPinch=(()=>{e.endDolly()}),e.handleStartRotate=(r=>{t.previousRotation=r.rotation,e.startRotate()}),e.handleEndRotate=(()=>{e.endRotate()}),e.handleStartPan=(r=>{t.previousTranslation=r.translation,e.startPan()}),e.handleEndPan=(()=>{e.endPan()}),e.handlePinch=(r=>{e.dollyByFactor(r.pokedRenderer,r.scale/t.previousScale),t.previousScale=r.scale}),e.handlePan=(r=>{const n=r.pokedRenderer.getActiveCamera();let i=n.getFocalPoint();const o=(i=e.computeWorldToDisplay(r.pokedRenderer,i[0],i[1],i[2]))[2],a=r.translation,s=t.previousTranslation,u=e.computeDisplayToWorld(r.pokedRenderer,i[0]+a[0]-s[0],i[1]+a[1]-s[1],o),l=e.computeDisplayToWorld(r.pokedRenderer,i[0],i[1],o),c=[];c[0]=l[0]-u[0],c[1]=l[1]-u[1],c[2]=l[2]-u[2],i=n.getFocalPoint();const d=n.getPosition();n.setFocalPoint(c[0]+i[0],c[1]+i[1],c[2]+i[2]),n.setPosition(c[0]+d[0],c[1]+d[1],c[2]+d[2]),t.interactor.getLightFollowCamera()&&r.pokedRenderer.updateLightsGeometryToFollowCamera(),n.orthogonalizeViewUp(),t.previousTranslation=r.translation}),e.handleRotate=(e=>{const r=e.pokedRenderer.getActiveCamera();r.roll(e.rotation-t.previousRotation),r.orthogonalizeViewUp(),t.previousRotation=e.rotation}),e.handleMouseRotate=((e,r)=>{const n=t.interactor,i=r.x-t.previousPosition.x,o=r.y-t.previousPosition.y,a=n.getView().getViewportSize(e);let s=-.1,u=-.1;a[0]&&a[1]&&(s=-20/a[1],u=-20/a[0]);const l=i*u*t.motionFactor,c=o*s*t.motionFactor,d=e.getActiveCamera();Number.isNaN(l)||Number.isNaN(c)||(d.azimuth(l),d.elevation(c),d.orthogonalizeViewUp()),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange(),n.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}),e.handleMouseSpin=((e,r)=>{const n=t.interactor,i=e.getActiveCamera(),o=n.getView().getViewportCenter(e),a=ge.degreesFromRadians(Math.atan2(t.previousPosition.y-o[1],t.previousPosition.x-o[0])),s=ge.degreesFromRadians(Math.atan2(r.y-o[1],r.x-o[0]))-a;Number.isNaN(s)||(i.roll(s),i.orthogonalizeViewUp())}),e.handleMousePan=((r,n)=>{const i=r.getActiveCamera();let o=i.getFocalPoint();const a=(o=e.computeWorldToDisplay(r,o[0],o[1],o[2]))[2],s=e.computeDisplayToWorld(r,n.x,n.y,a),u=e.computeDisplayToWorld(r,t.previousPosition.x,t.previousPosition.y,a),l=[];l[0]=u[0]-s[0],l[1]=u[1]-s[1],l[2]=u[2]-s[2],o=i.getFocalPoint();const c=i.getPosition();i.setFocalPoint(l[0]+o[0],l[1]+o[1],l[2]+o[2]),i.setPosition(l[0]+c[0],l[1]+c[1],l[2]+c[2]),t.interactor.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}),e.handleMouseDolly=((r,n)=>{const i=n.y-t.previousPosition.y,o=t.interactor.getView().getViewportCenter(r),a=t.motionFactor*i/o[1];e.dollyByFactor(r,1.1**a)}),e.handleMouseWheel=(t=>{const r=1-t.spinY/10;e.dollyByFactor(t.pokedRenderer,r)}),e.dollyByFactor=((e,r)=>{if(Number.isNaN(r))return;const n=e.getActiveCamera();n.getParallelProjection()?n.setParallelScale(n.getParallelScale()/r):(n.dolly(r),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange()),t.interactor.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()})}(e,t)}const Ac=l.default.newInstance(Mc,\"vtkInteractorStyleTrackballCamera\");var fc=Object.assign({newInstance:Ac,extend:Mc});const{Device:pc,Input:mc}=cc,{vtkWarningMacro:hc,vtkErrorMacro:Tc,normalizeWheel:Dc}=l.default,yc={\"OpenVR Gamepad\":[mc.TrackPad,mc.Trigger,mc.Grip,mc.ApplicationMenu]},Nc=[\"StartAnimation\",\"Animation\",\"EndAnimation\",\"StartMouseMove\",\"MouseMove\",\"EndMouseMove\",\"LeftButtonPress\",\"LeftButtonRelease\",\"MiddleButtonPress\",\"MiddleButtonRelease\",\"RightButtonPress\",\"RightButtonRelease\",\"KeyPress\",\"KeyDown\",\"KeyUp\",\"StartMouseWheel\",\"MouseWheel\",\"EndMouseWheel\",\"StartPinch\",\"Pinch\",\"EndPinch\",\"StartPan\",\"Pan\",\"EndPan\",\"StartRotate\",\"Rotate\",\"EndRotate\",\"Button3D\",\"Move3D\"];function Ec(e){return e.stopPropagation(),e.preventDefault(),!1}const Ic={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,view:null,recognizeGestures:!0,currentGesture:\"Start\",animationRequest:null,lastFrameTime:.1,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{}};function xc(e,t,r={}){Object.assign(t,Ic,r),l.default.obj(e,t),l.default.event(e,t,\"RenderEvent\"),Nc.forEach(r=>l.default.event(e,t,r)),l.default.get(e,t,[\"initialized\",\"container\",\"enabled\",\"enableRender\",\"interactorStyle\",\"lastFrameTime\",\"view\"]),l.default.setGet(e,t,[\"lightFollowCamera\",\"enabled\",\"recognizeGestures\",\"desiredUpdateRate\",\"stillUpdateRate\",\"picker\"]),function(e,t){t.classHierarchy.push(\"vtkRenderWindowInteractor\");const r=new Set;function n(r,n){t.currentRenderer=e.findPokedRenderer(r,n)}function i(e){const r=t.container.getBoundingClientRect(),i=t.view.getCanvas(),o=i.width/r.width,a=i.height/r.height,s={x:o*(e.clientX-r.left),y:a*(r.height-e.clientY+r.top),z:0};return n(s.x,s.y),s}function o(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n.identifier]=i(n)}return t}function a(e){return{controlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey}}function s(e){const t=a(e),r={key:e.key,keyCode:e.charCode};return Object.assign(r,t),r}function u(r){const n=document.querySelector(\"body\"),i=r?\"addEventListener\":\"removeEventListener\",o=r?\"removeEventListener\":\"addEventListener\";t.container&&t.container[o](\"mousemove\",e.handleMouseMove),n[i](\"mouseup\",e.handleMouseUp),n[i](\"mousemove\",e.handleMouseMove),n[i](\"touchend\",e.handleTouchEnd,!1),n[i](\"touchcancel\",e.handleTouchEnd,!1),n[i](\"touchmove\",e.handleTouchMove,!1)}function l(){t.view&&t.enabled&&t.enableRender&&(t.inRender=!0,t.view.traverseAllPasses(),t.inRender=!1),e.invokeRenderEvent()}e.start=(()=>{(t.initialized||(e.initialize(),t.initialized))&&e.startEventLoop()}),e.setRenderWindow=(e=>{Tc(\"you want to call setView(view) instead of setRenderWindow on a vtk.js interactor\")}),e.setInteractorStyle=(r=>{t.interactorStyle!==r&&(null!=t.interactorStyle&&t.interactorStyle.setInteractor(null),t.interactorStyle=r,null!=t.interactorStyle&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))}),e.initialize=(()=>{t.initialized=!0,e.enable(),e.render()}),e.enable=(()=>e.setEnabled(!0)),e.disable=(()=>e.setEnabled(!1)),e.startEventLoop=(()=>hc(\"empty event loop\")),e.getCurrentRenderer=(()=>t.currentRenderer?t.currentRenderer:(n(0,0),t.currentRenderer)),e.bindEvents=(r=>{t.container=r,r.addEventListener(\"contextmenu\",Ec),r.addEventListener(\"wheel\",e.handleWheel),r.addEventListener(\"DOMMouseScroll\",e.handleWheel),r.addEventListener(\"mousemove\",e.handleMouseMove),r.addEventListener(\"mousedown\",e.handleMouseDown),document.querySelector(\"body\").addEventListener(\"keypress\",e.handleKeyPress),document.querySelector(\"body\").addEventListener(\"keydown\",e.handleKeyDown),document.querySelector(\"body\").addEventListener(\"keyup\",e.handleKeyUp),r.addEventListener(\"touchstart\",e.handleTouchStart,!1)}),e.unbindEvents=(()=>{u(!1),t.container.removeEventListener(\"contextmenu\",Ec),t.container.removeEventListener(\"wheel\",e.handleWheel),t.container.removeEventListener(\"DOMMouseScroll\",e.handleWheel),t.container.removeEventListener(\"mousemove\",e.handleMouseMove),t.container.removeEventListener(\"mousedown\",e.handleMouseDown),document.querySelector(\"body\").removeEventListener(\"keypress\",e.handleKeyPress),document.querySelector(\"body\").removeEventListener(\"keydown\",e.handleKeyDown),document.querySelector(\"body\").removeEventListener(\"keyup\",e.handleKeyUp),t.container.removeEventListener(\"touchstart\",e.handleTouchStart),t.container=null}),e.handleKeyPress=(t=>{const r=s(t);e.keyPressEvent(r)}),e.handleKeyDown=(t=>{const r=s(t);e.keyDownEvent(r)}),e.handleKeyUp=(t=>{const r=s(t);e.keyUpEvent(r)}),e.handleMouseDown=(t=>{u(!0),t.stopPropagation(),t.preventDefault();const r={position:i(t)},n=a(t);switch(Object.assign(r,n),t.which){case 1:e.leftButtonPressEvent(r);break;case 2:e.middleButtonPressEvent(r);break;case 3:e.rightButtonPressEvent(r);break;default:Tc(`Unknown mouse button pressed: ${t.which}`)}}),e.requestAnimation=(n=>{void 0!==n?r.has(n)?hc(\"requester is already registered for animating\"):(r.add(n),1===r.size&&(t.lastFrameTime=.1,t.lastFrameStart=Date.now(),t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())):Tc(\"undefined requester, can not start animating\")}),e.isAnimating=(()=>t.vrAnimation||null!==t.animationRequest),e.cancelAnimation=(n=>{r.has(n)?(r.delete(n),t.animationRequest&&0===r.size&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render())):hc(`${n} did not request an animation`)}),e.switchToVRAnimation=(()=>{t.animationRequest&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null),t.vrAnimation=!0}),e.returnFromVRAnimation=(()=>{t.vrAnimation=!1}),e.updateGamepads=(r=>{const n=navigator.getGamepads();for(let i=0;i<n.length;++i){const o=n[i];if(o&&o.displayId===r){o.index in t.lastGamepadValues||(t.lastGamepadValues[o.index]={buttons:{}});for(let r=0;r<o.buttons.length;++r)r in t.lastGamepadValues[o.index].buttons||(t.lastGamepadValues[o.index].buttons[r]=!1),t.lastGamepadValues[o.index].buttons[r]!==o.buttons[r].pressed&&(e.button3DEvent({gamepad:o,position:o.pose.position,orientation:o.pose.orientation,pressed:o.buttons[r].pressed,device:\"left\"===o.hand?pc.LeftController:pc.RightController,input:yc[o.id]&&yc[o.id][r]?yc[o.id][r]:mc.Trigger}),t.lastGamepadValues[o.index].buttons[r]=o.buttons[r].pressed),t.lastGamepadValues[o.index].buttons[r]&&e.move3DEvent({gamepad:o,position:o.pose.position,orientation:o.pose.orientation,device:\"left\"===o.hand?pc.LeftController:pc.RightController})}}}),e.handleMouseMove=(r=>{const n={position:i(r)},o=a(r);Object.assign(n,o),0===t.moveTimeoutID?e.startMouseMoveEvent(n):(e.mouseMoveEvent(n),clearTimeout(t.moveTimeoutID)),t.moveTimeoutID=setTimeout(()=>{e.endMouseMoveEvent(),t.moveTimeoutID=0},200)}),e.handleAnimation=(()=>{const r=Date.now();-1===t.FrameTime?t.lastFrameTime=.1:t.lastFrameTime=(r-t.lastFrameStart)/1e3,t.lastFrameTime=Math.max(.01,t.lastFrameTime),t.lastFrameStart=r,e.animationEvent(),l(),t.animationRequest=requestAnimationFrame(e.handleAnimation)}),e.handleWheel=(r=>{r.stopPropagation(),r.preventDefault();const n=Dc(r);0===t.wheelTimeoutID?e.startMouseWheelEvent(n):(e.mouseWheelEvent(n),clearTimeout(t.wheelTimeoutID)),t.wheelTimeoutID=setTimeout(()=>{e.endMouseWheelEvent(),t.wheelTimeoutID=0},200)}),e.handleMouseUp=(t=>{u(!1),t.stopPropagation(),t.preventDefault();const r={position:i(t)},n=a(t);switch(Object.assign(r,n),t.which){case 1:e.leftButtonReleaseEvent(r);break;case 2:e.middleButtonReleaseEvent(r);break;case 3:e.rightButtonReleaseEvent(r);break;default:Tc(`Unknown mouse button released: ${t.which}`)}}),e.handleTouchStart=(r=>{if(u(!0),r.stopPropagation(),r.preventDefault(),t.recognizeGestures&&r.touches.length>1){const t=o(r.touches);if(2===r.touches.length){const t={position:i(r.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(t)}e.recognizeGesture(\"TouchStart\",t)}else{const t={position:i(r.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(t)}}),e.handleTouchMove=(r=>{if(r.stopPropagation(),r.preventDefault(),t.recognizeGestures&&r.touches.length>1){const t=o(r.touches);e.recognizeGesture(\"TouchMove\",t)}else{const t={position:i(r.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.mouseMoveEvent(t)}}),e.handleTouchEnd=(r=>{if(r.stopPropagation(),r.preventDefault(),t.recognizeGestures)if(0===r.touches.length)if(1===r.changedTouches.length){const t={position:i(r.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(t),u(!1)}else{const t=o(r.changedTouches);e.recognizeGesture(\"TouchEnd\",t),u(!1)}else if(1===r.touches.length){const t=o(r.changedTouches);e.recognizeGesture(\"TouchEnd\",t);const n={position:i(r.touches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(n)}else{const t=o(r.touches);e.recognizeGesture(\"TouchMove\",t)}else{const t={position:i(r.changedTouches[0]),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(t),u(!1)}}),e.setView=(r=>{t.view!==r&&(t.view=r,t.view.getRenderable().setInteractor(e),e.modified())}),e.findPokedRenderer=((e=0,r=0)=>{if(!t.view)return null;const n=t.view.getRenderable().getRenderersByReference();let i=null,o=null,a=null,s=n.length;for(;s--;){const u=n[s];t.view.isInViewport(e,r,u)&&u.getInteractive()&&(a=u),null===i&&u.getInteractive()&&(i=u),null===o&&t.view.isInViewport(e,r,u)&&(o=u)}return null===a&&(a=i),null===a&&(a=o),null==a&&(a=n[0]),a}),e.render=(()=>{null!==t.animationRequest||t.inRender||l()}),Nc.forEach(r=>{const n=r.charAt(0).toLowerCase()+r.slice(1);e[`${n}Event`]=(n=>{if(!t.enabled)return;if(!e.getCurrentRenderer())return void Tc(\"\\n          Can not forward events without a current renderer on the interactor.\\n        \");const i={type:r,pokedRenderer:t.currentRenderer};Object.assign(i,n),e[`invoke${r}`](i)})}),e.recognizeGesture=((r,n)=>{if(Object.keys(n).length>2)return;if(t.startingEventPositions||(t.startingEventPositions={}),\"TouchStart\"===r)return Object.keys(n).forEach(e=>{t.startingEventPositions[e]=n[e]}),void(t.currentGesture=\"Start\");if(\"TouchEnd\"===r)return\"Pinch\"===t.currentGesture&&(e.render(),e.endPinchEvent()),\"Rotate\"===t.currentGesture&&(e.render(),e.endRotateEvent()),\"Pan\"===t.currentGesture&&(e.render(),e.endPanEvent()),t.currentGesture=\"Start\",void(t.startingEventPositions={});let i=0;const o=[],a=[];Object.keys(n).forEach(e=>{o[i]=n[e],a[i]=t.startingEventPositions[e],i++});const s=Math.sqrt((a[0].x-a[1].x)*(a[0].x-a[1].x)+(a[0].y-a[1].y)*(a[0].y-a[1].y)),u=Math.sqrt((o[0].x-o[1].x)*(o[0].x-o[1].x)+(o[0].y-o[1].y)*(o[0].y-o[1].y));let l=ge.degreesFromRadians(Math.atan2(a[1].y-a[0].y,a[1].x-a[0].x)),c=ge.degreesFromRadians(Math.atan2(o[1].y-o[0].y,o[1].x-o[0].x)),d=c-l;c=c+180>=360?c-180:c+180,l=l+180>=360?l-180:l+180,Math.abs(c-l)<Math.abs(d)&&(d=c-l);const g=[];if(g[0]=(o[0].x-a[0].x+o[1].x-a[1].x)/2,g[1]=(o[0].y-a[0].y+o[1].y-a[1].y)/2,\"TouchMove\"===r)if(\"Start\"===t.currentGesture){let r=.01*Math.sqrt(t.container.clientWidth*t.container.clientWidth+t.container.clientHeight*t.container.clientHeight);r<15&&(r=15);const i=Math.abs(u-s),o=3.1415926*u*Math.abs(d)/360,a=Math.sqrt(g[0]*g[0]+g[1]*g[1]);if(i>r&&i>o&&i>a){t.currentGesture=\"Pinch\";const r={scale:1,touches:n};e.startPinchEvent(r)}else if(o>r&&o>a){t.currentGesture=\"Rotate\";const r={rotation:0,touches:n};e.startRotateEvent(r)}else if(a>r){t.currentGesture=\"Pan\";const r={translation:[0,0],touches:n};e.startPanEvent(r)}}else{if(\"Rotate\"===t.currentGesture){const t={rotation:d,touches:n};e.rotateEvent(t)}if(\"Pinch\"===t.currentGesture){const t={scale:u/s,touches:n};e.pinchEvent(t)}if(\"Pan\"===t.currentGesture){const t={translation:g,touches:n};e.panEvent(t)}}})}(e,t),e.setInteractorStyle(fc.newInstance())}const Lc=l.default.newInstance(xc,\"vtkRenderWindowInteractor\");var wc=Object.assign({newInstance:Lc,extend:xc,handledEvents:Nc},cc);const{vtkErrorMacro:Cc}=l.default,Oc=[1,-1,1,-1,1,-1];const Sc={empty:!0,numberOfComponents:3,dataType:f.FLOAT,bounds:[1,-1,1,-1,1,-1]};function bc(e,t,r={}){Object.assign(t,Sc,r),Ne.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkPoints\"),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=((r,n=3)=>{e.getNumberOfPoints()!==r&&(t.size=r*n,t.values=new window[t.dataType](t.size),e.setNumberOfComponents(n),e.modified())}),e.setPoint=((e,...r)=>{const n=e*t.numberOfComponents;for(let e=0;e<t.numberOfComponents;e++)t.values[n+e]=r[e]}),e.getPoint=e.getTuple,e.getBounds=(()=>{if(3===e.getNumberOfComponents()){const r=e.getRange(0);t.bounds[0]=r[0],t.bounds[1]=r[1];const n=e.getRange(1);t.bounds[2]=n[0],t.bounds[3]=n[1];const i=e.getRange(2);return t.bounds[4]=i[0],t.bounds[5]=i[1],t.bounds}if(2!==e.getNumberOfComponents())return Cc(`getBounds called on an array with components of\\n        ${e.getNumberOfComponents()}`),Oc;const r=e.getRange(0);t.bounds[0]=r[0],t.bounds[1]=r[1];const n=e.getRange(1);return t.bounds[2]=n[0],t.bounds[3]=n[1],t.bounds[4]=0,t.bounds[5]=0,t.bounds}),e.computeBounds=e.getBounds}(e,t)}var jc={newInstance:l.default.newInstance(bc,\"vtkPoints\"),extend:bc};function vc(e){let t=0;return e.filter((e,r)=>r===t&&(t+=e+1,!0))}const zc={extractCellSizes:vc,getNumberOfCells:function(e){return vc(e).length}};const Rc={empty:!0,numberOfComponents:1,dataType:f.UNSIGNED_INT};function Pc(e,t,r={}){Object.assign(t,Rc,r),Ne.extend(e,t,r),function(e,t){t.classHierarchy.push(\"vtkCellArray\"),e.getNumberOfCells=(e=>void 0===t.numberOfCells||e?(t.cellSizes=vc(t.values),t.numberOfCells=t.cellSizes.length,t.numberOfCells):t.numberOfCells),e.getCellSizes=(e=>void 0===t.cellSizes||e?(t.cellSizes=vc(t.values),t.cellSizes):t.cellSizes)}(e,t)}const kc=l.default.newInstance(Pc,\"vtkCellArray\");var Bc=Object.assign({newInstance:kc,extend:Pc},zc);const Uc={};function Fc(e,t,r={}){Object.assign(t,Uc,r),zo.extend(e,t,r),l.default.setGet(e,t,[\"points\"]),function(e,t){t.classHierarchy.push(\"vtkPointSet\"),t.points?t.points=Object(fo.a)(t.points):t.points=jc.newInstance(),e.getBounds=(()=>t.points.getBounds()),e.computeBounds=(()=>{e.getBounds()})}(e,t)}var Vc={newInstance:l.default.newInstance(Fc,\"vtkPointSet\"),extend:Fc};const _c=[\"verts\",\"lines\",\"polys\",\"strips\"];const Gc={};function Qc(e,t,r={}){Object.assign(t,Gc,r),Vc.extend(e,t,r),l.default.setGet(e,t,[\"verts\",\"lines\",\"polys\",\"strips\"]),function(e,t){var r;t.classHierarchy.push(\"vtkPolyData\"),_c.forEach(n=>{e[`getNumberOf${r=n,r.replace(/(?:^\\w|[A-Z]|\\b\\w)/g,e=>e.toUpperCase()).replace(/\\s+/g,\"\")}`]=(()=>t[n].getNumberOfCells()),t[n]?t[n]=Object(fo.a)(t[n]):t[n]=Bc.newInstance()}),e.getNumberOfCells=(()=>_c.reduce((e,r)=>e+t[r].getNumberOfCells(),0))}(e,t)}var Yc={newInstance:l.default.newInstance(Qc,\"vtkPolyData\"),extend:Qc};function Wc(e){return()=>l.default.vtkErrorMacro(`vtkProp::${e} - NOT IMPLEMENTED`)}const Hc={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function Xc(e,t,r={}){Object.assign(t,Hc,r),l.default.obj(e,t),l.default.get(e,t,[\"estimatedRenderTime\",\"allocatedRenderTime\"]),l.default.setGet(e,t,[\"visibility\",\"pickable\",\"dragable\",\"useBounds\",\"renderTimeMultiplier\"]),function(e,t){t.classHierarchy.push(\"vtkProp\"),e.getMTime=(()=>{let e=t.mtime;for(let r=0;r<t.textures.length;++r){const n=t.textures[r].getMTime();n>e&&(e=n)}return e}),e.getNestedProps=(()=>null),e.getActors=(()=>null),e.getActors2D=(()=>null),e.getVolumes=(()=>null),e.pick=Wc(\"pick\"),e.hasKey=Wc(\"hasKey\"),e.getRedrawMTime=(()=>t.mtime),e.setEstimatedRenderTime=(e=>{t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e}),e.restoreEstimatedRenderTime=(()=>{t.estimatedRenderTime=t.savedEstimatedRenderTime}),e.addEstimatedRenderTime=(e=>{t.estimatedRenderTime+=e}),e.setAllocatedRenderTime=(e=>{t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0}),e.getSupportsSelection=(()=>!1),e.getTextures=(()=>t.textures),e.hasTexture=(e=>!!t.textures.filter(t=>t===e).length),e.addTexture=(r=>{r&&!e.hasTexture(r)&&(t.textures=t.textures.concat(r),e.modified())}),e.removeTexture=(r=>{const n=t.textures.filter(e=>e===r);t.texture.length!==n.length&&(t.textures=n,e.modified())}),e.removeAllTextures=(()=>{t.textures=[],e.modified()})}(e,t)}var Kc={newInstance:l.default.newInstance(Xc,\"vtkProp\"),extend:Xc};const Zc={origin:[0,0,0],position:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function qc(e,t,r={}){Object.assign(t,Zc,r),Kc.extend(e,t,r),t.matrixMTime={},l.default.obj(t.matrixMTime),l.default.get(e,t,[\"bounds\",\"isIdentity\"]),l.default.setGetArray(e,t,[\"origin\",\"position\",\"orientation\",\"scale\"],3),t.matrix=o.create(),t.rotation=o.create(),t.userMatrix=o.create(),t.transform=null,function(e,t){t.classHierarchy.push(\"vtkProp3D\"),e.addPosition=(r=>{t.position=t.position.map((e,t)=>e+r[t]),e.modified()}),e.getOrientationWXYZ=(()=>{const e=u.create();o.getRotation(e,t.rotation);const r=a.create(),n=u.getAxisAngle(r,e);return[ge.degreesFromRadians(n),r[0],r[1],r[2]]}),e.rotateX=(r=>{0!==r&&(o.rotateX(t.rotation,t.rotation,ge.radiansFromDegrees(r)),e.modified())}),e.rotateY=(r=>{0!==r&&(o.rotateY(t.rotation,t.rotation,ge.radiansFromDegrees(r)),e.modified())}),e.rotateZ=(r=>{0!==r&&(o.rotateZ(t.rotation,t.rotation,ge.radiansFromDegrees(r)),e.modified())}),e.rotateWXYZ=((r,n,i,a)=>{if(0===r||0===n&&0===i&&0===a)return;const s=ge.radiansFromDegrees(r),l=u.create();u.setAxisAngle(l,[n,i,a],s);const c=o.create();o.fromQuat(c,l),o.multiply(t.rotation,t.rotation,c),e.modified()}),e.setUserMatrix=(r=>{o.copy(t.userMatrix,r),e.modified()}),e.getMatrix=(()=>(e.computeMatrix(),t.matrix)),e.computeMatrix=(()=>{if(e.getMTime()>t.matrixMTime.getMTime()){o.identity(t.matrix),t.userMatrix&&o.multiply(t.matrix,t.matrix,t.userMatrix),o.translate(t.matrix,t.matrix,t.origin),o.translate(t.matrix,t.matrix,t.position),o.multiply(t.matrix,t.matrix,t.rotation),o.scale(t.matrix,t.matrix,t.scale),o.translate(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),o.transpose(t.matrix,t.matrix),t.isIdentity=!0;for(let e=0;e<4;++e)for(let r=0;r<4;++r)(e===r?1:0)!==t.matrix[e+4*r]&&(t.isIdentity=!1);t.matrixMTime.modified()}}),e.getCenter=(()=>Bl.getCenter(t.bounds)),e.getLength=(()=>Bl.getLength(t.bounds)),e.getXRange=(()=>Bl.getXRange(t.bounds)),e.getYRange=(()=>Bl.getYRange(t.bounds)),e.getZRange=(()=>Bl.getZRange(t.bounds)),e.getUserMatrix=(()=>t.userMatrix),e.onModified(function(){e.computeMatrix()})}(e,t)}var $c={newInstance:l.default.newInstance(qc,\"vtkProp3D\"),extend:qc};const{vtkDebugMacro:Jc}=l.default;const ed={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function td(e,t,r={}){Object.assign(t,ed,r),$c.extend(e,t,r),t.boundsMTime={},l.default.obj(t.boundsMTime),l.default.set(e,t,[\"property\"]),l.default.setGet(e,t,[\"backfaceProperty\",\"forceOpaque\",\"forceTranslucent\",\"mapper\"]),function(e,t){t.classHierarchy.push(\"vtkActor\");const r=Object.assign({},e);e.getActors=(()=>e),e.getIsOpaque=(()=>{if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();let r=t.property.getOpacity()>=1;return r=(r=r&&(!t.texture||!t.texture.isTranslucent()))&&(!t.mapper||t.mapper.getIsOpaque())}),e.hasTranslucentPolygonalGeometry=(()=>null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())),e.makeProperty=Jo.newInstance,e.getProperty=(()=>(null===t.property&&(t.property=e.makeProperty()),t.property)),e.getBounds=(()=>{if(null===t.mapper)return t.bounds;const r=t.mapper.getBounds();if(!r||6!==r.length)return r;if(r[0]>r[1])return t.mapperBounds=r.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),r;if(!t.mapperBounds||r[0]!==t.mapperBounds[0]||r[1]!==t.mapperBounds[1]||r[2]!==t.mapperBounds[2]||r[3]!==t.mapperBounds[3]||r[4]!==t.mapperBounds[4]||r[5]!==t.mapperBounds[5]||e.getMTime()>t.boundsMTime.getMTime()){Jc(\"Recomputing bounds...\"),t.mapperBounds=r.concat();const n=[a.fromValues(r[1],r[3],r[5]),a.fromValues(r[1],r[2],r[5]),a.fromValues(r[0],r[2],r[5]),a.fromValues(r[0],r[3],r[5]),a.fromValues(r[1],r[3],r[4]),a.fromValues(r[1],r[2],r[4]),a.fromValues(r[0],r[2],r[4]),a.fromValues(r[0],r[3],r[4])];e.computeMatrix();const i=o.create();o.transpose(i,t.matrix),n.forEach(e=>a.transformMat4(e,e,i)),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map((e,t)=>t%2==0?n.reduce((e,r)=>e>r[t/2]?r[t/2]:e,e):n.reduce((e,r)=>e<r[(t-1)/2]?r[(t-1)/2]:e,e)),t.boundsMTime.modified()}return t.bounds}),e.getMTime=(()=>{let e=r.getMTime();if(null!==t.property){const r=t.property.getMTime();e=r>e?r:e}if(null!==t.backfaceProperty){const r=t.backfaceProperty.getMTime();e=r>e?r:e}return e}),e.getRedrawMTime=(()=>{let e=t.mtime;if(null!==t.mapper){let r=t.mapper.getMTime();e=r>e?r:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),e=(r=t.mapper.getInput().getMTime())>e?r:e)}return e}),e.getSupportsSelection=(()=>!!t.mapper&&t.mapper.getSupportsSelection())}(e,t)}var rd={newInstance:l.default.newInstance(td,\"vtkActor\"),extend:td};const nd={margin:\"0\",padding:\"0\",position:\"absolute\",top:\"0\",left:\"0\",width:\"100vw\",height:\"100vh\",overflow:\"hidden\"},id={position:\"absolute\",left:\"25px\",top:\"25px\",backgroundColor:\"white\",borderRadius:\"5px\",listStyle:\"none\",padding:\"5px 10px\",margin:\"0\",display:\"block\",border:\"solid 1px black\",maxWidth:\"calc(100vw - 70px)\",maxHeight:\"calc(100vh - 60px)\",overflow:\"auto\"};function od(e,t){Object.keys(t).forEach(r=>{e.style[r]=t[r]})}const ad={background:[.32,.34,.43],containerStyle:null,controlPanelStyle:null,listenWindowResize:!0,resizeCallback:null,controllerVisibility:!0};function sd(e,t,r={}){Object.assign(t,ad,r),l.default.obj(e,t),l.default.get(e,t,[\"renderWindow\",\"renderer\",\"openGLRenderWindow\",\"interactor\",\"rootContainer\",\"container\",\"controlContainer\"]),function(e,t){t.rootContainer||(t.rootContainer=document.querySelector(\"body\")),t.container||(t.container=document.createElement(\"div\"),od(t.container,t.containerStyle||nd),t.rootContainer.appendChild(t.container)),t.renderWindow=Xl.newInstance(),t.renderer=Yl.newInstance(),t.renderWindow.addRenderer(t.renderer),t.openGLRenderWindow=tl.newInstance(),t.openGLRenderWindow.setContainer(t.container),t.renderWindow.addView(t.openGLRenderWindow),t.interactor=wc.newInstance(),t.interactor.setView(t.openGLRenderWindow),t.interactor.initialize(),t.interactor.bindEvents(t.container),e.setBackground=t.renderer.setBackground,e.removeController=(()=>{const e=t.controlContainer;e&&e.parentNode.removeChild(e)}),e.setControllerVisibility=(e=>{t.controllerVisibility=e,t.controlContainer&&(t.controlContainer.style.display=e?\"block\":\"none\")}),e.toggleControllerVisibility=(()=>{e.setControllerVisibility(!t.controllerVisibility)}),e.addController=(r=>{t.controlContainer=document.createElement(\"div\"),od(t.controlContainer,t.controlPanelStyle||id),t.rootContainer.appendChild(t.controlContainer),t.controlContainer.innerHTML=r,e.setControllerVisibility(t.controllerVisibility),t.rootContainer.addEventListener(\"keypress\",t=>{\"c\"===String.fromCharCode(t.charCode)&&e.toggleControllerVisibility()})}),e.setBackground(...t.background),e.addRepresentation=(e=>{e.getActors().forEach(e=>{t.renderer.addActor(e)})}),e.removeRepresentation=(e=>{e.getActors().forEach(e=>t.renderer.removeActor(e))}),e.resize=(()=>{const e=t.container.getBoundingClientRect(),r=window.devicePixelRatio||1;t.openGLRenderWindow.setSize(Math.floor(e.width*r),Math.floor(e.height*r)),t.resizeCallback&&t.resizeCallback(e),t.renderWindow.render()}),e.setResizeCallback=(r=>{t.resizeCallback=r,e.resize()}),t.listenWindowResize&&window.addEventListener(\"resize\",e.resize),e.resize()}(e,t)}var ud={newInstance:l.default.newInstance(sd),extend:sd};const{vtkWarningMacro:ld}=l.default;const cd={formula:{getArrays:()=>({input:[],output:[]}),evaluate:()=>null}};function dd(e,t,r={}){Object.assign(t,cd,r),l.default.obj(e,t),l.default.algo(e,t,1,1),function(e,t){t.classHierarchy.push(\"vtkCalculator\"),e.setFormula=(r=>r!==t.formula&&(t.formula=r,e.modified(),!0)),e.getFormula=(()=>t.formula),e.augmentInputArrays=((e,t)=>{const r=t.slice(0);return e!==Co.POINT&&e!==Co.VERTEX||r.push({location:Co.COORDINATE}),r}),e.createSimpleFormulaObject=((t,r,n,i,o={})=>({getArrays:()=>({input:e.augmentInputArrays(t,r.map(e=>({location:t,name:e}))),output:[{location:t,name:n,attribute:\"outputAttributeType\"in o?o.outputAttributeType:To.SCALARS,numberOfComponents:\"numberOfOutputComponents\"in o?o.numberOfOutputComponents:1}]}),evaluate:(e,t)=>{const r=new Array(e.length),n=e.map((e,t)=>{const n=e.getNumberOfComponents(),i=e.getData();return 1===n?e=>i[e]:n=>e.getTuple(n,r[t])}),o=t[0],a=o.getData(),s=o.getNumberOfComponents();let u=new Array(s);if(1===s)a.forEach((e,t)=>{a[t]=i(...n.map(e=>e(t)),t,u)});else{const e=o.getNumberOfTuples();for(let t=0;t<e;++t)u=i(...n.map(e=>e(t)),t,u),o.setTuple(t,u)}}})),e.setFormulaSimple=((t,r,n,i,o={})=>e.setFormula(e.createSimpleFormulaObject(t,r,n,i,o))),e.prepareArrays=((e,t,r)=>{const n=[],i=[];return e.input.forEach(e=>{if(e.location===Co.COORDINATE)n.push(t.getPoints());else{const r=[[Co.UNIFORM,e=>e.getFieldData()],[Co.POINT,e=>e.getPointData()],[Co.CELL,e=>e.getCellData()],[Co.VERTEX,e=>e.getVertexData()],[Co.EDGE,e=>e.getEdgeData()],[Co.ROW,e=>e.getRowData()]].reduce((e,t)=>(e[t[0]]=t[1],e),{}),i=\"location\"in e&&e.location in r?r[e.location](t):null;i?e.name?n.push(i.getArrayByName(e.name)):\"index\"in e?n.push(i.getArrayByIndex(e.index)):\"attribute\"in e&&e.location!==Co.UNIFORM?n.push(i.getActiveAttribute(e.attribute)):(ld(`No matching array for specifier \"${JSON.stringify(e)}\".`),n.push(null)):(ld(`Specifier \"${JSON.stringify(e)}\" did not provide a usable location.`),n.push(null))}}),e.output.forEach(e=>{const n=Object.assign({},e),o=\"numberOfComponents\"in n?n.numberOfComponents:1;if(e.location===Co.UNIFORM&&\"tuples\"in n&&(n.size=o*n.tuples),e.location===Co.COORDINATE){const e=t.getPoints(),n=jc.newInstance({dataType:e.getDataType()});n.setNumberOfPoints(e.getNumberOfPoints(),e.getNumberOfComponents()),r.setPoints(n),i.push(n)}else{const r=[[Co.UNIFORM,e=>e.getFieldData(),(e,t)=>\"tuples\"in t?t.tuples:0],[Co.POINT,e=>e.getPointData(),e=>e.getPoints().getNumberOfPoints()],[Co.CELL,e=>e.getCellData(),e=>e.getNumberOfCells()],[Co.VERTEX,e=>e.getVertexData(),e=>e.getNumberOfVertices()],[Co.EDGE,e=>e.getEdgeData(),e=>e.getNumberOfEdges()],[Co.ROW,e=>e.getRowData(),e=>e.getNumberOfRows()]].reduce((e,t)=>(e[t[0]]={getData:t[1],getSize:t[2]},e),{});let a=null,s=0;if(\"location\"in e&&e.location in r&&(a=r[e.location].getData(t),s=r[e.location].getSize(t,n)),s<=0)ld(`Output array size could not be determined for ${JSON.stringify(e)}.`),i.push(null);else if(a){n.size=o*s;const t=Ne.newInstance(n),r=a.addArray(t);\"attribute\"in n&&e.location!==Co.UNIFORM&&a.setActiveAttributeByIndex(r,n.attribute),i.push(t)}else ld(`Specifier \"${JSON.stringify(e)}\" did not provide a usable location.`),i.push(null)}}),{arraysIn:n,arraysOut:i}}),e.requestData=((r,n)=>{if(!t.formula)return 0;const i=t.formula.getArrays(r),o=Object(fo.a)({vtkClass:r[0].getClassName()});o.shallowCopy(r[0]),n[0]=o;const a=e.prepareArrays(i,r[0],n[0]);return t.formula.evaluate(a.arraysIn,a.arraysOut),1})}(e,t)}var gd={newInstance:l.default.newInstance(dd,\"vtkCalculator\"),extend:dd};const Md=e=>e,Ad=new Float64Array(16);o.identity(Ad);class fd{constructor(e=!1){this.matrix=new Float64Array(16),o.identity(this.matrix),this.tmp=new Float64Array(3),this.angleConv=e?n.toRadian:Md}rotateFromDirections(e,t){const r=new Float64Array(3),n=new Float64Array(3),i=new Float64Array(16);a.set(r,e[0],e[1],e[2]),a.set(n,t[0],t[1],t[2]),a.normalize(r,r),a.normalize(n,n);const s=a.dot(r,n);return s>=1?this:(a.cross(this.tmp,r,n),o.fromRotation(i,Math.acos(s),this.tmp),o.multiply(this.matrix,this.matrix,i),this)}rotate(e,t){return a.set(this.tmp,...t),a.normalize(this.tmp,this.tmp),o.rotate(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}rotateX(e){return o.rotateX(this.matrix,this.matrix,this.angleConv(e)),this}rotateY(e){return o.rotateY(this.matrix,this.matrix,this.angleConv(e)),this}rotateZ(e){return o.rotateZ(this.matrix,this.matrix,this.angleConv(e)),this}translate(e,t,r){return a.set(this.tmp,e,t,r),o.translate(this.matrix,this.matrix,this.tmp),this}scale(e,t,r){return a.set(this.tmp,e,t,r),o.scale(this.matrix,this.matrix,this.tmp),this}apply(e,t=0,r=-1){if(Ad[0]===this.matrix[0]&&Ad[1]===this.matrix[1]&&Ad[2]===this.matrix[2]&&Ad[3]===this.matrix[3]&&Ad[4]===this.matrix[4]&&Ad[5]===this.matrix[5]&&Ad[6]===this.matrix[6]&&Ad[7]===this.matrix[7]&&Ad[8]===this.matrix[8]&&Ad[9]===this.matrix[9]&&Ad[10]===this.matrix[10]&&Ad[11]===this.matrix[11]&&Ad[12]===this.matrix[12]&&Ad[13]===this.matrix[13]&&Ad[14]===this.matrix[14]&&Ad[15]===this.matrix[15])return this;const n=-1===r?e.length:t+3*r;for(let r=t;r<n;r+=3)a.set(this.tmp,e[r],e[r+1],e[r+2]),a.transformMat4(this.tmp,this.tmp,this.matrix),e[r]=this.tmp[0],e[r+1]=this.tmp[1],e[r+2]=this.tmp[2];return this}getMatrix(){return this.matrix}setMatrix(e){return e&&16===e.length&&(this.matrix[0]=e[0],this.matrix[1]=e[1],this.matrix[2]=e[2],this.matrix[3]=e[3],this.matrix[4]=e[4],this.matrix[5]=e[5],this.matrix[6]=e[6],this.matrix[7]=e[7],this.matrix[8]=e[8],this.matrix[9]=e[9],this.matrix[10]=e[10],this.matrix[11]=e[11],this.matrix[12]=e[12],this.matrix[13]=e[13],this.matrix[14]=e[14],this.matrix[15]=e[15]),this}identity(){return o.identity(this.matrix),this}}var pd={buildFromDegree:function(){return new fd(!0)},buildFromRadian:function(){return new fd(!1)}};const md={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:\"Float32Array\"};function hd(e,t,r={}){Object.assign(t,md,r),l.default.obj(e,t),l.default.setGet(e,t,[\"height\",\"radius\",\"resolution\",\"capping\"]),l.default.setGetArray(e,t,[\"center\",\"direction\"],3),l.default.algo(e,t,0,1),function(e,t){t.classHierarchy.push(\"vtkConeSource\"),e.requestData=function(e,r){if(t.deleted)return;let n=r[0];const i=2*Math.PI/t.resolution,o=-t.height/2,a=t.resolution+1,s=4*t.resolution+1+t.resolution;let u=0;const l=new window[t.pointType](3*a);let c=0;const d=new Uint32Array(s);l[0]=t.height/2,l[1]=0,l[2]=0,t.capping&&(d[c++]=t.resolution);for(let e=0;e<t.resolution;e++)l[3*++u+0]=o,l[3*u+1]=t.radius*Math.cos(e*i),l[3*u+2]=t.radius*Math.sin(e*i),t.capping&&(d[t.resolution-c+++1]=u);for(let e=0;e<t.resolution;e++)d[c++]=3,d[c++]=0,d[c++]=e+1,d[c++]=e+2>t.resolution?1:e+2;pd.buildFromRadian().translate(...t.center).rotateFromDirections([1,0,0],t.direction).apply(l),(n=Yc.newInstance()).getPoints().setData(l,3),n.getPolys().setData(d,1),r[0]=n}}(e,t)}var Td={newInstance:l.default.newInstance(hd,\"vtkConeSource\"),extend:hd},Dd=r(10),yd=r.n(Dd);const Nd=ud.newInstance(),Ed=Nd.getRenderer(),Id=Nd.getRenderWindow(),xd=Td.newInstance({height:1}),Ld=gd.newInstance();Ld.setInputConnection(xd.getOutputPort()),Ld.setFormula({getArrays:e=>({input:[],output:[{location:Co.CELL,name:\"Random\",dataType:\"Float32Array\",attribute:To.SCALARS}]}),evaluate:(e,t)=>{const[r]=t.map(e=>e.getData());for(let e=0;e<r.length;e++)r[e]=Math.random()}});const wd=Ms.newInstance();wd.setInputConnection(Ld.getOutputPort());const Cd=rd.newInstance();Cd.setMapper(wd),Ed.addActor(Cd),Ed.resetCamera(),Id.render(),Nd.addController(yd.a);const Od=document.querySelector(\".representations\"),Sd=document.querySelector(\".resolution\");Od.addEventListener(\"change\",e=>{const t=Number(e.target.value);Cd.getProperty().setRepresentation(t),Id.render()}),Sd.addEventListener(\"input\",e=>{const t=Number(e.target.value);xd.setResolution(t),Id.render()})},function(e,t){},function(e,t,r){var n;!function(i,o){var a,s=this,u=256,l=6,c=\"random\",d=o.pow(u,l),g=o.pow(2,52),M=2*g,A=u-1;function f(e,t,r){var n=[],f=m(function e(t,r){var n,i=[],o=typeof t;if(r&&\"object\"==o)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:\"string\"==o?t:t+\"\\0\"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,h(i)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),h(e)}catch(e){var t=s.navigator,r=t&&t.plugins;return[+new Date,s,r,s.screen,h(i)]}}():e,3),n),T=new function(e){var t,r=e.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];r||(e=[r++]);for(;i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=A&o+e[i%r]+(t=a[i])],a[o]=t;(n.g=function(e){for(var t,r=0,i=n.i,o=n.j,a=n.S;e--;)t=a[i=A&i+1],r=r*u+a[A&(a[i]=a[o=A&o+t])+(a[o]=t)];return n.i=i,n.j=o,r})(u)}(n),D=function(){for(var e=T.g(l),t=d,r=0;e<g;)e=(e+r)*u,t*=u,r=T.g(1);for(;e>=M;)e/=2,t/=2,r>>>=1;return(e+r)/t};return D.int32=function(){return 0|T.g(4)},D.quick=function(){return T.g(4)/4294967296},D.double=D,m(h(T.S),i),(t.pass||r||function(e,t,r,n){return n&&(n.S&&p(n,T),e.state=function(){return p(T,{})}),r?(o[c]=e,t):e})(D,f,\"global\"in t?t.global:this==o,t.state)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var r,n=e+\"\",i=0;i<n.length;)t[A&i]=A&(r^=19*t[A&i])+n.charCodeAt(i++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}if(o[\"seed\"+c]=f,m(o.random(),i),\"object\"==typeof e&&e.exports){e.exports=f;try{a=r(21)}catch(e){}}else void 0===(n=function(){return f}.call(t,r,t,e))||(e.exports=n)}([],Math)},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var r=new function(e){var t=this,r=\"\";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(\"object\"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.tychei=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var r=new function(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,o=t.i;return t.w=n=n+1640531527|0,r=i[o+34&127],e=i[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[o]=r^e,t.i=o,r+(n^n>>>16)|0},function(e,t){var r,n,i,o,a,s=[],u=128;for(t===(0|t)?(n=t,t=null):(t+=\"\\0\",n=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(a=a+1640531527|0,i=0==(r=s[127&o]^=n+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;e.w=a,e.X=s,e.i=i}(t,e)}(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.X&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.xor4096=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var r=new function(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],r^=(e^=e<<13)^e<<9,n[i]=r,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=\"\"+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.x&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.xorshift7=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var r=new function(e){var t=this,r=\"\";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(\"object\"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.xorwow=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var r=new function(e){var t=this,r=\"\";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(\"object\"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.xor128=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t,r){(function(e){var n;!function(e,i,o){function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var r=new function(e){var t,r=this,n=(t=4022871197,function(e){e=e.toString();for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)});r.next=function(){var e=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(\" \"),r.s1=n(\" \"),r.s2=n(\" \"),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1),n=null}(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,n&&(\"object\"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=s:r(2)&&r(4)?void 0===(n=function(){return s}.call(t,r,t,i))||(i.exports=n):this.alea=s}(0,\"object\"==typeof e&&e,r(2))}).call(this,r(5)(e))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,d=-1;function g(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&M())}function M(){if(!c){var e=s(g);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new A(e,t)),1!==l.length||c||s(M)},A.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,r){(function(e,t){!function(e,r){\"use strict\";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,d=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,\"[object process]\"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){A(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){A(e.data)},n=function(e){o.port2.postMessage(e)}):d&&\"onreadystatechange\"in d.createElement(\"script\")?(i=d.documentElement,n=function(e){var t=d.createElement(\"script\");t.onreadystatechange=function(){A(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(A,0,e)}:(a=\"setImmediate$\"+Math.random()+\"$\",s=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(a)&&A(+t.data.slice(a.length))},e.addEventListener?e.addEventListener(\"message\",s,!1):e.attachEvent(\"onmessage\",s),n=function(t){e.postMessage(a+t,\"*\")}),g.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},g.clearImmediate=M}function M(e){delete l[e]}function A(e){if(c)setTimeout(A,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{M(e),c=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,r(6),r(29))},function(e,t,r){(function(e){var n=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(30),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(6))}]);","extractedComments":[]}